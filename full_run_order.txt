2026-01-05T04:07:24.966Z pid=1574 tid=326 INFO: Sidekiq 7.3.8 connecting to Redis with options {size: 10, pool_name: "internal", url: "redis://redis:6379/12"}

Randomized with seed 1234

PlantEnvironment
  validations
    is valid with valid attributes
    is not valid with duplicate plant and environment pair
    is not valid without a plant
    is not valid without an environment
  associations
    belongs to a plant
    belongs to an environment

Manufacturing::Construction::CoveringCalculator
  .calculate_printer_requirements
    calculates required 3D printer capacity
  .estimate_construction_time
    estimates construction time based on skylight size
  .calculate_materials
    calculates required 3D-printed I-beams from regolith

Housing
  population management
    calculates available capacity
    checks if it has capacity for additional population
    ignores non-habitat units when calculating capacity
    calculates total population from base units
    uses alias total_capacity for population_capacity
    calculates population capacity from habitat units

Galaxy
  galaxy properties
    has expected attributes
    can store galaxy attributes
  #total_mass
    calculates total mass properly (PENDING: Implement this when total_mass method exists)
  .create_with_random_properties
    handles a mix of specified and random properties
    uses provided options when given
    creates a galaxy with the given identifier
    generates random properties when not specified
  spatial context
    can be assigned a spatial location
  validations
    validates presence of identifier
    validates uniqueness of identifier
  callbacks
    generates a random alphanumeric name if none provided
    generates a unique name before create if name is not present
  #name
    returns the identifier if name is not present
    returns the name if present
  associations
    has many solar systems
    has one spatial location
  galaxy type
    accepts different galaxy types

Market::Marketplace
  associations
    is expected to have many market_conditions class_name => Market::Condition dependent => destroy
    is expected to belong to settlement class_name => Settlement::BaseSettlement required: true
  table configuration
    uses the correct table name
  #current_market_condition
    returns nil for a resource that does not exist
    returns the market condition for a given resource
  #find_matching_orders
    when order is a Sell order
      calls the settlement NPC methods
    when order is not a Sell order
      returns an empty array
  #place_order
    converts volume parameter to quantity
    removes unused parameters
    creates an order
    sets the base_settlement_id
    when order is partially filled
      returns the order
    when order is fully filled
      returns nil
      sets order quantity to zero
    when no matching orders exist
      returns the unfilled order
  #execute_trades
    delegates the entire trade execution to Market::TradeExecutionService
    updates the order quantity to zero when fully filled
    wraps the execution in a transaction
    when partially filled
      updates the order quantity to remaining amount

CelestialBodies::Satellites::IceMoon
  has ice composition
  is valid with valid attributes

Craft::BaseCraft
  variant configuration
    provides a list of available variants
    loads a variant configuration
    handles missing variants gracefully
    changes between variants
  location handling
    can access location through helper method
    can switch between spatial and celestial locations
  loading craft info
    loads the correct craft data from the lookup service
  unit integration
    integrates with settlement units
  player construction
    allows installing units
    starts with no units
    allows uninstalling units (FAILED - 1)
  associations
    is expected to have one spatial_location
    is expected to have one atmosphere dependent => destroy
    is expected to have one celestial_location
    is expected to belong to owner required: true
  atmosphere creation
    creates an atmosphere after creation
  initialization
    assembles a new craft from inventory and applies the correct variant (FAILED - 2)
  
An error occurred in an `after(:context)` hook.
Failure/Error: @alpha_base_settlement_instance&.destroy # Destroy the settlement and its dependents

ActiveRecord::StatementInvalid:
  PG::UndefinedColumn: ERROR:  column material_processing_jobs.base_settlement_id does not exist
  LINE 1: ...ing_jobs".* FROM "material_processing_jobs" WHERE "material_...
                                                               ^
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:837:in 'PG::Connection#prepare'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:837:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#prepare_statement'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:832:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#prepare_statement'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:778:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_cache'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:747:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:54:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_query'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:560:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#select'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:66:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#select_all'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:110:in 'ActiveRecord::ConnectionAdapters::QueryCache#select_all'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:54:in 'ActiveRecord::Querying#_query_by_sql'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:50:in 'ActiveRecord::Querying#find_by_sql'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/statement_cache.rb:150:in 'ActiveRecord::StatementCache#execute'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/association.rb:232:in 'ActiveRecord::Associations::Association#find_target'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/collection_association.rb:264:in 'ActiveRecord::Associations::CollectionAssociation#load_target'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/has_many_association.rb:27:in 'ActiveRecord::Associations::HasManyAssociation#handle_dependency'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/builder/association.rb:141:in 'block in ActiveRecord::Associations::Builder::Association.add_destroy_callbacks'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:467:in 'BasicObject#instance_exec'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:467:in 'block in ActiveSupport::Callbacks::CallTemplate::InstanceExec1#make_lambda'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:199:in 'block (2 levels) in ActiveSupport::Callbacks::Filters::Before.halting'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:687:in 'block (2 levels) in ActiveSupport::Callbacks::CallbackChain#default_terminator'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:686:in 'Kernel#catch'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:686:in 'block in ActiveSupport::Callbacks::CallbackChain#default_terminator'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:200:in 'block in ActiveSupport::Callbacks::Filters::Before.halting'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:595:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:595:in 'Array#each'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:595:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:106:in 'ActiveSupport::Callbacks#run_callbacks'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
# /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
# /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
# ./spec/models/craft/base_craft_spec.rb:80:in 'block (2 levels) in <main>'
# ------------------
# --- Caused by: ---
# PG::UndefinedColumn:
#   ERROR:  column material_processing_jobs.base_settlement_id does not exist
#   LINE 1: ...ing_jobs".* FROM "material_processing_jobs" WHERE "material_...
#                                                                ^
#   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:837:in 'PG::Connection#prepare'

GameSimulation
  #process_celestial_bodies
  Simulating: Earth
    simulates only bodies that should be simulated
  Simulating: Mars
    logs errors if simulation fails (FAILED - 3)
  #advance_by_days
    when days is zero or negative
      does not advance the game
    when days is positive
====================
Advancing game by 1 days
Current: Year 2200, Day 364.0
====================
      handles year rollover correctly (FAILED - 4)
====================
Advancing game by 5 days
Current: Year 2200, Day 100.0
====================
      advances the game time and saves the state (FAILED - 5)
  #initialize
    sets the game_state

Terraforming Integration
  realistic terraforming scenario
  Habitability: 60.33% (O2:51% Temp:100% H2O:53% P:0%)
  Habitability: 60.33% (O2:51% Temp:100% H2O:53% P:0%)
Simulating population dynamics for 1 species
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10000000000
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10001132112
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10002264352
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10003396721
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10004529218
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10005661843
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10006794596
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10007927477
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10009060487
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10010193625
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10011326891
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10012460286
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10013593809
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10014727460
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10015861240
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10016995148
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10018129184
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10019263349
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10020397642
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10021532063
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10022666613
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10023801291
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10024936098
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10026071033
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10027206097
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10028341289
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10029476610
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10030612059
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10031747637
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10032883343
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10034019178
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10035155142
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10036291234
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10037427455
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10038563804
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10039700282
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10040836889
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10041973624
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10043110488
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10044247481
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10045384603
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10046521853
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10047659232
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10048796740
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10049934377
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10051072142
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10052210036
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10053348059
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10054486211
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10055624492
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10056762902
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10057901440
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10059040107
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10060178903
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10061317828
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10062456882
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10063596065
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10064735377
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10065874818
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10067014388
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10068154087
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10069293915
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10070433872
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10071573958
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10072714173
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10073854517
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10074994990
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10076135592
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10077276324
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10078417185
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10079558175
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10080699294
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10081840542
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10082981919
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10084123426
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10085265062
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10086406827
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10087548721
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10088690745
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10089832898
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10090975180
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10092117592
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10093260133
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10094402803
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10095545603
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10096688532
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10097831590
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10098974778
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10100118095
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10101261542
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10102405118
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10103548824
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10104692659
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10105836624
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10106980718
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10108124942
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10109269295
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10110413778
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10111558390
[simulate_growth] base_growth_rate: 
1.0001876555494258
 habitability: 
0.6032929544264013
 growth_factor: 
1.0001132112708275
 population: 
10112703132
Managing food web dynamics in #<CelestialBodies::Spheres::Biosphere:0x00007fa31ecb2d20>
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 5.0
  Adjusting global temperatures:
  - Tropical: 290.0 → 290.0
  - Polar: 270.0 → 276.30555555555554
  - Target: 290.0 (based on biome optima)
[DEBUG] Cyanobacteria O2 contribution: 5.0569240015 (population: 10113848003)
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=280.0K, Liquid H2O=5.0%, Pop=10113848003
Using life form atmospheric effects (1 species)
Life form contributions per day: O2=5.0569240015, CO2 consumed=6.0683088018, CH4=0.0
Atmosphere changes over 100 days:
  O2:  0.1362 → 5.1362 (+5.0%)
  CO2: 99.8638 → 94.8638 (-5.0%)
  CH4: 0.0 → 0.0 (+0.0%)
Calculated gas deltas using total_mass 2.38625e+16: O2=1.193125e+15, CO2=-1.193125e+15, CH4=0.0
  Habitability: 67.83% (O2:76% Temp:100% H2O:53% P:0%)
  Habitability: 67.83% (O2:76% Temp:100% H2O:53% P:0%)

✓ Terraforming Demo Complete
  Initial O2: 0.136197%
  Final O2:   5.136197%
  Change:     +5.0%
    demonstrates full terraforming workflow
  end-to-end terraforming simulation
    creates a barren planet with correct initial conditions
    without life forms
  Habitability: 58.33% (O2:51% Temp:100% H2O:53% P:0%)
  Habitability: 58.33% (O2:51% Temp:100% H2O:53% P:0%)
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 5.0
  Adjusting global temperatures:
  - Tropical: 295.0 → 295.0
  - Polar: 275.0 → 281.399444444444444444444444444444444445
  - Target: 295.0 (based on biome optima)
[DEBUG] No Cyanobacteria present in biosphere.
[BiosphereAtmosphere] No organisms - using fallback gas changes
Atmosphere changes over 1 days:
  O2:  0.1362 → 5.1362 (+5.0%)
  CO2: 99.8638 → 94.8638 (-5.0%)
  CH4: 0.0 → 0.5 (+0.5%)
Calculated gas deltas using total_mass 2.38625e+16: O2=1.193125e+15, CO2=-1.193125e+15, CH4=119312500000000.0
  Habitability: 65.79% (O2:76% Temp:100% H2O:53% P:0%)
  Habitability: 65.79% (O2:76% Temp:100% H2O:53% P:0%)
      uses fallback values when no terraforming organisms exist
    with starter ecosystem deployed
      deploys life forms successfully
      life forms have atmospheric contribution
      life form populations over time
  Habitability: 62.33% (O2:51% Temp:100% H2O:53% P:0%)
  Habitability: 62.33% (O2:51% Temp:100% H2O:53% P:0%)
Simulating population dynamics for 2 species
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5000000000
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5000433246
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5000866530
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5001299851
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5001733210
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5002166606
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5002600040
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5003033512
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5003467021
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5003900568
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5004334152
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5004767774
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5005201433
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5005635130
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5006068865
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5006502637
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5006936447
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5007370294
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5007804179
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5008238101
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5008672061
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5009106059
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5009540094
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5009974167
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5010408277
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5010842425
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5011276611
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5011710834
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5012145095
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5012579394
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5013013730
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5013448104
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5013882515
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5014316964
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5014751451
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5015185975
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5015620537
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5016055137
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5016489774
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5016924449
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5017359162
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5017793912
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5018228700
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5018663526
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5019098389
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5019533290
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5019968229
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5020403205
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5020838219
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5021273271
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000086649
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000173305
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000259969
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000346640
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000433319
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000520005
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000606699
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000693400
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000780109
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000866825
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000953549
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1001040280
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1001127019
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1001213766
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1001300520
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1001387282
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1001474051
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1001560828
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1001647612
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1001734404
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1001821203
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1001908010
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1001994824
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1002081646
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1002168475
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1002255312
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1002342156
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1002429008
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1002515867
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1002602734
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1002689608
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1002776490
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1002863379
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1002950276
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1003037180
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1003124092
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1003211012
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1003297939
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1003384874
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1003471816
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1003558766
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1003645723
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1003732688
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1003819660
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1003906640
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1003993627
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1004080622
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1004167624
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1004254634
Managing food web dynamics in #<CelestialBodies::Spheres::Biosphere:0x00007fa319914740>
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 5.0
  Adjusting global temperatures:
  - Tropical: 295.0 → 295.0
  - Polar: 275.0 → 281.399444444444444444444444444444444445
  - Target: 295.0 (based on biome optima)
[DEBUG] Cyanobacteria O2 contribution: 0.40173666888 (population: 5021708361)
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=285.0K, Liquid H2O=5.0%, Pop=6026050013
Using life form atmospheric effects (2 species)
Life form contributions per day: O2=0.52225766712, CO2 consumed=0.6528220839, CH4=0.0
Atmosphere changes over 50 days:
  O2:  0.1362 → 5.1362 (+5.0%)
  CO2: 99.8638 → 94.8638 (-5.0%)
  CH4: 0.0 → 0.0 (+0.0%)
Calculated gas deltas using total_mass 2.38625e+16: O2=1.193125e+15, CO2=-1.193125e+15, CH4=0.0
  Habitability: 69.99% (O2:76% Temp:100% H2O:53% P:0%)
  Habitability: 69.83% (O2:76% Temp:100% H2O:53% P:0%)
        maintains or grows populations under favorable conditions
      combined effects from multiple species
  Habitability: 62.33% (O2:51% Temp:100% H2O:53% P:0%)
  Habitability: 62.33% (O2:51% Temp:100% H2O:53% P:0%)
Simulating population dynamics for 2 species
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5000000000
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5000433246
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5000866530
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5001299851
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5001733210
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5002166606
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5002600040
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5003033512
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5003467021
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5003900568
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000086649
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000173305
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000259969
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000346640
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000433319
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000520005
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000606699
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000693400
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000780109
Managing food web dynamics in #<CelestialBodies::Spheres::Biosphere:0x00007fa31a7fdae0>
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 5.0
  Adjusting global temperatures:
  - Tropical: 295.0 → 295.0
  - Polar: 275.0 → 281.399444444444444444444444444444444445
  - Target: 295.0 (based on biome optima)
[DEBUG] Cyanobacteria O2 contribution: 0.40034673216000005 (population: 5004334152)
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=285.0K, Liquid H2O=5.0%, Pop=6005200977
Using life form atmospheric effects (2 species)
Life form contributions per day: O2=0.5204507511600001, CO2 consumed=0.65056343895, CH4=0.0
Atmosphere changes over 10 days:
  O2:  0.1362 → 5.1362 (+5.0%)
  CO2: 99.8638 → 94.8638 (-5.0%)
  CH4: 0.0 → 0.0 (+0.0%)
Calculated gas deltas using total_mass 2.38625e+16: O2=1.193125e+15, CO2=-1.193125e+15, CH4=0.0
  Habitability: 69.99% (O2:76% Temp:100% H2O:53% P:0%)
  Habitability: 69.83% (O2:76% Temp:100% H2O:53% P:0%)
        aggregates atmospheric effects from all life forms
      simulation over time
  Habitability: 62.33% (O2:51% Temp:100% H2O:53% P:0%)
  Habitability: 62.33% (O2:51% Temp:100% H2O:53% P:0%)
Simulating population dynamics for 2 species
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5000000000
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5000433246
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5000866530
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5001299851
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5001733210
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5002166606
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5002600040
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5003033512
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5003467021
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5003900568
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000086649
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000173305
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000259969
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000346640
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000433319
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000520005
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000606699
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000693400
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000780109
Managing food web dynamics in #<CelestialBodies::Spheres::Biosphere:0x00007fa319e40ca0>
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 5.0
  Adjusting global temperatures:
  - Tropical: 295.0 → 295.0
  - Polar: 275.0 → 281.399444444444444444444444444444444445
  - Target: 295.0 (based on biome optima)
[DEBUG] Cyanobacteria O2 contribution: 0.40034673216000005 (population: 5004334152)
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=285.0K, Liquid H2O=5.0%, Pop=6005200977
Using life form atmospheric effects (2 species)
Life form contributions per day: O2=0.5204507511600001, CO2 consumed=0.65056343895, CH4=0.0
Atmosphere changes over 10 days:
  O2:  0.1362 → 5.1362 (+5.0%)
  CO2: 99.8638 → 94.8638 (-5.0%)
  CH4: 0.0 → 0.0 (+0.0%)
Calculated gas deltas using total_mass 2.38625e+16: O2=1.193125e+15, CO2=-1.193125e+15, CH4=0.0
  Habitability: 69.99% (O2:76% Temp:100% H2O:53% P:0%)
  Habitability: 69.83% (O2:76% Temp:100% H2O:53% P:0%)
  Habitability: 70.31% (O2:77% Temp:100% H2O:53% P:0%)
  Habitability: 70.31% (O2:77% Temp:100% H2O:53% P:0%)
Simulating population dynamics for 2 species
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5004334152
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5004823274
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5005312444
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5005801662
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5006290928
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5006780241
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5007269602
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5007759011
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5008248468
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5008737973
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5009227526
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5009717126
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5010206774
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5010696470
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
5011186214
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1000866825
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1000964649
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1001062483
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1001160326
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1001258179
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1001356041
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1001453913
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1001551794
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1001649685
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1001747586
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1001845496
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1001943416
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1002041345
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1002139284
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.7030696277062336
 growth_factor: 
1.000097739790659
 population: 
1002237232
Managing food web dynamics in #<CelestialBodies::Spheres::Biosphere:0x00007fa319e40ca0>
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 5.0
  Adjusting global temperatures:
  - Tropical: 295.0 → 295.0
  - Polar: 281.39944444444444 → 285.7512444290123020167222222222222222226000154320987655
  - Target: 295.0 (based on biome optima)
[DEBUG] Cyanobacteria O2 contribution: 0.40093408048 (population: 5011676006)
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=285.0K, Liquid H2O=5.0%, Pop=6014011196
Using life form atmospheric effects (2 species)
Life form contributions per day: O2=0.52121430328, CO2 consumed=0.6515178791, CH4=0.0
Atmosphere changes over 15 days:
  O2:  5.4546 → 10.4546 (+5.0%)
  CO2: 94.4657 → 89.4657 (-5.0%)
  CH4: 0.0 → 0.0 (+0.0%)
Calculated gas deltas using total_mass 2.38625e+16: O2=1.193125e+15, CO2=-1.193125e+15, CH4=0.0
  Habitability: 77.13% (O2:100% Temp:100% H2O:53% P:0%)
  Habitability: 77.13% (O2:100% Temp:100% H2O:53% P:0%)
  Habitability: 77.13% (O2:100% Temp:100% H2O:53% P:0%)
  Habitability: 77.13% (O2:100% Temp:100% H2O:53% P:0%)
Simulating population dynamics for 2 species
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5011676006
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5012213348
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5012750748
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5013288205
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5013825720
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5014363293
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5014900923
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5015438611
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5015976356
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5016514159
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5017052020
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5017589938
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5018127914
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5018665948
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5019204039
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5019742188
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5020280395
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5020818660
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5021356982
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5021895362
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5022433800
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5022972295
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5023510848
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5024049459
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5024588128
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5025126854
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5025665638
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5026204480
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5026743380
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5027282338
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1002335190
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1002442658
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1002550138
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1002657629
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1002765132
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1002872646
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1002980172
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1003087709
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1003195258
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1003302818
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1003410390
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1003517973
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1003625568
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1003733174
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1003840792
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1003948421
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1004056062
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1004163715
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1004271379
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1004379055
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1004486742
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1004594441
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1004702151
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1004809873
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1004917606
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1005025351
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1005133107
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1005240875
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1005348655
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1005456446
Managing food web dynamics in #<CelestialBodies::Spheres::Biosphere:0x00007fa319e40ca0>
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 5.0
  Adjusting global temperatures:
  - Tropical: 295.0 → 295.0
  - Polar: 285.7512444290123 → 288.7105893018514004387222222222222222224791320991941035
  - Target: 295.0 (based on biome optima)
[DEBUG] Cyanobacteria O2 contribution: 0.40222570824000003 (population: 5027821353)
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=285.0K, Liquid H2O=5.0%, Pop=6033385602
Using life form atmospheric effects (2 species)
Life form contributions per day: O2=0.52289341812, CO2 consumed=0.6536167726500001, CH4=0.0
Atmosphere changes over 30 days:
  O2:  10.4379 → 15.4379 (+5.0%)
  CO2: 89.4867 → 84.4867 (-5.0%)
  CH4: 0.0 → 0.0 (+0.0%)
Calculated gas deltas using total_mass 2.38625e+16: O2=1.193125e+15, CO2=-1.193125e+15, CH4=0.0
  Habitability: 77.13% (O2:100% Temp:100% H2O:53% P:0%)
  Habitability: 77.13% (O2:100% Temp:100% H2O:53% P:0%)
  Habitability: 77.13% (O2:100% Temp:100% H2O:53% P:0%)
  Habitability: 77.13% (O2:100% Temp:100% H2O:53% P:0%)
Simulating population dynamics for 2 species
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5027821353
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5028360426
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5028899557
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5029438746
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5029977993
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5030517297
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5031056659
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5031596079
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5032135557
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5032675093
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5033214687
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5033754338
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5034294047
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5034833814
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5035373639
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5035913522
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5036453463
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5036993462
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5037533519
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5038073633
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5038613805
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5039154035
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5039694323
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5040234669
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5040775073
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5041315535
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5041856055
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5042396633
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5042937269
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5043477963
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5044018715
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5044559525
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5045100393
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5045641319
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5046182303
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5046723345
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5047264445
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5047805603
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5048346819
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5048888093
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5049429425
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5049970815
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5050512263
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5051053769
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5051595333
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5052136955
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5052678635
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5053220373
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5053762169
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5054304023
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5054845936
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5055387907
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5055929936
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5056472023
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5057014168
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5057556371
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5058098632
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5058640951
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5059183329
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5059725765
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5060268259
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5060810811
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5061353421
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5061896089
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5062438816
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5062981601
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5063524444
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5064067345
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5064610304
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
5065153322
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1005564249
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1005672063
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1005779889
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1005887726
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1005995575
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1006103435
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1006211307
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1006319191
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1006427086
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1006534993
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1006642911
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1006750841
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1006858782
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1006966735
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1007074700
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1007182676
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1007290664
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1007398663
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1007506674
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1007614696
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1007722730
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1007830776
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1007938833
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1008046902
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1008154982
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1008263074
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1008371178
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1008479293
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1008587420
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1008695558
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1008803708
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1008911870
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1009020043
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1009128228
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1009236424
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1009344632
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1009452852
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1009561083
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1009669326
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1009777580
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1009885846
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1009994124
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1010102413
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1010210714
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1010319026
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1010427350
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1010535686
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1010644033
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1010752392
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1010860762
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1010969144
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1011077538
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1011185943
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1011294360
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1011402789
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1011511229
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1011619681
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1011728144
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1011836619
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1011945106
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1012053604
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1012162114
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1012270636
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1012379169
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1012487714
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1012596271
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1012704839
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1012813419
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1012922010
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.77125
 growth_factor: 
1.0001072181339872
 population: 
1013030613
Managing food web dynamics in #<CelestialBodies::Spheres::Biosphere:0x00007fa319e40ca0>
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 5.0
  Adjusting global temperatures:
  - Tropical: 295.0 → 295.0
  - Polar: 288.7105893018514 → 290.723026019406216690777777777777777777952483630504127
  - Target: 295.0 (based on biome optima)
[DEBUG] Cyanobacteria O2 contribution: 0.40525571184000003 (population: 5065696398)
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=285.0K, Liquid H2O=5.0%, Pop=6078835626
Using life form atmospheric effects (2 species)
Life form contributions per day: O2=0.5268324192, CO2 consumed=0.658540524, CH4=0.0
Atmosphere changes over 70 days:
  O2:  15.4211 → 20.4211 (+5.0%)
  CO2: 84.5077 → 79.5077 (-5.0%)
  CH4: 0.0 → 0.0 (+0.0%)
Calculated gas deltas using total_mass 2.38625e+16: O2=1.193125e+15, CO2=-1.193125e+15, CH4=0.0
  Habitability: 77.13% (O2:100% Temp:100% H2O:53% P:0%)
  Habitability: 77.13% (O2:100% Temp:100% H2O:53% P:0%)
        shows progressive changes over 100 days
  Habitability: 62.33% (O2:51% Temp:100% H2O:53% P:0%)
  Habitability: 62.33% (O2:51% Temp:100% H2O:53% P:0%)
Simulating population dynamics for 2 species
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5000000000
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000000000
Managing food web dynamics in #<CelestialBodies::Spheres::Biosphere:0x00007fa31d785b50>
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 5.0
  Adjusting global temperatures:
  - Tropical: 295.0 → 295.0
  - Polar: 275.0 → 281.399444444444444444444444444444444445
  - Target: 295.0 (based on biome optima)
[DEBUG] Cyanobacteria O2 contribution: 0.40003465968 (population: 5000433246)
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=285.0K, Liquid H2O=5.0%, Pop=6000519895
Using life form atmospheric effects (2 species)
Life form contributions per day: O2=0.52004505756, CO2 consumed=0.65005632195, CH4=0.0
Atmosphere changes over 1 days:
  O2:  0.1362 → 0.6562 (+0.520045%)
  CO2: 99.8638 → 99.2137 (-0.650056%)
  CH4: 0.0 → 0.0 (+0.0%)
Calculated gas deltas using total_mass 2.38625e+16: O2=124095751860255.0, CO2=-155119689825318.75, CH4=0.0
  Habitability: 63.28% (O2:54% Temp:100% H2O:53% P:0%)
  Habitability: 63.11% (O2:53% Temp:100% H2O:53% P:0%)
  Habitability: 62.67% (O2:52% Temp:100% H2O:53% P:0%)
  Habitability: 62.67% (O2:52% Temp:100% H2O:53% P:0%)
Simulating population dynamics for 2 species
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
5000433246
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
5000868867
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
5001304526
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
5001740223
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
5002175958
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
5002611731
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
5003047542
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
5003483391
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
5003919278
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
5004355203
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
1000086649
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
1000173773
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
1000260904
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
1000348043
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
1000435190
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
1000522344
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
1000609506
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
1000696675
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
1000783852
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6266552349416588
 growth_factor: 
1.000087116764919
 population: 
1000871037
Managing food web dynamics in #<CelestialBodies::Spheres::Biosphere:0x00007fa31d785b50>
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 5.0
  Adjusting global temperatures:
  - Tropical: 295.0 → 295.0
  - Polar: 281.39944444444444 → 285.7512444290123020167222222222222222226000154320987655
  - Target: 295.0 (based on biome optima)
[DEBUG] Cyanobacteria O2 contribution: 0.40038329328000005 (population: 5004791166)
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=285.0K, Liquid H2O=5.0%, Pop=6005749395
Using life form atmospheric effects (2 species)
Life form contributions per day: O2=0.52049828076, CO2 consumed=0.65062285095, CH4=0.0
Atmosphere changes over 10 days:
  O2:  0.3603 → 5.3603 (+5.0%)
  CO2: 99.5837 → 94.5837 (-5.0%)
  CH4: 0.0 → 0.0 (+0.0%)
Calculated gas deltas using total_mass 2.37825: O2=0.12, CO2=-0.12, CH4=0.0
  Habitability: 69.99% (O2:76% Temp:100% H2O:53% P:0%)
  Habitability: 69.83% (O2:76% Temp:100% H2O:53% P:0%)
        scales effects by time parameter
  Habitability: 62.33% (O2:51% Temp:100% H2O:53% P:0%)
  Habitability: 62.33% (O2:51% Temp:100% H2O:53% P:0%)
Simulating population dynamics for 2 species
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5000000000
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000000000
Managing food web dynamics in #<CelestialBodies::Spheres::Biosphere:0x00007fa32e1c8990>
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 5.0
  Adjusting global temperatures:
  - Tropical: 295.0 → 295.0
  - Polar: 275.0 → 281.399444444444444444444444444444444445
  - Target: 295.0 (based on biome optima)
[DEBUG] Cyanobacteria O2 contribution: 0.40003465968 (population: 5000433246)
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=285.0K, Liquid H2O=5.0%, Pop=6000519895
Using life form atmospheric effects (2 species)
Life form contributions per day: O2=0.52004505756, CO2 consumed=0.65005632195, CH4=0.0
Atmosphere changes over 1 days:
  O2:  0.1362 → 0.6562 (+0.520045%)
  CO2: 99.8638 → 99.2137 (-0.650056%)
  CH4: 0.0 → 0.0 (+0.0%)
Calculated gas deltas using total_mass 2.38625e+16: O2=124095751860255.0, CO2=-155119689825318.75, CH4=0.0
  Habitability: 63.28% (O2:54% Temp:100% H2O:53% P:0%)
  Habitability: 63.11% (O2:53% Temp:100% H2O:53% P:0%)
        increases oxygen levels after 1 day
  Habitability: 62.33% (O2:51% Temp:100% H2O:53% P:0%)
  Habitability: 62.33% (O2:51% Temp:100% H2O:53% P:0%)
Simulating population dynamics for 2 species
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
5000000000
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.6232929544264013
 growth_factor: 
1.00008664934522
 population: 
1000000000
Managing food web dynamics in #<CelestialBodies::Spheres::Biosphere:0x00007fa31a59e4c0>
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 5.0
  Adjusting global temperatures:
  - Tropical: 295.0 → 295.0
  - Polar: 275.0 → 281.399444444444444444444444444444444445
  - Target: 295.0 (based on biome optima)
[DEBUG] Cyanobacteria O2 contribution: 0.40003465968 (population: 5000433246)
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=285.0K, Liquid H2O=5.0%, Pop=6000519895
Using life form atmospheric effects (2 species)
Life form contributions per day: O2=0.52004505756, CO2 consumed=0.65005632195, CH4=0.0
Atmosphere changes over 1 days:
  O2:  0.1362 → 0.6562 (+0.520045%)
  CO2: 99.8638 → 99.2137 (-0.650056%)
  CH4: 0.0 → 0.0 (+0.0%)
Calculated gas deltas using total_mass 2.38625e+16: O2=124095751860255.0, CO2=-155119689825318.75, CH4=0.0
  Habitability: 63.28% (O2:54% Temp:100% H2O:53% P:0%)
  Habitability: 63.11% (O2:53% Temp:100% H2O:53% P:0%)
        decreases CO2 levels after 1 day

CelestialBodies::Materials::Base
  inherits from the original Material class
  uses the materials table

SimulationController
  GET #index
    with existing solar system
      assigns the primary star
      assigns solar system and its celestial bodies (FAILED - 6)
    without solar system
      assigns all celestial bodies
  GET #run
    handles errors gracefully
    runs simulation for specific celestial body
  GET #run_all
    without solar system
      handles missing solar system gracefully
    with existing solar system
      runs simulation for all celestial bodies (FAILED - 7)

Wormhole
  #traverse!
    with endpoint shifting
      does not shift stabilized endpoint A when mass limit is hit
      does not shift stabilized endpoint B when mass limit is hit
      randomizes coordinates of endpoint B when not stabilized and mass limit is hit
      randomizes coordinates of endpoint A when not stabilized and mass limit is hit
  #safe_for_travel?
    with enough operational stabilizers
      is safe
    with insufficient operational stabilizers
      is not safe
  associations
    is expected to belong to solar_system_b class_name => SolarSystem required: true
    is expected to belong to solar_system_a class_name => SolarSystem required: true
    is expected to have many stabilizers class_name => Craft::BaseCraft inverse_of => stabilizing_wormhole
    is expected to have many endpoints class_name => Location::SpatialLocation dependent => destroy
  validations
    validates different systems
    is expected to validate that :wormhole_type cannot be empty/falsy
    is expected to validate that :solar_system_a cannot be empty/falsy
    does not allow zero or negative mass limits
    is expected to validate that :solar_system_b cannot be empty/falsy
  #stabilization_satellites (integration)
All matching satellites: 3, IDs: 2398, 2399, 2400
    returns deployed stabilization satellites within range of either endpoint
  after creation
    generates endpoints in both systems
  #stabilization_satellites
    returns deployed stabilization satellites within range of either endpoint
  #can_traverse?
    with insufficient mass limit
      returns false
    when one-way and already traversed
      returns false
    with sufficient mass limit
      returns true
  #operational_stabilizers
    returns a unique list of operational direct stabilizers and stabilization satellites
  #appearance_profile
    when natural wormhole
      and unstable
        returns :exotic_anomalous
      and stable without artificial station
        returns :naturally_anchored
      and has exotic resources
        returns :exotic_anomalous
      and has artificial station built
        returns :artificial_only_stabilized
      and has hazard zone
        returns :exotic_anomalous
    when artificial wormhole
      returns :artificial_only_stabilized

Settlement::OrbitalDepot
  #depot_status
    returns comprehensive status hash
  inheritance
    inherits from SpaceStation
    inherits from BaseSettlement
  #add_gas
    stores metadata with gas
    handles multiple gas types
    stores gas amount correctly
    raises error for negative amounts
    adds gas to inventory
    accumulates multiple additions
  #gas_inventory_summary
    groups by gas name
    returns empty hash when no gases
  #has_gas?
    returns false for non-existent gas
    returns true when sufficient gas available
    returns false when insufficient gas
  #total_gas_mass
    returns 0 when empty
    sums all gas types
    excludes non-gas items if present
  #get_gas
    filters by metadata when provided
    returns correct amount for existing gas
    returns 0 for non-existent gas
  realistic terraforming scenario
    handles H2 import from Saturn for O2 management
    handles Sabatier reaction H2 consumption
    tracks multiple import batches
  integration with TerraformingManager
    provides interface compatible with PORO OrbitalDepot
  #remove_gas
    raises error for negative amounts
    filters by metadata when provided
    caps removal at available amount
    removes gas from inventory
    returns 0 when gas not available

CryptocurrencyMining
  #mine_gcc
    updates internal funds after mining
    correctly updates the account balance with mined GCC

Market::Order
  is invalid without order_type
  requires an orderable
  belongs to market_condition
  is invalid without quantity
  supports polymorphic orderable association
  can be associated with a base_settlement_id
  is valid with valid attributes
  requires a market_condition

Naming::PlanetNameService
  #find_unused_name
    uses deterministic selection based on system and index
  #unique?
    checks database for existing planets
    returns false for used names
    returns true for unused names
  #initialize
    loads name data from JSON file
    handles missing data file gracefully
  #generate_planet_name
    adds suffix when name is not unique
    marks name as used after generation
    returns a terraformed name when terraformable is true
    returns a neutral name when terraformable is false
  #add_suffix_to_name
    adds a suffix to the base name

Craft::VariantManager
  #initialize
    loads base data and variants
    handles non-existent craft types gracefully
  #available_variants
    returns a list of available variant IDs
    returns an empty array when no variants exist
  #get_variant
    merges base data with lunar variant data
    merges base data with standard variant data
    returns nil for non-existent variant
    properly merges nested hashes

Generators::ValleyGenerator
  #generate
    with random generation
      creates random access points
      creates a valley with random features
      generates random dimensions
      generates segments
    with predefined parameters
      creates predefined access points
      creates a valley with specified parameters

Structures::Coverable
  required interface from Enclosable
    requires width_m to be implemented
    requires length_m to be implemented
  #complete_covering!
    sets construction_date
    fails if not under construction
    completes covering when under construction
  #calculate_equipment_needs
    includes tools from blueprint
    includes crew requirements
    returns array of equipment requirements
  complete covering workflow
    goes through full lifecycle
  #estimate_covering_time
    returns time estimate in hours
    uses blueprint installation time if available
    accepts custom panel type
    scales with area
  #schedule_covering!
    creates a construction job
    returns success result
    creates material and equipment requests
    accepts custom panel type
    stores panel_type on coverable
    requires settlement
    updates shell composition
    uses default panel type if not specified
    updates status to materials_requested
    fails if already covered
  integration scenarios
    skylight covering
      handles small circular opening
    lava tube opening
      handles medium opening
    worldhouse segment covering
      handles massive rectangular span
  #calculate_covering_materials
    returns materials hash
    accepts custom panel type
    does not create construction job
    scales materials by area
  associations
    has material_requests association
    has equipment_requests association
    has construction_jobs association
  status helpers
    #uncovered?
      returns true when natural
      returns true when uncovered
      returns false when covered
    #covered?
      returns true when primary cover installed
      returns true when fully covered
      returns false when under construction
      returns false when materials requested
      returns false when uncovered
    #under_construction?
      returns true when under construction
      returns false otherwise
    #materials_requested?
      returns true when materials requested
      returns false otherwise
  area calculations from Enclosable
    #area_m2
      with circular dimensions
        calculates area using diameter
      with rectangular dimensions
        calculates area as width × length
      with very large dimensions
        handles worldhouse scale
    #area_km2
      converts square meters to square kilometers
  attributes
    has cover_status attribute
    has construction_date attribute
    defaults cover_status to uncovered
    has estimated_completion attribute
    has panel_type attribute
  concern inclusion
    includes Enclosable
    inherits all Enclosable functionality
  #active_construction_job
    returns job with in_progress status
    returns nil when no construction jobs exist
    returns job with materials_pending status
    ignores completed jobs
    returns the first active job if multiple exist

FittingService
  - Installing 1x efficiency_module
    ✅ Installed efficiency_module (ID: 508)
  - Installing 1x gpu_coprocessor_rig
    ✅ Installed gpu_coprocessor_rig (ID: 185)
Unit definition not found: satellite_battery
  fits all components from inventory (FAILED - 8)
  - Installing 1x efficiency_module
    ✅ Installed efficiency_module (ID: 509)
  - Installing 1x gpu_coprocessor_rig
    ✅ Installed gpu_coprocessor_rig (ID: 186)
  fits components without inventory if inventory is nil (FAILED - 9)
  - Installing 1x efficiency_module
    ✅ Installed efficiency_module (ID: 510)
  - Installing 1x gpu_coprocessor_rig
    ✅ Installed gpu_coprocessor_rig (ID: 187)
  returns errors if inventory is missing items
  - Installing 1x efficiency_module
  - Installing 1x gpu_coprocessor_rig
  does not persist changes if dry_run is true

AtmosphericProcessing
  when included in a module (existing JSON format)
    air filtration module
      #atmospheric_capabilities
        identifies air filtration capability
      #process_atmosphere!
        air filtration
          filters air successfully
          fails when no contaminants removed
    CO2 venting module
      #atmospheric_capabilities
        identifies CO2 venting capability
      #process_atmosphere!
        CO2 venting
          vents CO2 to atmosphere with different rate
          vents CO2 to space successfully
          fails when operational mode doesn't exist
    CO2 scrubber module
      #process_atmosphere!
        CO2 scrubbing
          fails when insufficient CO2 in atmosphere
          scrubs CO2 from atmosphere successfully
          fails when cartridge is full
      #can_process_atmosphere?
        returns true when has atmospheric input/output resources
        returns false when no atmospheric resources
      #atmospheric_capabilities
        returns capabilities based on resource flow
  when included in a unit (new template format)
    with atmospheric processing capabilities
      #atmospheric_capabilities
        returns empty hash when can't process atmosphere
        returns capabilities based on processing types
      #can_process_atmosphere?
        returns false when atmospheric processing is disabled
        returns true when atmospheric processing is enabled
        returns false when processing_capabilities is missing
      #process_atmosphere!
        returns false for unsupported processing type
        CO2 to oxygen conversion
          processes CO2 to oxygen successfully
          fails when insufficient CO2 available
          fails when no atmosphere available
      #max_processing_rate
        returns 0 for unknown substance
        returns rate for CO₂ input
        returns rate for oxygen output
    without atmospheric processing capabilities
      fails to process atmosphere
      returns empty atmospheric capabilities
      cannot process atmosphere
  private helper methods
    #has_atmospheric_operations?
      returns true when has atmospheric resources
      returns false when no atmospheric resources
    #has_resource_flow?
      returns false when input missing
      returns false when output missing
      returns true when both input and output exist
    #has_processing_capabilities?
      returns false when atmospheric processing disabled
      returns true when atmospheric processing enabled
  error handling
    handles malformed operational_data gracefully
    handles missing operational_data gracefully
    handles missing attachable gracefully

AIManager::TerraformingManager
  #has_magnetosphere_protection?
    with natural magnetosphere
      returns true
    without natural magnetosphere
      returns false
  #determine_terraforming_phase
    warming phase
      returns warming when temperature is low
    maintenance phase
      returns maintenance when conditions are met
  #should_seed_biosphere?
    with existing biosphere
      returns false
    without biosphere and suitable conditions
      returns true
  #atmospheric_reduction_exceeded?
    with preservation mode
      when reduction exceeds 5%
        returns true
      when reduction is below 5%
        returns false
    without preservation mode
      returns false
  #calculate_gas_needs
    without magnetosphere protection
      returns empty hash
    with magnetosphere protection
      returns gas needs for warming phase
    with preservation mode and exceeded limit
      returns empty hash

Manufacturing::ShellPrintingService
  #complete_job
    stores shell materials in tank metadata
    marks job as completed
    marks tank as enclosed
  #print_pressurization_seal
    validates printer capability
    validates pressurization target
    with canyon
      creates a dome seal job (FAILED - 10)
    with lava tube
      creates a plug seal job and updates progress (FAILED - 11)
      marks pressurization ready when requirements met (FAILED - 12)
  #enclose_inflatable
    with insufficient materials
      raises an error
    with tank not ready
      raises error if tank already has shell
      raises error if tank not deployed
    with incompatible printer
      raises an error
    with sufficient materials
      creates a shell printing job (FAILED - 13)
      consumes materials from inventory (FAILED - 14)
      stores material composition in job metadata (FAILED - 15)

CelestialBodies::Material
  validations
    is not valid with a negative amount
    is not valid without an amount
    is not valid without a name
    is valid with a valid state (solid, liquid, gas)
    is valid with valid attributes
  associations
    belongs to a celestial body

EquipmentRequest
  scopes
    .pending_requests
      returns pending and partially fulfilled requests
    .for_equipment
      returns requests for a specific equipment type
      returns empty when no equipment of that type is requested
    .fulfilled
      returns only fulfilled requests
  validations
    requires an equipment_type
    is valid with required attributes
    requires quantity_requested to be present
    allows negative quantity_requested to be invalid
    requires quantity_requested to be greater than 0
    requires quantity_requested to be a number
  associations
    belongs to a requestable (polymorphic)
    can be associated with different requestable types
  factory
    creates equipment request with specific attributes
    creates a valid equipment request with factory
  edge cases and data integrity
    maintains data integrity when updating status
    handles very large quantity requests
    handles equipment_type with special characters
  instance methods
    #quantity_still_needed
      returns the difference when quantity_fulfilled is set
      returns 0 when fully fulfilled
      returns the full quantity when quantity_fulfilled is nil
      handles quantity_fulfilled being 0
  enums
    status enum
      accepts string values for status
      can be set to different statuses
      has correct status values
      defaults to pending status
      provides query methods for each status
    priority enum
      defaults to normal priority
      has correct priority values
      accepts string values for priority
      can be set to different priorities
      provides query methods for each priority

MaterialTransferable
  #transfer_material
    transfers material between spheres
    prevents transfer of non-existent material
    updates existing material in target
    prevents transfer if insufficient amount

FinancialManagement
  #balance
    returns 0 when no account exists
    returns account balance
  #charge
    creates a transaction record
    withdraws money from account
    raises error when no account exists
  #update_balance
    credits positive amounts
    charges negative amounts
  #manage_expenses (legacy)
Insufficient funds to cover the cost of 150.
    returns false when funds are insufficient
Current balance: 50.0.
    charges account when funds are sufficient
  #can_afford?
    returns false if account balance is insufficient
    returns true if account balance is sufficient
    handles zero balance
  associations
    has an account
  account creation
    creates account after creation with appropriate starting balance and currency
  #credit
    creates a transaction record
    deposits money to account

terraforming features
  #terraforming_summary
    returns comprehensive summary
    handles empty biosphere
  #current_terraforming_rates
    aggregates effects from all life forms
    returns zeros when no life forms exist
  terraforming features
    #deploy_terraforming_organism
      deploys super algae
      deploys hardy lichen
      deploys nitrogen fixer
      raises error for unknown organism type
      deploys cyanobacteria
      deploys methane producer
    #deploy_starter_ecosystem
      deploys multiple organisms at once
    #current_terraforming_rates
      returns zeros when no life forms exist
      aggregates effects from all life forms
    #terraforming_summary
      returns comprehensive summary
      handles empty biosphere
  terraforming features
    #terraforming_summary
      returns comprehensive summary
      handles empty biosphere
    #deploy_terraforming_organism
      deploys super algae
      deploys methane producer
      deploys hardy lichen
      raises error for unknown organism type
      deploys nitrogen fixer
      deploys cyanobacteria
    #current_terraforming_rates
      returns zeros when no life forms exist
      aggregates effects from all life forms
    #deploy_starter_ecosystem
      deploys multiple organisms at once
  #deploy_starter_ecosystem
    deploys multiple organisms at once
  #deploy_terraforming_organism
    deploys cyanobacteria
    deploys super algae
    deploys methane producer
    deploys nitrogen fixer
    deploys hardy lichen
    raises error for unknown organism type

TerraSim::ExoticWorldSimulationService
  #simulate_planet_specific_processes
    with a carbon planet
DEBUG: planet_type = :terrestrial
DEBUG: temp_range = 
[238.0, 338.0]
DEBUG: primary_elements = 
["Silicon", "Oxygen"]
No specific exotic processes for terrestrial planet.
      calls carbon planet-specific methods
    with an ice giant
DEBUG: planet_type = :ice_giant
DEBUG: temp_range = 
[-100, -50]
DEBUG: primary_elements = 
["Methane"]
      calls ice-specific simulation methods
  #planet_type
    determines planet type from temperature and elements
    defaults to terrestrial for unknown combinations
    uses planet_type from celestial body if available
  #initialize
    sets planet-specific options
    accepts custom options
  #simulate_diamond_formation
Converted 5.0 kg of Carbon to Diamond.
    converts carbon to diamond
  #simulate_cryovolcanism
Initiating cryovolcanic eruption...
Cryovolcanic eruption complete.
    adds frozen materials to the planet
  #simulate_extreme_pressure
    converts hydrogen to metallic hydrogen at extreme pressure

Pressurization::HabitatPressurizationService
  #calculate_habitat_volume
    calculates correct volume for crater dome

Terraforming Workflow Integration
[AtmosphereSimulation] Starting simulation for 1 days
  Initial temp: 288.0 K
  Initial pressure: 0.0 bar
  DEBUG Stefan-Boltzmann inputs:
    albedo: 0.15
    solar_input: 3.046225610778877e+25
    sigma: 5.67e-08
    (1-albedo)*solar: 2.5892917691620456e+25
    4*sigma: 2.268e-07
    ratio: 1.141663037549403e+32
    unclamped temp: 103367612.44 K
    clamped temp: 400.0 K
  Base temp (Stefan-Boltzmann): 400.0 K
  Greenhouse warming: 0.0 K
  Final surface temp: 400.0 K
  Final temp: 400.0 K
  Final pressure: 0.0 bar
Simulating erosion for #<CelestialBodies::Spheres::Geosphere:0x00007fa319e46e20>, erosion rate: 0.0 cm/year
Updating geosphere state for #<CelestialBodies::Spheres::Geosphere:0x00007fa319e46e20>.
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 0.0
  Adjusting global temperatures:
  - Tropical: 400.0 → 400.0
  - Polar: 328.57142857142856 → 351.0912698412698
  - Target: 400.0 (based on biome optima)
[BiosphereAtmosphere] No liquid water (0.0%) - biosphere DORMANT, no gas production
[AtmosphereSimulation] Starting simulation for 1000 days
  Initial temp: 400.0 K
  Initial pressure: 0.094878 bar
  DEBUG Stefan-Boltzmann inputs:
    albedo: 0.15
    solar_input: 3.046225610778877e+25
    sigma: 5.67e-08
    (1-albedo)*solar: 2.5892917691620456e+25
    4*sigma: 2.268e-07
    ratio: 1.141663037549403e+32
    unclamped temp: 103367612.44 K
    clamped temp: 400.0 K
  Base temp (Stefan-Boltzmann): 400.0 K
  Greenhouse warming: 36.37 K
  Final surface temp: 400.0 K
  Final temp: 400.0 K
  Final pressure: 0.094878 bar
Simulating erosion for #<CelestialBodies::Spheres::Geosphere:0x00007fa319e46e20>, erosion rate: 0.0 cm/year
Updating geosphere state for #<CelestialBodies::Spheres::Geosphere:0x00007fa319e46e20>.
  WARNING: Hydrosphere lost 98.89% mass in one cycle (1000 days)
  Habitability: 38.15% (O2:0% Temp:10% H2O:94% P:37%)
  Habitability: 38.15% (O2:0% Temp:10% H2O:94% P:37%)
Simulating population dynamics for 3 species
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
1000000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
500000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
[simulate_growth] base_growth_rate: 
1.0
 habitability: 
0.38149177086190944
 growth_factor: 
1.0
 population: 
100000000
Managing food web dynamics in #<CelestialBodies::Spheres::Biosphere:0x00007fa319ee4260>
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 88.90500000000003
  Adjusting global temperatures:
  - Tropical: 400.0 → 400.0
  - Polar: 331.49920320964736 → 353.09598219771686
  - Target: 400.0 (based on biome optima)
[DEBUG] Cyanobacteria O2 contribution: 0.1 (population: 1000000000)
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=400.0K, Liquid H2O=88.9%, Pop=1600000000
Using life form atmospheric effects (3 species)
Life form contributions per day: O2=0.10500000000000001, CO2 consumed=0.156, CH4=0.0
Atmosphere changes over 1000 days:
  O2:  0.5 → 5.5 (+5.0%)
  CO2: 76.7102 → 71.7102 (-5.0%)
  CH4: 8.0178 → 8.0178 (+0.0%)
Calculated gas deltas using total_mass 4.910936925019402e+17: O2=2.4554684625097012e+16, CO2=-2.4554684625097012e+16, CH4=0.0
  Habitability: 60.81% (O2:76% Temp:10% H2O:94% P:37%)
  Habitability: 60.65% (O2:75% Temp:10% H2O:94% P:37%)
  Environmental survival factor: 0.18%
  Pressure: 0.094611 bar
  Magnetosphere: Artificial (L1)
    Cyanobacteria (Early Earth Type): 1000000000 → 995405417 (0.5% mortality, protected niche)
    Nitrogen-Fixing Bacteria: 500000000 → 497702708 (0.5% mortality, protected niche)
    Extremophile Lichen: 100000000 → 99540541 (0.5% mortality, protected niche)
  Habitability: 61.14% (O2:77% Temp:10% H2O:94% P:37%)
  transforms atmosphere over time with deployed organisms
[AtmosphereSimulation] Starting simulation for 1 days
  Initial temp: 288.0 K
  Initial pressure: 0.0 bar
  DEBUG Stefan-Boltzmann inputs:
    albedo: 0.15
    solar_input: 3.046225610778877e+25
    sigma: 5.67e-08
    (1-albedo)*solar: 2.5892917691620456e+25
    4*sigma: 2.268e-07
    ratio: 1.141663037549403e+32
    unclamped temp: 103367612.44 K
    clamped temp: 400.0 K
  Base temp (Stefan-Boltzmann): 400.0 K
  Greenhouse warming: 0.0 K
  Final surface temp: 400.0 K
  Final temp: 400.0 K
  Final pressure: 0.0 bar
Simulating erosion for #<CelestialBodies::Spheres::Geosphere:0x00007fa319e4a3e0>, erosion rate: 0.0 cm/year
Updating geosphere state for #<CelestialBodies::Spheres::Geosphere:0x00007fa319e4a3e0>.
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 0.0
  Adjusting global temperatures:
  - Tropical: 400.0 → 400.0
  - Polar: 328.57142857142856 → 351.0912698412698
  - Target: 400.0 (based on biome optima)
[BiosphereAtmosphere] No liquid water (0.0%) - biosphere DORMANT, no gas production
  allows monitoring of terraforming progress

Lookup::StructureLookupService
  #find_structure
    when searching by structure_id without category (global search)
      searches through categories and returns the first match found
      returns nil if the structure is not found in any directory
      returns the structure data if found in any directory
    caching behavior
      reads from the file system only once for the same query
      stores the result in the cache hash
    when the JSON file is invalid
      returns nil and logs an error
    when searching by structure_id and category (type)
      returns nil if the structure is not found in any directory
      returns the structure data when found in the specified type directory

Manufacturing::Construction::DomeCalculator
  .calculate_anchor_points
    scales with dome size
    calculates anchor points based on circumference
  .estimate_construction_time
    estimates construction time based on dome size
    applies curvature complexity factor
  .calculate_construction_cost
    calculates cost based on dome size and materials
    applies complexity multiplier for dome shape
  .calculate_materials
    supports different panel types like skylights
    calculates materials using the same panel system as skylights
    adds dome-specific adjustments
  .calculate_pressure_sealing
    calculates sealing material based on circumference

StarSim::SystemGeneratorService
  #generate!
    with a predefined system
      delegates to SystemBuilderService for building the system
    when generating a random system
      creates celestial bodies
      creates the specified number of stars
      updates the solar system name and identifier

Market::TransactionFee
  #calculate
    calculates percentage fee
    calculates fixed fee
    returns 0 for unknown fee_type
  validations
    is expected to validate that :fee_type is either ‹"percentage"› or ‹"fixed"›
    is expected to validate that :percentage looks like a number greater than or equal to 0 as long as it is not nil
    is expected to validate that :fixed_amount looks like a number greater than or equal to 0 as long as it is not nil
    is expected to validate that :fee_type cannot be empty/falsy

Component Production Integration
  with real blueprint files
    finds the 3d_printed_ibeam_mk1 blueprint
    producing mk1 I-beams (bootstrap version)
      creates a production job using real blueprint (FAILED - 16)
      consumes waste_regolith from inventory (FAILED - 17)

LifeSupport
  #handle_starvation
    reduces population by death rate
  validations
    validates population is not negative
    allows nil population
  #calculate_life_support_requirements
    returns empty hash for zero population
    calculates requirements for given population
  #check_resource_availability
    handles resource shortages
    handles starvation when food is below threshold

Market::Settings
  defaults transportation_cost_per_kg to nil
  can create a settings record

Alien World Template Integrity
  is valid JSON
  contains terrestrial_planets array
  contains exactly 25 templates (A01 → A25)
  has unique template names
  has unique identifiers
  template file exists
  required schema fields
    each template contains all required fields
  material yield bias
    contains all yield bias categories
  atmosphere rules
    contains no oxygen by default
    has pressure > 0
  volatile reservoirs
    has CO2 and H2O reservoirs defined
  terraforming metadata
    engineered_atmosphere defaults to false
    terraforming_difficulty is between 1 and 10

Logistics::Contract
  scopes
    has active scope
    has completed scope
  enums
    defines transport_method enum
    defines status enum
  instance methods
    #mark_delivered!
      updates status to delivered and sets completed_at
    #mark_failed!
      updates status to failed and records reason
  validations
    requires material
    is valid with required attributes
    requires quantity greater than 0

Units::Computer
  #total_efficiency
    calculates total efficiency with upgrades
  #energy_required
    returns default energy required value
  #upgrade_efficiency
    increases efficiency upgrade value
  attributes
    is expected to respond to #efficiency_upgrade_value
    has default values
    is expected to respond to #mining_rate_value
  #mine
    calculates GCC based on mining rate and efficiency
  #overclock
    temporarily increases mining rate

Player
  inventory at active location
    raises an error if active location is not set
    returns the inventory at the active location
  validations
    is not valid without an active_location
    is valid with valid attributes
    is not valid without a name
  account balance
    has a balance of 1000

Settlement::Outpost
  validations
    is valid with valid attributes
    is not valid without a name
  population capacity
    calculates available capacity correctly
    checks if it has capacity for additional population
    calculates total capacity from habitat units

Atmosphere
  #volume
    when celestial_body doesn't respond to volume
      returns 0
    when celestial_body responds to volume
      returns the celestial_body's volume
  enums
    defines environment_type enum with string values
  sealing methods
    #unseal!
      sets sealing status to false
    #seal!
      sets sealing status to true
    #sealed?
      returns the sealing status
  associations
    is expected to belong to celestial_body optional: true
    is expected to have many gases class_name => CelestialBodies::Materials::Gas dependent => destroy
  JSON fields
    allows storing data in JSON fields
    initializes JSON fields with empty objects
  validations
    is expected to validate that :environment_type cannot be empty/falsy
    is expected to validate that :total_atmospheric_mass looks like a number greater than or equal to 0
    is expected to validate that :temperature looks like a number
    is expected to validate that :pressure looks like a number greater than or equal to 0
  parent validation
    requires exactly one parent
    rejects multiple parents
  AtmosphereConcern inclusion
    includes AtmosphereConcern methods
  #habitable?
    with good conditions
      returns true
    with extreme temperature
      returns false for too cold
      returns false for too hot
    with low pressure
      returns false
    with high CO2
      returns false
    with low oxygen
      returns false

Settlement::City
  #resource_requirements
    calculates resource requirements correctly
  validations
    is not valid with water_per_person less than or equal to zero
    is not valid with energy_per_person less than or equal to zero
    is valid with valid attributes
    is not valid without a name
    is not valid with a negative current population
    is not valid with food_per_person less than or equal to zero
    is not valid without a celestial body
    is not valid without a location

SpecialMission
  is expected to validate that :reward_eap cannot be empty/falsy
  is expected to validate that :required_quantity cannot be empty/falsy
  is expected to validate that :required_quantity looks like a number greater than 0
  is expected to validate that :material cannot be empty/falsy
  is expected to belong to settlement class_name => Settlement::BaseSettlement required: true
  is expected to validate that :reward_eap looks like a number greater than 0
  scopes
    has open scope
  instance methods
    #complete!
      updates status to completed
    #total_reward
      returns the reward_eap
    #accept!
      updates status to accepted
  enums
    defines status enum

Settlement::SpaceStation
  integration scenarios
    orbital depot inheriting from space station
      inherits all Shell/Enclosable functionality
      adds depot-specific gas storage
    complete station lifecycle
      goes from planned to fully operational
  power generation (from Enclosable)
    calculates power generation from solar panels
    accounts for failed panels
    accounts for panel degradation
  storage capacity management
    #calculate_storage_capacity
      ignores units without storage capacity
      returns 0 when no storage units exist
      sums capacity from all storage units
    #can_store?
      returns false when insufficient capacity
      returns true when sufficient capacity available
    #available_capacity
      subtracts current inventory mass
      returns total capacity when empty
  damage and repair
    can damage modules
    repairs damaged modules and shell
  associations
    is expected to have many storage_units
    is expected to have one atmosphere
    is expected to have many docked_crafts
  panel degradation and maintenance (from Enclosable)
    can repair failed panels
    can replace degraded panels
    provides shell status report
    simulates panel degradation over time
  validations
    validates settlement_type is station or outpost
  model structure
    includes LifeSupport
    inherits from BaseSettlement
    inherits Enclosable through Shell
    includes Docking
    includes Shell concern
  shell construction workflow (from Shell concern)
    construction phases
      advances through construction phases
      does not initialize default modules when operational
      creates atmosphere when sealed
    status helpers
      checks pressurized status correctly
      checks sealed status correctly
      responds to Shell concern status methods
    #schedule_shell_construction!
      updates status to framework_construction
      updates shell composition
      accepts custom panel type
      returns success result with materials and time estimate
  dimensional interface (from Enclosable)
    #set_dimensions
      can set diameter for cylindrical stations
      stores dimensions in operational_data
    #calculate_volume
      calculates volume for rectangular station
      calculates volume for cylindrical station
    #area_m2
      calculates area for rectangular station
      calculates area for cylindrical station
  module management
    #research_efficiency
      sums efficiency from all lab modules
    #habitat_capacity
      sums capacity from all habitat modules
    module type queries
      filters modules by type
    #add_module
      requires station to be operational
      adds a new module to the station
  operational status
    #fully_operational?
      requires habitat modules
      requires shell to be operational
    #station_status
      returns comprehensive status

OrbitalRelationship
  energy calculations
    #stellar_energy_input
      returns 0 when primary_body doesn't have luminosity (FAILED - 18)
      calculates stellar energy based on luminosity and distance
    #tidal_heating
      calculates tidal heating for planet-moon relationships
      includes eccentricity factor in calculation
    #energy_input
      returns combined tidal and reflected energy for planet_moon relationships
      returns stellar energy for star_planet relationships (FAILED - 19)
  relationship type helpers
    identifies binary_star relationships
    identifies planet_moon relationships
    identifies star_planet relationships
  validations
    is valid with valid attributes
    relationship_type validation
      requires relationship_type to be present
      validates relationship_type inclusion
    uniqueness validation
      prevents duplicate relationships between same bodies
    numerical validations
      validates eccentricity is between 0 and 1
      validates semi_major_axis is positive
      validates orbital_period is positive
      validates distance is positive
  terraforming reflected_energy and energy_input
    returns extra energy for star_planet with orbital mirrors and albedo adjustment (FAILED - 20)
  backward compatibility methods
    #celestial_body=
      sets secondary_body
    #sun
      returns nil when primary_body is not a Star
      returns primary_body when it's a Star
    #celestial_body
      returns secondary_body when it's a CelestialBody
    #sun=
      sets primary_body and relationship_type
  private methods
    #masses_present?
      returns false when primary_body has no mass
      returns true when both bodies have mass
    #extract_mass
      returns nil for unsupported object types
      extracts mass from Star objects
      extracts and converts mass from CelestialBody objects
  associations
    belongs to primary_body polymorphically
    belongs to secondary_body polymorphically
  orbital mechanics
    #orbital_distance
      falls back to distance when semi_major_axis is nil
      returns 0 when both are nil
      returns semi_major_axis when available
    #calculated_orbital_period
      returns nil when primary_body has no mass (FAILED - 21)
      calculates orbital period using Kepler's Third Law
    #current_orbital_position
      calculates orbital position based on time
      returns nil when orbital_period or epoch_time is missing

CelestialBodies::Materials::Gas
  uses the gases table
  has the same behavior as the original Gas model
  validations
    is not valid with a negative mass
    is not valid with a negative ppm
    is not valid with a percentage over 100
    is not valid with a negative percentage
    is not valid without a name
  associations
    can be accessed through atmosphere.gases
    belongs to atmosphere
  before_validation callback
    sets molar_mass from material lookup if blank
    does not override existing molar_mass
  #moles
    calculates moles from mass and molar mass
    returns 0 if molar_mass is nil
    returns 0 if mass is nil

Alien World Templates Integrity
  exists and is valid JSON
  terrestrial planet templates
    has unique identifiers
    exists and is an array
    covers Template-A01 through Template-A25
    contains exactly 25 templates
    all templates are terrestrial
  sanity checks
    terraforming difficulty is bounded
    has positive pressure
    has realistic gravity values
  metadata
    has required fields
    exists
    is versioned correctly
  template schema validation
    each template contains all required fields
  atmospheric constraints
    contains no oxygen by default

AIManager::PriorityHeuristic
  #account_negative?
    when account balance is negative
      returns true
    when account balance is positive
      returns false
  #calculate_si_ask_price
    returns 95% of the calculated ask price
  #get_priorities
    when both conditions are met
      returns both priorities
    when neither condition is met
      returns empty array
    when oxygen is critical
      returns refill_oxygen priority
    when account is negative
      returns debt_repayment priority
  Environmental System Integration
    with settlement having critical storage capacity
      prioritizes storage module construction
    with settlement having excess CO and H2
      prioritizes methane synthesis
    with procedurally generated planet having 95% CO2 and 0.0 Tesla magnetic field
      correctly chooses local O2 production
    with planet having low CO2 and weak magnetic field
      chooses oxygen refill instead of local generation
  #get_priorities on Mars
    when nitrogen is critical on Mars
      returns local_argon_extraction priority
    when oxygen is critical on Mars
      returns local_oxygen_generation priority instead of refill_oxygen
  #oxygen_critical?
    when O2 mass is above 15% of target
      returns false
    when O2 mass is below 15% of target
      returns true

Manufacturing::Construction::HangarService
  #calculate_construction_time
    calculates longer time for large craft hangar
    calculates base time for standard hangar
  #schedule_construction
    creates a hangar structure successfully
    creates a construction job
    fails when no blueprint found
    creates material and equipment requests
    calculates correct capacity for standard rover hangar
    connects the access point to the hangar
    calculates correct capacity for large craft hangar
    fails when no settlement found
  #start_construction
    starts construction when materials and equipment are ready
    fails when equipment not ready
    fails when materials not ready
  #calculate_materials
    calculates materials for standard rover hangar
    calculates materials for large craft hangar
    merges blueprint materials with specific materials
  #track_progress
    completes construction when work is finished
    releases equipment when construction completes
    returns false when construction not complete
  #calculate_equipment_requirements
    calculates equipment requirements
  #initialize
    initializes with custom hangar type
    raises error for non-large access points
    initializes with default hangar type

AIManager::TaskExecutionEngine
  #update_mission_progress
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
    updates operational_data with task counts
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
    calculates and updates progress percentage
  #manufacture_from_effect
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  → Manufacturing: 10x ibeam using I-Beam Printer
    • Input: 500 depleted_regolith (local_isru)
  ✓ Manufactured 10x ibeam
    tracks output materials as produced
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  → Manufacturing: 10x ibeam using I-Beam Printer
    • Input: 500 depleted_regolith (local_isru)
  ✓ Manufactured 10x ibeam
    tracks input materials as consumed
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  → Manufacturing: 10x ibeam using I-Beam Printer
    • Input: 500 depleted_regolith (local_isru)
  ✓ Manufactured 10x ibeam
    returns true on success
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  → Manufacturing: 10x ibeam using I-Beam Printer
    • Input: 500 depleted_regolith (local_isru)
  ✓ Manufactured 10x ibeam
    calls ResourceTrackingService with correct parameters
  .check_material_surplus
    returns surplus above threshold
    when below threshold
      returns 0
  #production_summary
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
    generates summary of production
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
    generates summary of consumption
  #complete_mission
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
    calls ResourceTrackingService
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
    sets completion_date
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
    updates mission status to completed
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
    sets progress to 100
  #execute_next_task
    when task execution succeeds
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
      updates mission progress
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
      increments the task index
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
      returns true
    when all tasks are complete
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
      returns false
    when task execution fails
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
      logs error
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
      returns false
  #initiate_construction
    with crater_dome structure
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
      creates a crater dome structure
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
      uses ConstructionJobService
    with skylight_cover structure
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
      skips skylight for AI simulation
  #deploy_unit_from_effect
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  ✓ Deployed: Solar Panel 1
  ✓ Deployed: Solar Panel 2
    creates multiple units when count > 1
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  ✓ Deployed: Solar Panel 1
  ✓ Deployed: Solar Panel 2
    returns true on success
    when blueprint not found
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  ✗ Blueprint not found for: Solar Panel
      returns false
  #connect_units_from_effect
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
    returns true even if units not found (AI simulation)
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  ✓ Connected Power Hub:input ↔ Solar Panel:output
    connects units successfully
  .orbital_resupply_cycle
    when no active projects
      does not schedule missions
    when conditions are met for resupply
      schedules a material ferry mission
      updates craft status
  #initialize
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
    initializes current task index to 0
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
    initializes material tracking hashes
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
    loads task list from profile-based structure
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
    loads mission and settlement
  #check_unit_state_from_effect
    when unit is in expected state
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  ✓ Unit Test Unit is in expected state: ready
      returns true
    when unit not found
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  ⚠ Unit Missing Unit not found (assuming correct for AI simulation)
      returns true (soft check for AI simulation)
    when unit is in different state
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  ⚠ Unit Test Unit is in state 'ready', expected 'active' (continuing anyway for AI simulation)
      returns true (soft check for AI simulation)
  #set_unit_state
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  ✓ Set unit Test Unit 1 state to active
  ✓ Set unit Test Unit 2 state to active
    updates state for all matching units
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  → Unit Nonexistent Unit not found, assuming correct state for AI simulation
    returns true even if no units found
  #execute_task
    with legacy task type
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
      calls legacy handler
    with effects-based task
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  Processing 1 effects...
      executes each effect
  #start
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
    executes all tasks synchronously
  #transfer_resource_from_effect
    with continuous transfer
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  ✓ Configured continuous transfer: water from Tank A → Tank B
      returns true
    with one-time transfer
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  ✓ Transferred water from Tank A → Tank B
      returns true
  #execute_effect
    with set_unit_state effect
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  → Executing effect: set_unit_state
      calls set_unit_state
    with connect_units effect
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  → Executing effect: connect_units
      calls connect_units_from_effect
    with transfer_resource effect
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  → Executing effect: transfer_resource
      calls transfer_resource_from_effect
    with unknown effect
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  → Executing effect: unknown_action
Unknown effect action: unknown_action
      returns false
    with manufacture effect
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  → Executing effect: manufacture
      calls manufacture_from_effect
    with check_unit_state effect
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  → Executing effect: check_unit_state
      calls check_unit_state_from_effect
    with check_unit_connected effect
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  → Executing effect: check_unit_connected
      calls check_unit_connected_from_effect
    with deploy_unit effect
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  → Executing effect: deploy_unit
      calls deploy_unit_from_effect
  #check_unit_connected_from_effect
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  ⚠ Unit Missing Unit not found (assuming connected for AI simulation)
    returns true even when unit not found (soft check)
Loading profile from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_profile_v1.json
Loaded profile with 1 phases
Loading phase tasks from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_phase_1.json
  Loaded 2 tasks from test_mission_001_phase_1.json
Total tasks loaded: 2
Loading manifest from: /home/galaxy_game/data/json-data/missions/test-mission-001/test_mission_001_manifest_v1.json
Loaded manifest with keys: ["template", "manifest_id", "craft", "inventory", "metadata"]
  ✓ Verified unit Test Unit connectivity at port input
    returns true when unit exists

UnitAssemblyJob
  scopes
    .active
      returns jobs that are not completed/failed/canceled
  #settlement delegation
    delegates settlement to base_settlement
  associations
    is expected to have many material_requests
    is expected to belong to base_settlement required: true
  #materials_gathered?
    returns true when no material requests exist
    returns false when not all materials are fulfilled
    returns true when all materials are fulfilled
  #complete_assembly
    creates unassembled items in inventory (FAILED - 22)
    marks job as completed
    returns false when not in_progress
  validations
    is expected to validate that :count cannot be empty/falsy
    is expected to validate that :base_settlement cannot be empty/falsy
    is expected to validate that :unit_type cannot be empty/falsy
  #start_assembly
    returns false when not materials_pending status
    starts assembly when materials are gathered
    consumes materials from inventory

Component Production Game Loop Integration
  full production cycle
    processes multiple jobs simultaneously (FAILED - 23)
    handles partial progress over multiple ticks (FAILED - 24)
    produces components through game loop progression (FAILED - 25)

CelestialBodies::Planets::Gaseous::GasGiant
  gas giant specific methods
    #ring_system_probability
      returns a high probability for gas giants
    #estimate_moon_count
      with different masses
        scales moon count with mass
      with Jupiter mass
        estimates a realistic moon count
  behaves like a gaseous planet
    doesn't have a solid surface
    calculates cloud bands based on rotation
    is expected to validate that :density looks like a number less than 2.0
    has a low density

Market::ConditionUpdaterService
  .call
    updates demand for all tracked resources, respecting smoothing and growth
    initializes a marketplace if the settlement does not have one
    updates supply for all tracked resources
    creates a market condition if one does not exist
  .calculate_new_supply
    returns zero if net change is a large negative and smooths current supply

MaterialPropertiesConcern
  #state_at
    uses default values when melting/boiling points are missing
    returns gas state when temperature is above boiling point
    returns liquid state when temperature is between melting and boiling points
    returns solid state when temperature is below melting point
    returns default state when temperature is nil
  state helper methods
    #solid?
      returns true when temperature is below melting point
      returns true when default state is solid and no temperature given
      returns false when temperature is above melting point
    #liquid?
      returns true when temperature is between melting and boiling points
      returns false when temperature is below melting point or above boiling point
      returns true when default state is liquid and no temperature given
    #gas?
      returns false when temperature is below boiling point
      returns true when temperature is above boiling point
      returns true when default state is gas and no temperature given
  #molar_mass_from_properties
    returns molar mass from nested properties
    returns molar mass from top level if nested not available
    returns nil if molar mass not found (FAILED - 26)
  #set_molar_mass_from_material
    does not override existing molar_mass
    sets molar_mass from properties if blank
  exotic state handling
    identifies exotic states
    calculates phase transitions for exotic conditions
  #default_state
    returns state_at_room_temp from properties if available
    returns solid if state_at_room_temp not available
  #properties
    fetches material properties from lookup service

Manufacturing::CostCalculator
  Earth-Imported COGS (EAP-COGS)

--- Calculating Earth-Imported COGS (EAP-COGS) for Small Fuel Tank ---
    calculates the EAP-COGS (Earth Import Cost) for the unit (FAILED - 27)
  Local Production COGS (LAP-COGS)

--- Calculating Local Production COGS (LAP-COGS) for Small Fuel Tank ---
    calculates the LAP-COGS (Local Production Cost) for the unit (FAILED - 28)

Biome
  validations
    is not valid without a temperature range
    is not valid without a name
    is valid with valid attributes
    is not valid without a humidity range
    is not valid with a duplicate name
  associations
    has many celestial_bodies through planet_biomes
    has many planet_biomes
  suitability
    returns false when the biome is not suitable for the given conditions
Debug: Testing biome Biome-161cf32d-506d-47d9-81fe-7d593c9de620
Debug: Temperature range: 298..303
Debug: Humidity range: 70..90
Debug: Testing temp: 28 (converted to 301.15)
Debug: Testing humidity: 80
    returns true when the biome is suitable for the given conditions
    returns true for suitable conditions in Kelvin
  .biomes_for_conditions
    returns an empty array when no biomes match the conditions
    returns biomes matching the temperature and humidity conditions

SpecialMissionService
  .generate_critical_mission
    when mission should not be generated
      returns nil when should_generate_mission? returns false
      returns nil when EAP cannot be calculated
    when mission should be generated
      creates a special mission with EAP-based reward
      applies correct bonus multiplier for different urgency levels
      sets appropriate expiry times
  .check_and_generate_missions
    does not generate missions for settlements with normal levels
    generates missions for settlements with critical shortages
  private methods
    .should_generate_mission?
      returns true when all conditions are met
      returns false when settlement has sufficient material
      returns false when internal logistics can handle the shortage
      returns false when mission already exists for material

CelestialBodies::Spheres::Geosphere
  #extract_volatiles
    extracts volatiles based on temperature increase
  validations
    is expected to validate that :geological_activity looks like a number greater than or equal to 0 and less than or equal to 100 as long as it is not nil
    is expected to validate that :total_mantle_mass looks like a number as long as it is not nil
    is expected to validate that :total_crust_mass looks like a number as long as it is not nil
    is expected to validate that :total_core_mass looks like a number as long as it is not nil
  #calculate_materials
    calculates and updates materials based on crust, mantle, and core composition (PENDING: calculate_materials method not yet implemented)
  default values
    sets default values for compositions and masses
  material transfers
    transfers material to atmosphere when heated (PENDING: heat_material method not yet implemented)
  associations
    is expected to belong to celestial_body required: true
  #remove_material
    removes material from the specified layer
  material management
    updates composition percentages
    creates materials in correct layer
    prevents adding gas materials
  callbacks
    triggers TerraSim service after adding a material (PENDING: run_terrasim_service method not yet implemented)
  regolith properties
    has weathering_rate attribute
    can update regolith properties
    updates regolith depth after erosion
    updates plate positions when tectonics are active
    has regolith_particle_size attribute
    calculates weathering rate based on atmosphere and activity
    initializes with default regolith depth of zero
    has regolith_depth attribute
  #add_material
    does not add material if the mass is non-positive
    raises an error if the material is not found in the lookup service
    rejects invalid layers
    adds material to the specified layer
    adds a material and updates the celestial body and geosphere
  #set_default_values
    sets default values after initialization
  #reset
    resets both compositions and material records
  #reset
    resets geosphere to base values

Tier1PriceModeler
  integration with EconomicConfig
    uses earth spot prices from config when available
    uses transport costs from config
  EAP storage for downstream use
    stores calculated EAPs in a hash
  #calculate_eap
    with missing data
      returns 0.0 without crashing
    with pressure valves
      calculates the correct EAP
    with composite insulation
      calculates the correct EAP
    with different destinations
      calculates different costs for different routes
    with electronics
      calculates the correct EAP
    with titanium alloy
======================================================================
EARTH ANCHOR PRICE (EAP) BREAKDOWN
Material: Titanium Alloy
Route: EARTH → LUNA
======================================================================

1. EARTH BASE COST
   Earth Spot Price:        $15.0 USD/kg
   Refining Factor:         ×2.5
   USD to GCC Peg:          1 USD = 1.0 GCC
   Refined Cost (GCC):      $37.5 GCC/kg

2. TRANSPORT COST
   Transport Category:      manufactured
   Transport Cost:          $150.0 GCC/kg

----------------------------------------------------------------------
FINAL EARTH ANCHOR PRICE:   $187.5 GCC/kg
======================================================================

      can print breakdown without errors
      calculates the correct EAP
  #print_breakdown
    outputs detailed breakdown
======================================================================
EARTH ANCHOR PRICE (EAP) BREAKDOWN
Material: Titanium Alloy
Route: EARTH → LUNA
======================================================================

1. EARTH BASE COST
   Earth Spot Price:        $15.0 USD/kg
   Refining Factor:         ×2.5
   USD to GCC Peg:          1 USD = 1.0 GCC
   Refined Cost (GCC):      $37.5 GCC/kg

2. TRANSPORT COST
   Transport Category:      manufactured
   Transport Cost:          $150.0 GCC/kg

----------------------------------------------------------------------
FINAL EARTH ANCHOR PRICE:   $187.5 GCC/kg
======================================================================

    returns the calculated EAP

Environment
  associations
    belongs to a biome
    belongs to a celestial_body
  validations
    is not valid without a humidity
    is not valid without a pressure
    is not valid without a planet
    is not valid without a biome
    is valid with valid attributes
    is not valid without a temperature

Biology::LifeFormParent
  associations
    is expected to belong to child class_name => Biology::BaseLifeForm required: true
    is expected to belong to parent class_name => Biology::BaseLifeForm required: true
  table name
    uses the correct table name

CelestialBodies::Features::Skylight
  #area_m2
    calculates area from diameter
  associations
    is expected to belong to parent_feature optional: true
  #covered?
    returns true when enclosed
    returns false when natural
    returns true when pressurized
  #parent_lava_tube
    returns the parent lava tube
  #set_feature_type
    automatically sets feature_type

TransactionsController
  POST #create
    with valid parameters
      returns a success message
      does not attempt to collect tax (enforces separation of concerns)
      creates the transaction with correct account information and amount
      creates a new financial transaction
    with invalid parameters
      returns an error message if amount is missing or invalid
      does not create a transaction if amount is missing

BatteryManagement
  charge_battery alias
    works the same as recharge_battery
  initialization
    uses default capacity of 100.0
    initializes current charge to full capacity
    sets up default battery data
  battery_drain
    returns the configured drain rate
    has a default value
  consume_battery
    reduces battery level by specified amount
    ignores nil or negative values
    doesn't allow battery to go below zero
  recharge_battery
    ignores nil or negative values
    doesn't allow battery to exceed capacity
    increases battery level by specified amount
  battery_percentage
    calculates percentage correctly
    handles zero capacity
    handles empty battery

Market::TradeExecutionService
  calls the TaxCollectionService with gross revenue and seller
  creates a price history record
  creates a supply chain record
  removes inventory from seller
  creates a trade record
  returns true on successful execution
  calls TransactionManager.create_transfer with the NET amount

Pressurization::StructurePressurizationService
  .pressurize_structure
    when no depot tanks are available
      falls back to standard pressurization logic
    when depot tanks are available
      sources gases from depot tanks
      uses depot tank gases for pressurization
  .source_gases_from_depot_tanks
    when settlement has no depot tanks
      returns empty hash
    when settlement has depot tanks
      aggregates gases from all depot tanks
      returns empty hash when no gases are stored
    when depot tanks have no gas_storage data
      returns empty hash
  mining byproduct integration
    when mining Si produces O2 byproduct
      increases available gases from depot tanks for pressurization

TerrestrialPlanetsController
  GET #index
    returns a success response
  PATCH/PUT #update
    with valid parameters
      renders a JSON response with the terrestrial_planet
      updates the requested terrestrial_planet
    with invalid parameters
      renders a JSON response with errors for the terrestrial_planet
  POST #create
    with invalid parameters
      renders a JSON response with errors for the new terrestrial_planet
    with valid parameters
      creates a new TerrestrialPlanet with star distance
      renders a JSON response with the new terrestrial_planet
  DELETE #destroy
    returns a no content response
    destroys the requested terrestrial_planet
  GET #show
    returns a success response

OrbitalConstructionProject
  #materials_complete?
    when materials exceed requirements
      returns true
    when all required materials are delivered
      returns true
    when some materials are missing
      returns false
  #completion_percentage
    when no materials are delivered
      returns 0
    when all materials are delivered
      returns 100
    when half materials are delivered
      returns 50
  enums
    is expected to define :status as an enum backed by an integer with values ‹{materials_pending: 0, in_progress: 1, completed: 2, failed: 3, canceled: 4}›
  JSONB storage
    stores project_metadata as JSONB
    stores required_materials as JSONB
    stores delivered_materials as JSONB
  validations
    is expected to validate that :progress_percentage looks like a number greater than or equal to 0 and less than or equal to 100
    is expected to validate that :craft_blueprint_id cannot be empty/falsy
  associations
    is expected to belong to station class_name => Settlement::BaseSettlement required: true

CelestialBodies::Satellites::SmallMoon
  is classified as a small moon
  is valid with valid attributes

Storage::SurfaceStorage
  #add_pile
    returns false when material_name is invalid
    updates existing pile amount
    creates a new material pile
  #check_item_conditions
    when atmosphere does not contain corrosive gases
      does not corrode the item
    when atmosphere contains corrosive gases
      applies surface conditions to the item
  validations
    validates presence of required attributes

Modules::BaseModule
  error handling
    handles empty operational_data gracefully
    handles missing operational_data gracefully
  callbacks
    before_validation :load_module_data on create
      when module data is not found
        does not crash when module type doesnt exist
      when module data is found
        loads CO2 scrubber data from lookup service
        does not override existing name if already set
    after_create :apply_module_to_attachable
      applies module to structure when created with structure attachable
      applies module to craft when created with craft attachable
      does not crash when created without attachable
    before_destroy :remove_module_from_attachable
      removes module from structure when destroyed
      removes module from craft when destroyed
      does not crash when destroyed without attachable
  validations
    is expected to validate that :identifier cannot be empty/falsy
    creates valid module with all required fields
    is expected to validate that :name cannot be empty/falsy
    is expected to validate that :module_type cannot be empty/falsy
  instance methods
    #consumables
      returns consumables from loaded data
    #input_resources
      returns input resources from loaded data
      returns empty array when operational_data is missing
    #operational_status
      returns operational status from loaded data
      returns inactive when operational_data is missing
    #output_resources
      returns output resources from loaded data
  AtmosphericProcessing integration
    #max_processing_rate
      returns correct rates for CO2 scrubber
    #can_process_atmosphere?
      returns false for basic life support module
      returns true for CO2 scrubber module
    #atmospheric_capabilities
      identifies CO2 scrubbing capability
  detach! behavior
    nullifies attachable and persists the module
  associations
    accepts structure as polymorphic attachable
    can be created without attachable
    accepts craft as polymorphic attachable
    is expected to belong to attachable optional: true
  factory integration
    creates CO2 scrubber with trait
    creates valid module using existing factory

MaterialRequestService
  integration with AI manager
    works with the resource fulfillment service
  .fulfill_market_order
    marks the order as fulfilled
    adds materials to settlement inventory (FAILED - 29)
    executes the purchase
  .request_materials
    when market order creation succeeds
      skips market orders in test environment and uses AI procurement
      returns market order pending status
    when settlement cannot afford market order
      falls back to AI procurement
    when materials are already available
      returns fulfilled status
  .skip_market_orders?
    returns true when running RSpec
    returns true when AUTOMATED_BUILD environment variable is set
    returns true when CI environment variable is set
  .check_expired_orders
    does not process recent orders
    triggers AI procurement for expired orders

TerraSim::Simulator
  #calc_current
    when no star is present
      sets the temperature to space background temperature
    when star is present
      simulates the atmosphere
      simulates the biosphere-geosphere interface
      updates the surface temperature
  #initialize
    defaults magnetosphere_active to true
    accepts magnetosphere_active parameter

CelestialBodies::Satellites::LargeMoon
  is valid with valid attributes
  is classified as a large moon

AIManager::DecisionTree
  #handle_oxygen_refill
    calls prioritize_oxygen_refill on resource_planner
  #handle_mars_nitrogen_import
    finds closest resource source and creates interplanetary contract
  #handle_mars_oxygen_maintenance
    calls prioritize_energy_for_o2_generation on resource_planner
  #make_decisions
    when oxygen is critical
      calls handle_oxygen_refill and returns
    when account is negative
      calls handle_debt_repayment and returns
    when no priorities
      proceeds with normal decision making
  Mars planet-aware crisis handling
    when O2 crisis on Mars
      handles O2 crisis through local maintenance, not trade
    when N2 crisis on Mars
      triggers interplanetary contract based on closest source
  #handle_debt_repayment
    sets si_ask_ceiling in settlement operational_data

Market::PriceHistory
  validations
    is valid with valid attributes
    is not valid without a price
  associations
    is expected to belong to market_condition class_name => Market::Condition required: true

Logistics::ContractService
  .create_internal_transfer
    with valid settlements
      creates a logistics contract for internal transfer (FAILED - 30)
    with invalid settlements
      returns nil when from_settlement is not an NPC

Settlement::BaseSettlement
  construction cost management
    #construction_cost_percentage=
      initializes operational_data manufacturing section if empty
      sets the construction cost percentage in operational_data
      preserves existing operational_data when setting percentage
    manufacturing settings
      defaults manufacturing efficiency to 1.0
      supports manufacturing efficiency setting
      defaults equipment check to true
      supports equipment check setting
    #construction_cost_percentage
      returns default percentage when not set
      handles missing manufacturing section gracefully
      returns custom percentage when set in operational_data
      handles empty operational_data gracefully
      handles empty operational_data gracefully
    #calculate_construction_cost
      handles nil input gracefully
      handles string input by converting to float
      handles zero purchase cost
      rounds to 2 decimal places
      calculates construction cost as percentage of purchase cost
  Market Integration
    #npc_buy_capacity
      when storage is the limiting factor (50 units)
        limits capacity by available storage (50)
      when account or inventory is missing
        returns 0 capacity if account is missing
        returns 0 capacity if inventory is missing
      when finances are the limiting factor (20 units)
        limits capacity by financial ability (20)
      when bid price is zero
        returns 0 capacity
    #npc_market_bid
      calls the NpcPriceCalculator with the correct arguments
      returns the calculated price
  validations
    is valid with valid attributes
    is not valid with a non-integer current population
    is not valid with a negative current population
    is not valid without a name
  #process_materials
    processes materials using base units
  storage capacity
    calculates storage capacity by type
    calculates total storage capacity (sum of all storage types)
    maintains backward compatibility with total storage capacity (liquid and gas only)
  associations
    can belong to a player
    destroys the marketplace when destroyed (FAILED - 31)
    has a marketplace association using the correct foreign key
    has a financial account
    has many base units
    has many docked crafts
  after_create hooks
    creates a financial account and inventory
  celestial body delegation
    delegates celestial_body to location
  operational_data
    works with energy management methods
    can store and retrieve operational data
    provides default empty hash if operational_data is empty
  construction cost integration
    integrates construction cost calculations with settlement manufacturing data
    preserves other operational_data when updating construction settings
    works correctly when operational_data starts empty

Lookup::CraftLookupService
  error handling during initialization
    gracefully handles errors when loading crafts
    initializes successfully even with file system errors
  using actual data files
    finds a craft by category
    finds a specific craft by id
    can find crafts by folder structure
  #debug_paths
DEBUG: Craft Lookup Paths
Base crafts path: /home/galaxy_game/data/json-data/operational_data/crafts (exists: true)
atmospheric: /home/galaxy_game/data/json-data/operational_data/crafts/atmospheric (exists: true)
ground: /home/galaxy_game/data/json-data/operational_data/crafts/ground (exists: true)
space: /home/galaxy_game/data/json-data/operational_data/crafts/space (exists: true)
    outputs path information without errors
    outputs correct path information
  #find_craft
    uses cached results for subsequent lookups
    loads crafts from the correct file structure
    loads JSON files with correct format
    returns nil for nonexistent crafts
    validates input parameters
    with real craft data
      matches by id
      handles whitespace in queries
      can match by multiple criteria simultaneously
      matches by subcategory if present
      is case insensitive
      handles special characters in queries (PENDING: No special characters in craft name)
      matches by category
      matches by name
      matches by partial id with sufficient length
      matches by partial name with sufficient length
    with error handling
      handles invalid path errors
      handles file not found errors
      handles IO errors
      handles JSON parsing errors
      handles directory not found errors

Manufacturing::Construction::ConstructionManager
  .complete?
    returns true if current time >= estimated_completion
    returns false if current time < estimated_completion
    returns false if entity does not respond to estimated_completion
    returns false if estimated_completion is nil
  .assign_builders
    logs and returns true

Craft::Transport::Cycler
  validations
    is expected to validate that :orbital_period cannot be empty/falsy
    is expected to validate that :cycler_type cannot be empty/falsy
  #initialize_trajectory
    sets correct orbital period for earth_mars cycler
    sets correct orbital period for earth_venus cycler
    sets correct orbital period for venus_mars cycler
  associations
    is expected to have many docked_crafts
    is expected to have many scheduled_departures
    is expected to have many scheduled_arrivals
  #validate_cycler_requirements
    adds error if craft_type is not cycler

TerraSim::HydrosphereSimulationService
  #handle_evaporation
    handles numeric volume values (not hashes)
    decreases water body volumes
    adds water vapor to the atmosphere
  integration: full simulation cycle
    maintains valid state distribution percentages
    runs a complete simulation without errors
    never produces negative state distribution values
  #handle_ice_melting
    when temperature is above freezing
      updates state distribution to decrease solid percentage
      melts ice from polar caps
      updates state distribution to increase liquid percentage
      does not melt more than maximum allowed per cycle
      adds some melted water as vapor to atmosphere
      does not allow solid percentage to go negative
    when temperature is below freezing
      does not melt any ice
    when ice caps do not exist
      returns early without error
  #update_hydrosphere_volume
    delegates to the hydrosphere model method
  edge cases
    with extreme hot temperature
      handles extreme heat without errors
    with zero water bodies
      handles zero volumes without errors
    with extreme cold temperature
      handles extreme cold without errors
  #calculate_state_distributions
    calculates state distribution based on temperature and pressure
  #initialize
    initializes with a celestial body and its spheres
    sets up material lookup service
  #calculate_region_temperatures
    sets water temperatures cooler than surface temperature
    calculates temperatures for all water bodies
  #handle_precipitation
    increases water body volumes
    decreases atmospheric dust concentration
    removes water vapor from the atmosphere
  #simulate
    does not run if any required sphere is missing
    calls all simulation methods in order
    prevents recursive calls with simulation flag

Craft::Harvester
  #process_resources
    converts raw material into refined material
    does nothing if no processable materials are present
  validations
    is invalid with a negative extraction_rate
    is valid with a positive extraction_rate
  #extract_resources
    when extracting from a valid target
      increases inventory with extracted resources (FAILED - 32)
    when extracting from an invalid target
      raises an error
    when storage is full
      raises an error

CelestialBodies::Materials::GeologicalMaterial
  uses the geological_materials table
  state helper methods
    returns true for liquid? when state is 'liquid'
    returns true for solid? when state is 'solid'
    returns true for gas? when state is 'gas'
  associations
    can be accessed through geosphere.geological_materials
    belongs to geosphere
  validations
    is not valid with a negative mass
    is not valid with an invalid layer
    is not valid with a percentage over 100
    is not valid without a name
    is not valid with a negative percentage
    is not valid with an invalid state
  exotic state handling
    handles plasma state
    handles metallic hydrogen specifically
    correctly reports state for exotic materials

Market::NpcPriceCalculator
  .calculate_bid
    with EAP ceiling enforcement
      allows normal bidding when price is below EAP ceiling
      returns nil when player sell order exceeds EAP ceiling (chooses Earth import)
    with inventory adjustments
      pays more when inventory is critical
      pays normal price when inventory is adequate
      does not buy when inventory is excess
    with cost-based pricing
      returns Earth import cost with discount
      returns nil if settlement does not want resource
  .calculate_ask
    with cost-based pricing (no market history)
      returns Earth import cost plus markup
      maintains minimum profit margin
    with market-based pricing (sufficient history)
      uses market average with markup
      never goes below cost floor
  local production pricing
    when settlement cannot produce locally
      falls back to import pricing
    when settlement can produce locally
      uses local production cost instead of import cost
      offers much cheaper prices than import
  error handling
    handles settlements without location
    handles nil settlement
    returns nil gracefully for unknown materials
  .calculate_spread
    calculates bid-ask spread
    calculates spread percentage correctly
  integration with Tier1PriceModeler
    uses Tier1PriceModeler for base cost calculations
  integration with Market::PriceHistory
    queries price history for market-based pricing
    for silicon (Si) used in debt repayment ceiling
      calculates ask price for silicon

MaterialManagementConcern
  #add_material
    when material is a gas
      updates atmosphere composition
    with valid inputs
      raises error for unknown material
      creates material with standardized ID
      validates material name presence
      validates positive amount
      adds to existing material amount
      looks up material data using real service
  #remove_material
    when material is a gas
      updates atmosphere composition
    with valid inputs
      validates material name presence
      reduces material amount and saves
      raises error for insufficient material
      raises error for unknown material
      raises error when material not found
      sets amount to zero when fully removed
      validates positive amount
  #has_gas_properties?
    returns true for gases
    returns falsy when material not found
    returns false for non-gas materials
  integration with CelestialBody
    handles material validation errors properly
    works with actual celestial body materials association
    correctly identifies gas materials from fixtures

CelestialBodies::Star
  correctly calculates habitable zone
  is not valid without life expectancy
  is not valid without a temperature
  is not valid without a type_of_star
  sets default luminosity for a sun-like star
  should have a positive mass
  should have a positive temperature
  is not valid without an r_ecosphere
  is valid with all attributes
  is not valid without an age
  is not valid without a mass
  sets default luminosity based on type_of_star
  responds to attributes
  is not valid without a radius
  is not valid without a name
  should have a positive radius

CelestialBodies::MinorBodies::DwarfPlanet
  validations
    is valid with valid attributes
  #calculate_geological_activity
    calculates geological activity based on mass and age
  #is_spherical?
    returns true for dwarf planets

TerraSim::AtmosphereSimulationService
  #update_temperatures
    updates all temperature types in atmosphere
  real mass/pressure update and inert gas preservation
[AtmosphereSimulation] Starting simulation for 1 days
  Initial temp: 288.0 K
  Initial pressure: 1.0 bar
  DEBUG Stefan-Boltzmann inputs:
    albedo: 0.3
    solar_input: 589.2651614974635
    sigma: 5.67e-08
    (1-albedo)*solar: 412.4856130482244
    4*sigma: 2.268e-07
    ratio: 1818719634.2514305
    unclamped temp: 206.51 K
    clamped temp: 206.51 K
  Base temp (Stefan-Boltzmann): 206.51 K
  Greenhouse warming: 7.88 K
  Final surface temp: 214.39 K
  Final temp: 214.39 K
  Final pressure: 0.017523 bar
    does not zero out mass/pressure or remove Argon
  #simulate
[AtmosphereSimulation] Starting simulation for 1 days
  Initial temp: 288.0 K
  Initial pressure: 1.0 bar
  DEBUG Stefan-Boltzmann inputs:
    albedo: 0.3
    solar_input: 1367.5280050085198
    sigma: 5.67e-08
    (1-albedo)*solar: 957.2696035059638
    4*sigma: 2.268e-07
    ratio: 4220765447.55716
    unclamped temp: 254.89 K
    clamped temp: 254.89 K
  Base temp (Stefan-Boltzmann): 254.89 K
  Greenhouse warming: 0.0 K
  Final surface temp: 254.89 K
  Final temp: 254.89 K
  Final pressure: 1.0 bar
    calculates the greenhouse effect
[AtmosphereSimulation] Starting simulation for 1 days
  Initial temp: 288.0 K
  Initial pressure: 1.0 bar
  DEBUG Stefan-Boltzmann inputs:
    albedo: 0.3
    solar_input: 1367.5280050085198
    sigma: 5.67e-08
    (1-albedo)*solar: 957.2696035059638
    4*sigma: 2.268e-07
    ratio: 4220765447.55716
    unclamped temp: 254.89 K
    clamped temp: 254.89 K
  Base temp (Stefan-Boltzmann): 254.89 K
  Greenhouse warming: 0.0 K
  Final surface temp: 254.89 K
  Final temp: 288.0 K
  Final pressure: 1.0 bar
    updates temperature data in the atmosphere
[AtmosphereSimulation] Starting simulation for 1 days
  Initial temp: 288.0 K
  Initial pressure: 1.0 bar
  DEBUG Stefan-Boltzmann inputs:
    albedo: 0.3
    solar_input: 1367.5280050085198
    sigma: 5.67e-08
    (1-albedo)*solar: 957.2696035059638
    4*sigma: 2.268e-07
    ratio: 4220765447.55716
    unclamped temp: 254.89 K
    clamped temp: 254.89 K
  Base temp (Stefan-Boltzmann): 254.89 K
  Greenhouse warming: 0.0 K
  Final surface temp: 254.89 K
  Final temp: 254.89 K
  Final pressure: 1.0 bar
    simulates atmospheric loss
[AtmosphereSimulation] Starting simulation for 1 days
  Initial temp: 288.0 K
  Initial pressure: 1.0 bar
  DEBUG Stefan-Boltzmann inputs:
    albedo: 0.3
    solar_input: 1367.5280050085198
    sigma: 5.67e-08
    (1-albedo)*solar: 957.2696035059638
    4*sigma: 2.268e-07
    ratio: 4220765447.55716
    unclamped temp: 254.89 K
    clamped temp: 254.89 K
  Base temp (Stefan-Boltzmann): 254.89 K
  Greenhouse warming: 0.0 K
  Final surface temp: 254.89 K
  Final temp: 254.89 K
  Final pressure: 1.0 bar
    updates the pressure
[AtmosphereSimulation] Starting simulation for 1 days
  Initial temp: 288.0 K
  Initial pressure: 1.0 bar
  DEBUG Stefan-Boltzmann inputs:
    albedo: 0.3
    solar_input: 1367.5280050085198
    sigma: 5.67e-08
    (1-albedo)*solar: 957.2696035059638
    4*sigma: 2.268e-07
    ratio: 4220765447.55716
    unclamped temp: 254.89 K
    clamped temp: 254.89 K
  Base temp (Stefan-Boltzmann): 254.89 K
  Greenhouse warming: 0.0 K
  Final surface temp: 254.89 K
  Final temp: 254.89 K
  Final pressure: 1.0 bar
    decreases dust
  #initialize
    defaults magnetosphere_active to true
    initializes with a celestial body
    accepts magnetosphere_active parameter
    sets up the Stefan-Boltzmann constant
  temperature calculation methods
  DEBUG Stefan-Boltzmann inputs:
    albedo: 0.3
    solar_input: 1366.0
    sigma: 5.67e-08
    (1-albedo)*solar: 956.1999999999999
    4*sigma: 2.268e-07
    ratio: 4216049382.716049
    unclamped temp: 254.82 K
    clamped temp: 254.82 K
    calculates stefan_boltzmann_temp correctly
    calculates greenhouse_adjusted_temp correctly
    calculates water_vapor_pressure correctly

CelestialBodies::Features::LavaTube
  #can_pressurize?
    returns false if openings are not sealed
    returns true when all openings are sealed
  #conversion_suitability
    returns suitability data
  #set_feature_type
    automatically sets feature_type
  associations
    is expected to have many skylights
    is expected to have many access_points
  #create_openings_from_static_data!
    creates skylights for skylight openings
    creates child opening features
  dimension accessors
    reads dimensions from static data
  #natural_openings
    returns openings from static data
  #strategic_value
    returns strategic value array

Craft::Satellite::BaseSatellite
  unit loading
    installs the correct recommended units
    when recommended units are specified in operational data
      installs the correct recommended units
  #valid_deployment_location?
    when operational data defines specific deployment locations
      permits locations defined in its operational data
      rejects locations not defined in its operational data, even if generally space-based
      rejects clearly non-space deployment locations
    when operational data does NOT define specific deployment locations
      permits general space-based locations from BaseSatellite fallback list
      rejects clearly non-space deployment locations
  #deploy
    updates location string and deployment status if valid
    raises if given invalid deployment location string
  associations and basic attributes
    can access its location helper
    has the correct current location string
    #needs_atmosphere? returns false for satellites

Manufacturing::AssemblyService
  .start_assembly
    with invalid settlement
      fails with invalid settlement error
    with missing materials and buy_missing = false
      fails and reports missing materials
    with invalid blueprint
      fails with invalid blueprint error
    with missing materials and buy_missing = true
      fails if cannot afford material costs
      buys missing materials and creates job
    with all materials available
      charges the tenant fee (FAILED - 33)
      creates an assembly job successfully
    with insufficient funds for tenant fee
      fails with insufficient funds error
  job type determination
    for structure blueprints
      creates a ConstructionJob
    for unit blueprints
      creates a UnitAssemblyJob

End-to-End Economic Simulation

========================================================
E2E SIMULATION: LDC Initial Market Price Determination
========================================================
EAP Final Price for titanium_alloy                     : $137.5 GCC/kg
EAP Final Price for composite_insulation               : $106.0 GCC/kg
EAP Final Price for pressure_valves                    : $116.0 GCC/kg
EAP Final Price for electronics                        : $220.0 GCC/kg

--- Calculating EAP-COGS (Imported Floor Cost) ---
COGS Breakdown:
- Titanium_alloy           : 80.0 kg * $137.5/kg = $11000.0
- Composite_insulation     : 20.0 kg * $106.0/kg = $2120.0
- Pressure_valves          : 10.0 kg * $116.0/kg = $1160.0
- Electronics              : 10.0 kg * $220.0/kg = $2200.0
--------------------------------------------------------
Total Raw Material Cost (pre-waste) : $16480.0
Production Efficiency (1 / Waste)   : 0.95
Total COGS (Material Cost / Eff.)   : $17347.3684

=> EAP-COGS (Imported Floor Price): $17347.37 GCC

--- Determining AI Strategic Listing Price ---
Earth Corp Price (Competitor): $8500.0 GCC
Target Undercut Margin: 5.0%
Final LDC Listing Price: $8075.0 GCC
  simulates the full pipeline to determine the initial market listing price

MarketListingService
  when selling based on LAP-COGS (Local Production Phase)

--- Pricing Scenario 2: Local Production Phase (LAP-COGS) ---
LAP-COGS (Floor): 4715.79 GCC
Earth Price (Competitor): 8500.00 GCC
Listing Price: 8075.0 GCC (5% Undercut)
Margin vs. LAP-COGS: 3359.21 GCC
    sets the price exactly 5% below the Earth Price, maximizing margin
  when selling based on EAP-COGS (Initial Import Phase)

--- Pricing Scenario 1: Initial Import Phase (EAP-COGS) ---
EAP-COGS (Floor): 7178.95 GCC
Earth Price (Competitor): 8500.00 GCC
Listing Price: 8075.0 GCC (5% Undercut)
    sets the price exactly 5% below the Earth Price
  when COGS is too high to undercut the Earth Price by 5%

--- Pricing Scenario 3: High COGS Edge Case ---
HIGH_COGS (Floor): 8400.0 GCC
Earth Price (Competitor): 8500.00 GCC
Listing Price: 8484.0 GCC (COGS + 1% Margin)
    sets the price to the Minimum Acceptable Price (COGS + 1%)

GeosphereConcern
  #add_material
    validates the material exists in lookup service
    adds material to the specified layer
  #calculate_tectonic_activity
    sets tectonic_activity to true when geological_activity > 50
    sets tectonic_activity to false when geological_activity <= 50
  #reset
    does not modify attributes when base_values are empty
    returns false if base_values are not present
    handles missing base values gracefully
    returns false if base_values lack required keys
    resets attributes to base values
  #update_geological_activity
    clamps activity to 0-100 range
    calculates and updates geological_activity based on factors
  callback hooks
    calls update_material_records when composition changes
    calls update_material_states when temperature changes
  #physical_state
    returns gas for temperature above boiling point
    returns solid for temperature below melting point
    returns liquid for temperature between melting and boiling points
    returns solid as default when material data is missing
  #remove_material
    validates the layer parameter
    returns false if material does not exist
    destroys the material record if amount becomes zero
    removes the specified amount of material
  #extract_volatiles
    extracts volatiles based on temperature increase
    returns empty hash when no volatiles are present
    adds gases to atmosphere using chemical formula

Guaranteed Market Sale Transaction
  guaranteed sell order execution
    calls TransactionManager.create_transfer with correct arguments
    executes atomically and creates all required records
    creates a Trade record with correct buyer and seller
    creates a SupplyChain record with correct volume and status
    records a PriceHistory entry after trade execution
    does not create a SupplyChain record if no matching buy order exists
    marks the order as filled by returning nil

Manufacturing::Construction::CoveringService
  #calculate_materials
    merges panel-specific materials
    calculates base materials using CoveringCalculator
    sums quantities for duplicate materials
  #track_progress
    returns false if job not in progress
    releases equipment
    returns false if construction not complete
    returns true when complete
    updates coverable status
    completes construction when work is done
  #start_construction
    returns false if materials not gathered
    updates job status to in_progress
    updates coverable status to under_construction
    assigns builders through ConstructionManager
    returns false if equipment not gathered
  #initialize
    initializes with coverable, panel type, and settlement
    finds settlement from coverable if not provided
    uses default panel type if not provided
  #schedule_construction
    returns error if no settlement
    creates material requests
    returns success with construction job
    creates equipment requests
    returns error if no blueprint found
    updates coverable status to materials_requested
    creates a construction job

Location::CelestialLocation
  associations
    is expected to belong to locationable optional: true
    is expected to belong to celestial_body required: true
  #orbit_type
    returns :high for high orbit (> 35,786 km)
    returns :medium for medium orbit (2,000-35,786 km)
    returns :low for low orbit (< 2,000 km)
    returns nil for surface locations
  #longitude
    handles zero longitude
    parses negative longitude from West coordinates
    parses positive longitude from East coordinates
  #full_coordinates
    returns coordinates for surface locations
    includes altitude for orbital locations
  scopes
    .surface_locations
      returns locations with nil or zero altitude
    .low_orbit
      returns locations between 0 and 2,000 km
    .orbital_locations
      returns locations with positive altitude
    .high_orbit
      returns locations above 35,786 km
    .medium_orbit
      returns locations between 2,000 and 35,786 km
  validations
    is invalid with blank coordinates
    is invalid without coordinates
    is expected to validate that :name cannot be empty/falsy
    is expected to validate that :celestial_body cannot be empty/falsy
    uniqueness validation
      allows different coordinates on the same celestial body
      validates that coordinates are unique with the same case within the same celestial body
      allows the same coordinates on a different celestial body
      validates that coordinates are case-insensitively unique within the same celestial body
    coordinate format
      accepts valid coordinates
      rejects invalid coordinates
    altitude validation
      accepts nil altitude (surface location)
      accepts zero altitude (surface location)
      accepts positive altitude (orbital location)
      rejects negative altitude
  #altitude_km=
    sets nil from nil
    sets altitude from kilometers
  orbital mechanics
    #gravity
      returns surface gravity for surface locations
      calculates reduced gravity at altitude
      returns nil if celestial body lacks required methods
    #orbital_period
      returns nil if celestial body lacks required methods
      calculates period for orbital locations
      returns nil for surface locations
    #orbital_velocity
      returns nil for surface locations
      calculates velocity for orbital locations
      returns nil if celestial body lacks required methods
  #orbital?
    returns false for surface locations
    returns true for orbital locations
  #altitude_km
    converts meters to kilometers
    returns nil for surface locations
  environmental data and solar output
    #solar_output_factor
      without environmental data
        returns 1.0 as default
      with Mars
        returns 1.0 during daylight
        returns 0.0 during night
      with Titan
        returns constant low factor
      with Luna (moon)
        returns 1.0 during daylight
        returns 0.0 during night
  #description
    describes orbital locations
    describes surface locations
  #surface?
    returns false for positive altitude
    returns true for zero altitude
    returns true for nil altitude
  #latitude
    parses negative latitude from South coordinates
    handles zero latitude
    parses positive latitude from North coordinates

CelestialBodies::PlanetBiome
  has access to celestial_body through biosphere
  validations
    is not valid without a biosphere
    is not valid without a biome
    is valid with valid attributes
    is expected to validate that :biome_id is case-sensitively unique within the scope of :biosphere_id
  jsonb properties
    can set and retrieve moisture_level
    can set and retrieve latitude
    supports deprecated water_level with warning
    can set and retrieve area_percentage
    can set and retrieve vegetation_cover
    can set and retrieve biodiversity
    default values for properties
      defaults latitude to 0.0
      defaults biodiversity to 0.0
      defaults vegetation_cover to 0.0
      defaults area_percentage to 0.0
      defaults moisture_level to 0.0
  associations
    is expected to belong to biosphere class_name => CelestialBodies::Spheres::Biosphere required: true
    is expected to belong to biome required: true
  callbacks
    updates biosphere biodiversity after destruction
    updates biosphere biodiversity after creation

Manufacturing::Service
  .manufacture
    with different construction cost percentages
      uses settlement's custom construction percentage
    with invalid blueprint
      returns failure when blueprint not found
    with real blueprint data
      creates material requests based on actual blueprint requirements (PENDING: This test expects material requests for a player with available materials, but the intended behavior is to only create material requests for AI managers or when materials are missing.)
      automatically fulfills material requirements when materials are available
      stores actual blueprint data in specifications (FAILED - 34)
    with real blueprints
      works with different blueprint categories
      creates a UnitAssemblyJob and charges construction cost using real blueprint
    with sufficient funds
      creates a UnitAssemblyJob and charges the player construction cost

Colony
  population calculations
    calculates total population
  associations
    has multiple settlements
    has an account
    has an inventory
  validations
    requires at least two settlements
    is valid with valid attributes

Manufacturing::Construction::SkylightService
  #complexity_factor
    returns 1.5 for solar panels
    returns 1.3 for thermal insulation
    returns 1.0 for basic transparent panels
  #calculate_panel_specific_materials
    calculates solar panel materials
    scales materials by panel count
    calculates transparent panel materials
  #initialize
    uses skylight-specific default panel type
    finds settlement from lava tube
  #determine_completion_status
    returns primary_cover for basic transparent
    returns solar_cover for solar panels
    returns full_cover for structural on primary cover

Financial::ExchangeRateService
  integration with economic config
    works with the initial USD=GCC peg
    supports future currency decoupling
  #set_rate
    normalizes keys to strings
    sets a new rate
    updates an existing rate
  #convert
    handles string and symbol currencies
    defaults to 1.0 rate when no rate is found
    returns the amount unchanged when from and to currencies are the same
    converts using the stored rate
  #price_for
    falls back to base price when market price is not available
    returns market price when available
  #initialize
    initializes with empty rates by default
    initializes with provided rates
  #get_rate
    normalizes keys to strings
    returns the stored rate
    returns 1.0 for unknown rate pairs
  #base_price_for
    when blueprint is found with cost_data
      returns the blueprint cost converted to target currency
    when neither item nor blueprint is found
      returns default value converted to target currency
    when item is found with value
      returns the item value converted to target currency
      defaults to GCC currency when not specified
  #value_of
    converts item quantity to target currency
    uses default rate when no specific rate exists
  #market_price_for
    returns nil (TODO: implement market price lookup)

CelestialBodies::BrownDwarf
  #is_star?
    returns false
  #is_orbiting_star?
    returns false for isolated brown dwarfs
    returns true for brown dwarfs in a solar system
  relationships with planets
    can have orbiting planets (PENDING: Brown dwarf planetary systems not yet implemented)
  default attributes
    sets default effective temperature
    sets default luminosity
    sets default spectral type
  validations
    allows nil orbital_period
    is valid with default attributes
    validates orbital_period is greater than or equal to 0 when present
  #distance_from_star
    returns nil for isolated brown dwarfs
    when part of a solar system
      delegates to super when orbiting a star
      returns nil when no star distances exist
  habitable zones
    has a limited habitable zone (PENDING: Habitable zone calculations not yet implemented for brown dwarfs)
  physical properties
    has appropriate mass for a brown dwarf
    has appropriate surface temperature for a brown dwarf
  atmospheric and other properties
    can have an atmosphere

Financial::Currency
  associations
    is expected to have many accounts
    is expected to have many transactions
    is expected to belong to issuer optional: true
  validations
    is expected to allow :is_system_currency to be ‹true› or ‹false›
    is expected to validate that :symbol is case-sensitively unique
    is expected to validate that :symbol cannot be empty/falsy
    is expected to validate that :name is case-sensitively unique
    is expected to validate that :name cannot be empty/falsy
    is expected to allow :precision to be ‹2›

AIManager::SystemIntelligenceService
  #economic_health_score
    with balances
      calculates score
    no SSC
      returns 0
  #narrative_status
    healthy status
      returns healthy narrative
    warning status
      returns warning narrative
    critical status
      returns critical narrative
  #logistics_efficiency
    with contracts
      calculates efficiency
    no contracts
      returns 0.0
  #licensing_runway
    with USD balance
      calculates runway correctly
    with zero balance
      returns zero runway
    no SSC found
      returns nil
  #system_status
    with operational structures
      returns correct operational ratio and status
    with mostly non-operational structures
      returns critical status
    with all operational structures
      returns healthy status
  #sustainability_delta
    calculates positive delta

Financial::TaxCollectionService
  .collect_sales_tax
    when organization is missing a tax rate
      returns 0.0 and does not call the TransactionManager
    when tax is applicable
      calculates the correct tax amount
      calls the TransactionManager to move the tax funds
    when tax rate is zero (e.g., for Tax Authority)
      returns 0.0 and does not call the TransactionManager

CelestialBodies::Planets::Rocky::TerrestrialPlanet
  #earth_masses
    returns the mass of the planet in Earth masses
  #classification
    returns a string classification for the planet
  #habitability_score
    returns a numeric score for habitability
  #habitable_zone?
    returns a boolean indicating if the planet is in the habitable zone
  #atmosphere_score
    returns a numeric score for atmosphere habitability
  #gravity_score
    returns a numeric score for gravity habitability
  #earth_radii
    returns the radius of the planet in Earth radii
  #pressure_score
    returns a numeric score for pressure habitability
  #calculated_atmospheric_pressure
[AtmosphereSimulation] Starting simulation for 1 days
  Initial temp: 288.0 K
  Initial pressure: 0.0 bar
  DEBUG Stefan-Boltzmann inputs:
    albedo: 0.3
    solar_input: 0.0
    sigma: 5.67e-08
    (1-albedo)*solar: 0.0
    4*sigma: 2.268e-07
    ratio: 0.0
    unclamped temp: 0.0 K
    clamped temp: 150.0 K
  Base temp (Stefan-Boltzmann): 150.0 K
  Greenhouse warming: 0.0 K
  Final surface temp: 150.0 K
  Final temp: 150.0 K
  Final pressure: 0.0 bar
    returns a numeric value for calculated atmospheric pressure
  #atmosphere_composition
    returns a hash of gas names and percentages
  #day_night_cycle
    returns nil or a numeric value for the day-night cycle
  #temperature_score
    returns a numeric score for temperature habitability

Generators::GameDataGenerator
  generates and saves a valid JSON item

EconomicConfig
  cryptocurrency mining methods
    returns the GCC difficulty scaling flag
    returns the GCC initial block reward
    returns the GCC halving interval days
    returns the GCC minimum block reward
    returns the GCC issuance model
    returns the GCC max supply
  earth pricing methods
    returns nil for unknown materials
    returns earth spot price for known materials
  transport methods
    returns transport rate for manufactured
    returns transport rate for high_tech
    returns transport rate for bulk_material
    falls back to bulk_material rate for unknown categories

CelestialBodies::Satellites::Satellite
  orbital relationship methods
    #orbits_planet?
      returns false when parent celestial body is not set
      returns true when parent is a terrestrial planet
    #calculate_tidal_forces
      calculates tidal forces when all data is present
      returns 0 when parent celestial body is not set
      returns 0 when mass is not set
  rotational mechanics
    #tidally_locked?
      returns false when periods differ significantly
      returns true when periods are within 5% tolerance
      returns true when rotational and orbital periods are equal
      returns false when either period is missing
    #temperature_variation
      returns :extreme for very long rotational periods
      returns :normal for Earth-like rotation
      returns :extreme when rotational_period is nil
      returns :none for tidally locked satellites
    #day_length_hours
      converts rotational period from days to hours
      returns nil when rotational_period is not set
  associations
    has parent_body alias
    belongs to parent_celestial_body
  validations
    validates orbital_period is positive
    allows nil values for orbital and rotational periods
    validates rotational_period is positive
  inheritance and concerns
    includes OrbitalMechanics concern
    inherits from CelestialBody

Lookup::EarthReferenceService
  Earth reference data
    loads Earth data from the fixture file
  fallback behavior
    uses fallback values when properties are missing

Manufacturing::Construction::SegmentCoveringService
  #calculate_panel_specific_materials
    calculates worldhouse-scale materials
    scales materials by panel count
    includes cable calculations for massive segments
  #calculate_equipment_requirements
    scales equipment for massive segments
    requires minimum 10 printers for worldhouse
    requires heavy equipment
  #complexity_factor
    returns 1.5 base factor for worldhouse
    increases factor for very large segments
  #schedule_construction
    creates construction phases for large segments
    includes phase names and durations
  #initialize
    uses modular_structural_panel as default
    finds settlement from worldhouse

Shell Printing Game Loop Integration
  full shell printing cycle
    encloses inflatable tank through game loop progression (FAILED - 35)
    tracks material composition in shell metadata (FAILED - 36)

ShellPrintingJob
  #process_tick
    when job completes during tick
      completes the job
    when job is not complete
      increases progress_hours
  #time_remaining_hours
    calculates remaining time
  associations
    is expected to belong to settlement required: true
    is expected to belong to inflatable_tank required: true
    is expected to belong to printer_unit required: true
  scopes
    returns completed jobs
    returns active jobs
    returns in_progress jobs
  #complete!
    changes status to completed and sets completed_at
  #start!
    changes status to in_progress and sets started_at
  #progress_percentage
    calculates progress percentage
  validations
    is expected to validate that :production_time_hours cannot be empty/falsy
    is expected to validate that :status cannot be empty/falsy
    is expected to validate that :production_time_hours looks like a number greater than 0

PressurizationService
  #check_sealing_status
    with traditional sealed environment
      returns ready for sealed environment (FAILED - 37)
      returns not ready for unsealed environment (FAILED - 38)
    with pressurization target (canyon)
      returns not ready when requirements not met (FAILED - 39)
    with pressurization target (lava tube)
      returns ready when requirements met (FAILED - 40)
      returns not ready when requirements not met (FAILED - 41)

Financial::BondRepayment
  associations
    is expected to belong to currency required: true
    is expected to belong to bond required: true

GameController
  private get_or_create_game_state
    creates a new game state if none exists
    returns the existing game state if present
  GET #index edge cases
    handles celestial bodies with no parent or atmosphere
    handles missing solar system gracefully
  GET #index
    updates time if game is running
    doesn't update time if game is not running
    initializes a game state if none exists
    uses an existing game state if one exists
    solar system seeding and display
      calls SystemBuilderService to build the system if no solar system exists (FAILED - 42)
      defines is_moon and body_category singleton methods on celestial bodies (FAILED - 43)
      logs celestial body attributes for debugging (FAILED - 44)
      generates correct JSON with parent_body_identifier for moons (FAILED - 45)
      returns JSON with correct celestial bodies data (FAILED - 46)
      assigns the Sol solar system and its celestial bodies (FAILED - 47)
      correctly calculates @planet_count excluding satellites (FAILED - 48)
  GET #state
    returns the current game state
    updates time if running
  POST #toggle_running
    toggles the running state from false to true
    toggles the running state from true to false
    returns JSON with the updated state
  GET #simulation
    redirects to root_path if solar system not found
    assigns the correct solar system and its primary star
  POST #jump_time
    adds the specified number of days
    handles year rollover
    clamps days between 1 and 365
  POST #set_speed
    updates the game speed
    clamps the speed value between 1 and 5

FittingResult
  marks success false and adds error when add_error is called
  initializes with success true and empty arrays

CelestialBodies::CelestialBody
  #planet_class?
    returns true for a planet type
    returns false for non-planet type
    returns false for nil type
  properties JSONB accessors
    can read and write last_simulated_at
  #is_moon
    returns false for normal celestial bodies
    returns true if type is moon
  associations
    is expected to have one atmosphere dependent => destroy
    is expected to have one spatial_location dependent => destroy
    is expected to have one biosphere dependent => destroy
    is expected to have many locations dependent => destroy
    is expected to belong to solar_system optional: true
    is expected to have one geosphere dependent => destroy
    is expected to have one hydrosphere dependent => destroy
  material management
    #add_material
      updates atmosphere gases if material is a gas
      creates or updates material properly
    #remove_material
      updates atmosphere gases accordingly
      reduces material amount and deletes if zero
  calculated properties
    calculates escape_velocity correctly
    calculates surface_area correctly
    calculates volume correctly
  #should_simulate?
    returns false if not active
    returns true for planet_class? or is_moon
    returns true if force_simulate property is set
    returns false if radius is too small
  #distance_from_star
    returns distance when star_distances present
    returns nil if no star distance

CelestialBodies::Planets::Gaseous::GaseousPlanet
  validations
    is valid with valid attributes
    requires density to be less than 2.0
  #has_solid_surface?
    returns false for gaseous planets
  #calculate_bands
    with fast rotation
      calculates more cloud bands
    with nil rotation period
      returns a default value
    with slower rotation
      calculates fewer cloud bands
  #calculate_blackbody_temperature
    without valid star data
      returns a default temperature value
    with valid star and semi-major axis
      calculates approximate blackbody temperature

Settlement::NPCColony
  calculates total population across settlements (FAILED - 49)
  can perform autonomous tasks (FAILED - 50)
  can establish trade routes (FAILED - 51)
  can build a unit (FAILED - 52)

TerraSim::BiosphereSimulationService
  private #calculate_light_availability
    calculates light availability based on star luminosity and atmospheric dust
  terraforming integration
    #simulate with time parameter
  Simulating interactions in Biome-13193975-2c18-4ed2-b15a-533d1d4ef9ca (Vegetation Cover: 0.2)
    Plant growth: 0.2 → 0.2 (Light: 0.69, Temp: 0.0, Moisture: 0.7)
  Simulating interactions in Biome-b15c9a9f-840b-4c83-a7f7-85e33a66ae32 (Vegetation Cover: 0.34)
    Plant growth: 0.34 → 0.34 (Light: 0.69, Temp: 0.0, Moisture: 0.3)
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 70.0
  Adjusting global temperatures:
  - Tropical: 300.0 → 300.88235294117646
  - Polar: 260.0 → 273.1674836601307
  - Target: 301.7647058823529 (based on biome optima)
  Biome Biome-13193975-2c18-4ed2-b15a-533d1d4ef9ca: moisture 1, area 25.07%
  Biome Biome-b15c9a9f-840b-4c83-a7f7-85e33a66ae32: moisture 0.44, area 19.4%
[DEBUG] No Cyanobacteria present in biosphere.
[BiosphereAtmosphere] No organisms - using fallback gas changes
[Conservation] CO2 too low (0.0%) - stopping photosynthesis
Vegetation scaling factor: 0.4
Atmosphere changes over 100 days:
  O2:  0.0 → 0.0 (+0.0%)
  CO2: 0.0 → 0.0 (+0.0%)
  CH4: 0.0 → 5.0 (+5.0%)
Calculated gas deltas using total_mass 100.0: O2=0.0, CO2=0.0, CH4=5.0
  Habitability: 51.25% (O2:0% Temp:100% H2O:85% P:0%)
  Habitability: 51.25% (O2:0% Temp:100% H2O:85% P:0%)
      stores time_skipped for use in other methods
  Simulating interactions in Biome-ff783e0b-7159-4de7-a3f3-144534e74797 (Vegetation Cover: 0.75)
    Plant growth: 0.75 → 0.75 (Light: 0.69, Temp: 0.0, Moisture: 0.7)
  Simulating interactions in Biome-36af4517-c87a-4e64-b1b8-78f1b447bc1c (Vegetation Cover: 0.12)
    Plant growth: 0.12 → 0.12 (Light: 0.69, Temp: 0.0, Moisture: 0.3)
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 70.0
  Adjusting global temperatures:
  - Tropical: 300.0 → 300.88235294117646
  - Polar: 260.0 → 273.1674836601307
  - Target: 301.7647058823529 (based on biome optima)
  Biome Biome-ff783e0b-7159-4de7-a3f3-144534e74797: moisture 1, area 23.84%
  Biome Biome-36af4517-c87a-4e64-b1b8-78f1b447bc1c: moisture 0.44, area 77.76%
      passes time to influence_atmosphere
    #influence_atmosphere with life forms
[DEBUG] No Cyanobacteria present in biosphere.
[BiosphereAtmosphere] No organisms - using fallback gas changes
Vegetation scaling factor: 0.4
Atmosphere changes over 1 days:
  O2:  0.01 → 2.01 (+2.0%)
  CO2: 5.0 → 3.0 (-2.0%)
  CH4: 0.0 → 0.5 (+0.5%)
Calculated gas deltas using total_mass 10000000000000.0: O2=200000000000.0, CO2=-200000000000.0, CH4=50000000000.0
DEBUG: Gas records after fallback simulation:
  N2: 9499000000000.0 kg
  O2: 201000000000.0 kg
  CO2: 300000000000.0 kg
  CH4: 50000000000.0 kg
      falls back to hardcoded values when no life forms
[DEBUG] No Cyanobacteria present in biosphere.
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=290.0K, Liquid H2O=70.0%, Pop=1000000000
Using life form atmospheric effects (1 species)
Life form contributions per day: O2=0.1, CO2 consumed=0.05, CH4=0.01
[Conservation] CO2 too low (0.0%) - stopping photosynthesis
Vegetation scaling factor: 0.4
Atmosphere changes over 1 days:
  O2:  0.0 → 0.0 (+0.0%)
  CO2: 0.0 → 0.0 (+0.0%)
  CH4: 0.0 → 0.01 (+0.01%)
Calculated gas deltas using total_mass 100.0: O2=0.0, CO2=0.0, CH4=0.01
[DEBUG] No Cyanobacteria present in biosphere.
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=290.0K, Liquid H2O=70.0%, Pop=1000000000
Using life form atmospheric effects (1 species)
Life form contributions per day: O2=0.1, CO2 consumed=0.05, CH4=0.01
Vegetation scaling factor: 0.4
Atmosphere changes over 10 days:
  O2:  0.0 → 0.4 (+0.4%)
  CO2: 100.0 → 99.8 (-0.2%)
  CH4: 0.0 → 0.1 (+0.1%)
Calculated gas deltas using total_mass 0.5: O2=0.0, CO2=-0.0, CH4=0.0
DEBUG: O2 mass after 1 day: 0.0
DEBUG: O2 mass after 10 days: 0.002
      scales effects by time
[DEBUG] No Cyanobacteria present in biosphere.
[BiosphereAtmosphere] Biosphere ACTIVE: Temp=290.0K, Liquid H2O=70.0%, Pop=1000000000
Using life form atmospheric effects (1 species)
Life form contributions per day: O2=0.1, CO2 consumed=0.05, CH4=0.01
Vegetation scaling factor: 0.4
Atmosphere changes over 10 days:
  O2:  0.01 → 0.41 (+0.4%)
  CO2: 10.0 → 9.8 (-0.2%)
  CH4: 0.0 → 0.1 (+0.1%)
Calculated gas deltas using total_mass 10000000000000.0: O2=40000000000.0, CO2=-20000000000.0, CH4=10000000000.0
DEBUG: Gas records after simulation:
  N2: 8999000000000.0 kg
  O2: 41000000000.0 kg
  CO2: 980000000000.0 kg
  CH4: 10000000000.0 kg
      uses life form effects when available
    #calculate_life_form_atmospheric_effects
      with no life forms
        returns zero effects
      with multiple life forms
        aggregates effects from all species
  #calculate_biosphere_conditions
    calls update_biodiversity and influence_atmosphere
    calculates and updates habitable ratio and ice latitude
  #calculate_biodiversity
    calculates the biodiversity index based on the number of biomes
  #simulate_ecosystem_interactions
  Simulating interactions in Biome-1a54ec88-9d27-4be2-b03e-dc4cd12e6b6a (Vegetation Cover: 0.65)
    Plant growth: 0.65 → 0.65 (Light: 0.69, Temp: 0.33, Moisture: 0.3)
  Simulating interactions in Biome-7b4e6dd6-d2e5-4ba1-a0a8-d833d79a0545 (Vegetation Cover: 0.29)
    Plant growth: 0.29 → 0.3 (Light: 0.69, Temp: 0.5, Moisture: 0.7)
    simulates plant growth and updates vegetation cover
    simulates basic animal activity (logging for now)
  private #calculate_temperature_suitability
--- DEBUG: Before calculate_temperature_suitability ---
Atmosphere ID: 52990, CelestialBody ID: 49727, Biosphere ID: 29774
Atmosphere temperature_data: {"polar_temperature" => 300.0, "tropical_temperature" => 300.0}
Biosphere tropical_temperature (delegated): 300.0
Biosphere polar_temperature (delegated): 300.0
----------------------------------------------------
--- DEBUG: Inside test 'outside range' ---
Atmosphere temperature_data (after update): {"polar_temperature" => 280.0, "tropical_temperature" => 280.0}
Biosphere tropical_temperature (delegated, after update): 280.0
Biosphere polar_temperature (delegated, after update): 280.0
Calculated suitability: 0.0
------------------------------------------
    calculates temperature suitability for a given range when outside range
--- DEBUG: Before calculate_temperature_suitability ---
Atmosphere ID: 52991, CelestialBody ID: 49728, Biosphere ID: 29775
Atmosphere temperature_data: {"polar_temperature" => 300.0, "tropical_temperature" => 300.0}
Biosphere tropical_temperature (delegated): 300.0
Biosphere polar_temperature (delegated): 300.0
----------------------------------------------------
--- DEBUG: Before test execution ---
Biosphere tropical_temperature: 300.0
Biosphere polar_temperature: 300.0
Using temperature range that includes actual average: 295.0..305.0
--- DEBUG: Inside test 'within range' ---
Calculated suitability: 1.0
    calculates temperature suitability for a given range when within range
  #initialize
    initializes with a celestial body and sets the biosphere
  #update_biodiversity
    calculates and updates the biodiversity index
  #balance_biomes
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 70.0
  Adjusting global temperatures:
  - Tropical: 300.0 → 300.88235294117646
  - Polar: 260.0 → 273.1674836601307
  - Target: 301.7647058823529 (based on biome optima)
  Biome Biome-8712f934-eb48-4e75-81b2-c9542d196203: moisture 1, area 25.66%
  Biome Biome-51cb9271-30a9-4d98-82c0-184f6b1dc4c6: moisture 0.44, area 39.58%
    attempts to adjust global temperatures towards biome optima
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 70.0
  Adjusting global temperatures:
  - Tropical: 300.0 → 300.88235294117646
  - Polar: 260.0 → 273.1674836601307
  - Target: 301.7647058823529 (based on biome optima)
  Biome Biome-ed06a854-f32b-4e40-b2a5-b6d9883832a0: moisture 1, area 15.71%
  Biome Biome-325e4fd4-753d-423e-a9bf-6baefcc09108: moisture 0.44, area 62.26%
    attempts to adjust biome area percentages
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 70.0
  Adjusting global temperatures:
  - Tropical: 300.0 → 300.88235294117646
  - Polar: 260.0 → 273.1674836601307
  - Target: 301.7647058823529 (based on biome optima)
  Biome Biome-9e9fb591-0f09-4f1b-b998-5dd0a193ddd9: moisture 1, area 25.27%
  Biome Biome-edd3fc83-acb2-4f30-962b-595b006a49e2: moisture 0.44, area 60.95%
    adjusts biome moisture levels based on climate type
  #simulate
    prevents concurrent simulations
    does nothing if biosphere is nil
    runs the biosphere simulation steps
  #influence_atmosphere
Atmosphere ID: 53000
Celestial Body's atmosphere_id: 53000
Initial gases after reset:
  - CO2: 100.0%, 0.5 kg
[DEBUG] No Cyanobacteria present in biosphere.
[BiosphereAtmosphere] No organisms - using fallback gas changes
Vegetation scaling factor: 0.4
Atmosphere changes over 1 days:
  O2:  0.0 → 2.0 (+2.0%)
  CO2: 100.0 → 98.0 (-2.0%)
  CH4: 0.0 → 0.5 (+0.5%)
Calculated gas deltas using total_mass 0.5: O2=0.01, CO2=-0.01, CH4=0.0
Final gases after influence_atmosphere:
  - O2: 1.9900497512437814%, 0.01 kg
  - CO2: 97.51243781094529%, 0.49 kg
  - CH4: 0.49751243781094534%, 0.0025 kg
    simulates gas exchange with the atmosphere
  #manage_food_web
    simulates carnivore predation and updates prey population
    simulates herbivore consumption and updates vegetation
  #track_species_population
    updates species populations based on birth and death rates

Market::SupplyChain
  requires a market_order
  can track status changes
  scopes active supply chains
  is valid with valid attributes

Lookup::ModuleLookupService
  integration with BaseModule
    provides data needed for module creation
  module data structure validation
    when co2_scrubber module exists
      has correct energy consumption
      has input and output resources
      has all expected module properties
      follows the operational data template
    when life_support module exists
      has basic life support properties
      follows the operational data template
  error handling
    handles JSON parsing errors gracefully
    handles missing base directory gracefully
  #find_module
    loads modules from the correct file structure
    returns nil for nonexistent modules
    handles nil and blank module types
    finds modules case-insensitively
    finds modules by module_type
  service configuration
    includes life_support in module categories
    has the correct base path
    has all expected module categories

Pressurization::BasePressurizationService
  #pressurize
    returns a success result with full pressure when gases are sufficient
    deducts the used gases from available gases
    returns partial success with reduced pressure when gases are insufficient
  #initialize
    sets up the service with default values
    allows custom options
  #calculate_achievable_pressure
    with sufficient gases
      returns the target pressure
    with insufficient gases
      returns a reduced pressure based on the limiting gas
  #calculate_needed_gases
    calculates the mass of each gas needed
  #calculate_total_moles
    calculates moles based on ideal gas law

StarSim::ProceduralGenerator
  #calculate_habitable_zone_center
    scales with stellar luminosity
    defaults to 1 AU when no star provided
    returns 1 AU for sun-like stars
  #initialize
    handles malformed template JSON gracefully
    handles missing template file gracefully
    loads terraformable templates if they exist
  #generate_system_seed_file
Generated seed file: /home/galaxy_game/data/json-data/star_systems/generated_TEST-SYSTEM_20260105_041603.json
    creates a JSON file with system data
Generated seed file: /home/galaxy_game/data/json-data/star_systems/generated_TEST-SYSTEM_20260105_041603.json
    includes timestamp in filename
  integration test
    generates large systems without structural degradation
    uses terraformable templates at an expected rate
    validates schema for all planet types
    generates a complete, valid system
  #generate_system_seed
    generates a complete system structure
    uses the correct system identifier format
  #generate_terrestrial_planets
    with available templates
      requests terraformed names for template-based planets
      applies orbital optimization for template-based planets
      uses templates for approximately 40% of planets
      requests neutral names for procedural planets
      generates procedural planets when not using templates
    without templates
      generates all planets procedurally
  #generate_optimized_orbital_parameters
    places planets near habitable zone for terraformable planets
    calculates orbital period correctly
  #generate_biosphere_data
    returns empty biosphere for unsuitable planets
    provides enhanced biosphere for template-based planets
    provides basic biosphere for planets with good conditions
  #generate_from_template
    creates planet data based on template
    applies small variations to prevent identical planets
    recalculates dependent properties after variation
  #load_terraformable_templates
    only includes terrestrial planets
    ensures templates have required fields
    loads templates successfully
    loads at least 4 templates
  #generate_stars
    respects spectral type probability distribution
    generates stars with realistic spectral types

Settlement::Settlement
  population capacity
    calculates total capacity from habitat units
    calculates available capacity correctly
    checks if it has capacity for additional population
  validations
    is not valid without a name
    is valid with valid attributes

StarsController
  GET #show
    returns a success response
  DELETE #destroy
    destroys the requested star
  POST #create
    with invalid parameters
      renders a JSON response with errors for the new star
    with valid parameters
      renders a JSON response with the new star
      creates a new Star
  GET #index
    returns a success response
  PATCH/PUT #update
    with invalid parameters
      renders a JSON response with errors for the star
    with valid parameters
      renders a JSON response with the star
#<CelestialBodies::Star id: 26483, identifier: "STAR-154", name: "Betelgeuse", type_of_star: "supergiant", age: 8.0, mass: 2.0e+30, radius: 150000000.0, discovery_state: nil, properties: {"spectral_class" => "G2V", "stellar_class" => "Main Sequence"}, created_at: "2026-01-05 04:16:05.891853000 +0000", updated_at: "2026-01-05 04:16:05.919103000 +0000", solar_system_id: nil, luminosity: 3.828e+26, temperature: 3500.0, life: 12.0, r_ecosphere: 1.0>
      updates the requested star

Generators::LavaTubeGenerator
  #generate
    with random generation
      generates random attributes
      generates random dimensions
      creates random skylights and access points
      creates a lava tube with random features
    with minimal parameters
      creates a lava tube with defaults
    with predefined parameters
      creates a lava tube with specified parameters
      creates predefined skylights and access points

CelestialBodies::Features::Valley
  #set_feature_type
    automatically sets feature_type
  #calculate_construction_segments
    returns predefined segments from static data
  #conversion_suitability
    returns suitability data
  dimension accessors
    reads dimensions from static data
  #formation
    returns formation type

Blueprint
  #materials
    returns a hash of required materials from JSON
  #calculate_efficiencies
    calculates material and time efficiencies based on research level
  validations
    is expected to validate that :material_efficiency looks like a number greater than or equal to 0
    is expected to validate that :name cannot be empty/falsy
    is expected to validate that :current_research_level looks like a number greater than or equal to 0
    is expected to validate that :time_efficiency looks like a number greater than or equal to 0

Units::BaseUnit
  #store_on_surface
    returns false if attachable does not respond to :surface_storage
    returns false if surface_storage returns nil
    calls add_pile on surface storage
  associations
    is expected to have one location
    is expected to belong to attachable optional: true
    is expected to belong to owner required: true
    is expected to have one inventory
    is expected to have many attached_units
  unit initialization
    loads correct storage configuration
    #detach!
      nullifies attachable and persists the unit
  storage operations
    #store_resource
      prevents overfilling tank
      validates storage compatibility
      stores oxygen in liquid state
    #store_item
      stores items in both inventory and operational data
      updates existing items
      respects storage capacity limits
  validations
    is expected to validate that :name cannot be empty/falsy
    is expected to validate that :identifier cannot be empty/falsy
    is expected to validate that :unit_type cannot be empty/falsy
  general storage operations
    #store_resource
      can store items up to capacity
      tracks available capacity
  create new unit
    creates a valid unit with given attributes
  location and celestial body
    returns the correct location
    returns the correct celestial body
  #process_resources
    processes material based on composition
  inventory integration
    #store_resource
      updates inventory when removing resources
      creates inventory items when storing resources

CelestialBodies::Features::Canyon
  #conversion_suitability
    returns the conversion suitability hash
  #can_pressurize_section?
    returns true if enclosed and all openings sealed
    returns false if not enclosed or openings not sealed
  validations
    is valid with valid attributes
    sets feature_type to canyon before validation
  #segments
    returns the segments array
  #formation
    returns the formation type
  dimensions
    returns correct depth_m
    returns correct width_m
    returns correct length_m
    returns correct volume_m3

CelestialBodies::Features::AccessPoint
  #sealed?
    returns true when enclosed
    returns false when natural
  #set_feature_type
    automatically sets feature_type
  #area_m2
    calculates area from diameter if no length/width
    calculates area from length and width
  associations
    is expected to belong to parent_feature optional: true

TerrestrialPlanets
  User views a planet detail
  User updates a planet with all attributes
  User updates a planet's name only

Structures::Enclosable
  #calculate_enclosure_materials
    includes ibeam calculations
    calculates materials from blueprint data
    scales materials by area
    includes panel count in materials
  #shell_status_report
    flags maintenance needs when health is low
    provides breakdown per panel type
    calculates total failed correctly
    calculates average health
    returns comprehensive status
    calculates total panels correctly
  #area_km2
    converts square meters to square kilometers
    handles small areas
  #replace_degraded_panels
    calculates panels to replace based on percentage
    health cannot exceed 100%
    improves health percentage
    returns materials needed
  #total_power_generation
    accounts for degradation
    returns 0 for non-solar panels
    combines failures and degradation
    accounts for failed panels
    calculates power from solar panels
  required interface
    requires length_m to be implemented
    requires width_m to be implemented
  #area_m2
    with circular dimensions
      calculates area using diameter
    with rectangular dimensions
      calculates area as width × length
    with very large dimensions
      handles worldhouse scale
  #thermal_rating
    reads from blueprint properties
    returns 0 if not specified
  #light_transmission
    reads from blueprint properties
    returns 0 if not specified
  #repair_panels
    returns materials needed for repair
    cannot repair more than failed
    reduces failed_count
  scale comparison
    handles massive enclosures (worldhouse)
    handles small enclosures (skylight)
  #simulate_panel_degradation
    can cause random panel failures
    health cannot go below 0
    uses degradation_rate from blueprint
    reduces health percentage over time
  panel blueprint loading
    loads blueprint data flexibly
  #update_shell_composition
    stores panel composition in operational_data
    can track multiple panel types

Covering System Integration
  Worldhouse segment covering workflow
    handles massive scale covering
  Lava tube worldhouse covering workflow
    seals skylights when worldhouse construction completes
  Multi-scale comparison
    uses same system for different scales

CelestialBodies::Satellites::Moon
  #orbits_planet?
    works with parent_body alias
    returns false when parent celestial body is not set
    returns true when parent celestial body is a planet
  #calculate_tidal_forces
    calculates tidal forces based on parent mass and orbital period
    returns 0 when required attributes are missing
    returns 0 when parent celestial body is not set
  STI configuration
    sets the correct type before validation

Lookup::MaterialLookupService
  .locate_gases_path
    uses GalaxyGame::Paths consistently
    returns the gases directory path
  material matching logic
    matches by exact chemical formula
    matches by name
    handles partial matches in name and ID
    handles nil inputs gracefully
    matches by material ID
    returns false for non-matches
  error handling
    with corrupted JSON files
      handles JSON parsing errors gracefully
    with missing directories
      handles missing recursive directories gracefully
      handles missing directories gracefully
    with service initialization errors
      logs errors when initialization fails
      continues with empty materials on load failure
  #find_material
    loads materials from the correct file structure
    finds materials case-insensitively
    finds atmospheric gases by chemical formula
    returns nil for nonexistent materials
  #debug_paths
DEBUG: Material Lookup Paths
building: /home/galaxy_game/data/json-data/resources/materials/building (exists: true)
byproducts: /home/galaxy_game/data/json-data/resources/materials/byproducts (exists: true)
chemicals: /home/galaxy_game/data/json-data/resources/materials/chemicals (exists: true)
components: /home/galaxy_game/data/json-data/resources/materials/components (exists: true)
gases: /home/galaxy_game/data/json-data/resources/materials/gases (exists: true)
geological: /home/galaxy_game/data/json-data/resources/materials/geological (exists: true)
liquids: /home/galaxy_game/data/json-data/resources/materials/liquids (exists: true)
processed: /home/galaxy_game/data/json-data/resources/materials/processed (exists: true)
raw: /home/galaxy_game/data/json-data/resources/materials/raw (exists: true)
synthetic_material: /home/galaxy_game/data/json-data/resources/materials/synthetic_material (exists: true)
    prints path information without errors
    outputs expected format
  #get_molar_mass
    returns nil for non-existent materials
    returns molar mass for existing materials
  integration with AtmosphereConcern
    provides materials needed for atmospheric calculations
  #get_material_property
    with nil property name
      returns nil gracefully
    with nil material
      returns nil gracefully
    with valid material
      returns nested properties from properties hash
      returns top-level properties
      returns nil for non-existent properties
  material property access
    has all expected material properties
    provides access to material properties directly from data
  #atmospheric_components
    filters out unknown materials
    converts chemical formulas to material data
    preserves percentage data
  MATERIAL_PATHS configuration
    has all expected material types
    has valid path configurations
  atmosphere gas creation behavior
    correctly maps chemical formulas for atmosphere creation
  .base_materials_path
    points to the correct materials directory
    returns a Pathname object

OrbitalMechanics
  #barycenter_with
    returns nil if spatial_location is missing
    calculates center of mass for two bodies
  #orbital_period_around
    returns nil if spatial_location is missing
    calculates orbital period using Kepler's Third Law

TerraSim::GeosphereInitializer
  exotic materials initialization
    creates hydrogen in metallic state under extreme conditions
  regolith property initialization
    initializes regolith properties for planets with atmospheres
    initializes regolith properties for airless bodies
  initializing terrestrial planet geosphere
    creates a geosphere with terrestrial properties
  ice giant initialization
    sets up ice_tectonics_enabled for ice giants (PENDING: ice_tectonics_enabled attribute doesn't exist in Geosphere model)
    creates appropriate ice materials

Construction::OrbitalShipyardService
  .spawn_completed_craft
    sets the craft status to docked
    creates a new craft
    loads operational data from blueprint
    associates the craft with the station
  .load_craft_blueprint
    with valid blueprint_id
      loads the blueprint from JSON file
    with invalid blueprint_id
      raises an error
  .deliver_materials
    when material is not needed
      does not update any project materials
      returns the full quantity
    when project becomes ready
      changes status to in_progress when all materials are delivered
    with multiple projects
      distributes materials across projects
    when material is needed
      consumes the material for the project
      returns the unconsumed quantity
      does not consume more than needed
  .complete_project
    spawns the completed craft
    marks the project as completed
  .update_construction_progress
    does not exceed 100%
    increases progress percentage
    when progress reaches 100%
      completes the project
  .create_shipyard_project
    with invalid blueprint_id
      raises an error
    with valid parameters
      sets initial status to materials_pending
      initializes delivered_materials with zero values
      sets the correct blueprint_id
      initializes progress_percentage to 0
      associates the project with the station
      loads required materials from blueprint
      creates a new orbital construction project

Logistics::InventoryManager
  .transfer_item
    when transferring non-orbital materials to orbital station
      transfers materials normally without interception
    when transferring orbital construction materials to non-orbital settlement
      transfers materials normally without interception
    when transferring to a station with orbital construction projects
      intercepts materials for orbital construction
      does not add materials to station inventory if all consumed by projects
  .should_check_orbital_projects?
    returns true for known orbital materials
    returns true for materials containing panel or beam
    returns false for non-orbital materials

HydrosphereConcern
  #add_liquid
    validates amount is positive
    adds H2O to the hydrosphere
    validates material exists in lookup service
  #calculate_evaporation_rate
    returns zero when there is no atmosphere
    calculates higher evaporation at higher temperatures
  #calculate_state_distributions
    calculates H2O state distributions based on temperature
    calculates distributions at boiling point
    uses default values when parameters are not provided
  #hydrosphere_cycle_tick
    does nothing when celestial body has no atmosphere
    handles both evaporation and precipitation
  #handle_precipitation
    does nothing when no H2O vapor is in atmosphere
    moves H2O from atmosphere to hydrosphere
  #handle_evaporation
    does nothing when evaporation rate is zero
    adds H2O vapor to the atmosphere
  #remove_liquid
    validates amount is positive
    validates material exists in hydrosphere
    removes liquid from the hydrosphere

Manufacturing::MaterialRequest
  .create_material_requests
    creates requests for all required materials

MaterialRequest
  factory
    creates a valid material request with factory
  instance methods
    #quantity_still_needed
      returns 0 when fully fulfilled
      returns the full quantity when quantity_fulfilled is nil
      returns the difference when quantity_fulfilled is set
    #gas_request?
      returns true when material is a gas
      returns false when material data is not found
      returns false when material data has no category
      returns false when material is not a gas
  validations
    requires a material_name
    requires quantity_requested to be greater than 0
    requires quantity_requested to be present
    requires quantity_requested to be a number
    is valid with required attributes
  enums
    priority enum
      can be set to different priorities
      accepts string values for priority
      has correct priority values
      defaults to normal priority
    status enum
      accepts string values for status
      can be set to different statuses
      defaults to pending status
      has correct status values
  scopes
    .for_material
      returns requests for a specific material
    .fulfilled
      returns only fulfilled requests
    .pending_requests
      returns pending and partially fulfilled requests
  delegations
    delegates settlement to requestable
    handles nil settlement gracefully
  associations
    can be associated with different requestable types
    belongs to a requestable (polymorphic)

Structures::Shell
  #advance_shell_construction!
    advances from sealed to operational (FAILED - 53)
    calls on_shell_operational hook when operational
    advances from planned to framework_construction
    advances from panel_installation to operational
    advances from framework_construction to panel_installation
    advances from panel_installation to sealed when designed for sealing
  #schedule_shell_construction!
    requires settlement
    sets construction_date
    updates shell composition
    fails if already sealed
    updates status to framework_construction
    stores panel_type on structure
    creates material and equipment requests
    creates a construction job
    accepts custom panel type
    returns success result
  associations
    has material_requests association
    has equipment_requests association
    has construction_jobs association
  #create_shell_atmosphere
    creates atmosphere when sealed
    accepts custom temperature
    returns nil if not sealed
    starts unpressurized
    does not create duplicate atmosphere
  #calculate_shell_materials
    returns materials hash
    accepts custom panel type
    does not create construction job
    scales materials by area
  integration with space station
    provides all methods needed for space station shell
  #calculate_equipment_needs
    includes crew requirements
    includes panel-specific tools from blueprint
    includes base construction equipment
    returns array of equipment requirements
  complete construction workflow
    goes through full lifecycle
  status helpers
    #shell_planned?
      returns true when planned
      returns false when not planned
    #pressurize_shell!
      fails if not sealed
      fails if already pressurized
      pressurizes when sealed
      creates atmosphere when pressurized
    #pressurized?
      returns true when pressurized
      returns false when operational
      returns false when only sealed
    #shell_operational?
      returns false when not operational
      returns true when operational
    #framework_construction?
      returns true when framework under construction
    #panel_installation?
      returns true when panels being installed
    #shell_under_construction?
      returns true during panel installation
      returns true during framework construction
      returns false when sealed
    #sealed?
      returns false when under construction
      returns true when pressurized
      returns false when operational
      returns true when sealed
  #estimate_shell_construction_time
    accepts custom panel type
    takes longer than covering equivalent area
    returns time estimate in hours
    scales with area
  concern inclusion
    inherits all Enclosable functionality
    includes Enclosable
  #calculate_volume
    with rectangular dimensions
      calculates volume with assumed height
    with circular dimensions
      calculates spherical volume
  #active_construction_job
    ignores completed jobs
    returns job with materials_pending status
    returns nil when no construction jobs exist
    returns job with in_progress status

GameState
  #toggle_running!
    toggles the running state
    updates last_updated_at when turning on
  attributes
    has accessible year, day, running, speed and last_updated_at attributes
  #update_time!
    updates the game time based on elapsed time when running
    doesn't update time when not running

Manufacturing Pipeline End-to-End
  pipeline with multiple batches
    can process multiple batches concurrently (FAILED - 54)
  complete ISRU to enclosed tank pipeline

=== STAGE 0: Initial Setup ===
✓ Staged 2000kg raw regolith

=== STAGE 1: Thermal Extraction Unit (TEU) ===
✓ Created TEU job for 1000kg raw regolith
    processes raw regolith through all stages to produce an enclosed tank (FAILED - 55)
  material tracking through pipeline
    preserves composition metadata through processing chain (FAILED - 56)

Biosphere and Life Form Integration
  environmental impact
    calculates the environmental impact of a life form
    considers soil impact for decomposers
  environmental impact
    considers soil impact for decomposers
    calculates the environmental impact of a life form
  food availability calculation
    calculates food availability for carnivores
    returns nil for photosynthetic life forms
    calculates food availability for herbivores
  interactions
    handles interactions between different life forms
  ecosystem simulation
[simulate_growth] base_growth_rate: 
1.0009801986733067
 habitability: 
1.0
 growth_factor: 
1.0009801986733067
 population: 
10000
[simulate_growth] base_growth_rate: 
1.0098019867330676
 habitability: 
1.0
 growth_factor: 
1.0098019867330676
 population: 
100000
[simulate_growth] base_growth_rate: 
1.0098019867330676
 habitability: 
1.0
 growth_factor: 
1.0098019867330676
 population: 
10000
[simulate_growth] base_growth_rate: 
1.0009801986733067
 habitability: 
1.0
 growth_factor: 
1.0009801986733067
 population: 
10009
[simulate_growth] base_growth_rate: 
1.0098019867330676
 habitability: 
1.0
 growth_factor: 
1.0098019867330676
 population: 
100980
[simulate_growth] base_growth_rate: 
1.0098019867330676
 habitability: 
1.0
 growth_factor: 
1.0098019867330676
 population: 
10098
[simulate_growth] base_growth_rate: 
1.0009801986733067
 habitability: 
1.0
 growth_factor: 
1.0009801986733067
 population: 
10018
[simulate_growth] base_growth_rate: 
1.0098019867330676
 habitability: 
1.0
 growth_factor: 
1.0098019867330676
 population: 
101969
[simulate_growth] base_growth_rate: 
1.0098019867330676
 habitability: 
1.0
 growth_factor: 
1.0098019867330676
 population: 
10196
    simulates population dynamics
[simulate_growth] base_growth_rate: 
1.0001390186502266
 habitability: 
0.5
 growth_factor: 
1.0000695093251133
 population: 
10000
[simulate_growth] base_growth_rate: 
1.001390186502266
 habitability: 
0.5
 growth_factor: 
1.000695093251133
 population: 
100000
[simulate_growth] base_growth_rate: 
1.001390186502266
 habitability: 
0.5
 growth_factor: 
1.000695093251133
 population: 
10000
    handles biosphere changes

HasUnits
  #add_unit
    returns the created unit object
    applies unit effects to the craft
    when unit type is valid creates a new persisted unit record
    can add different types of units
    associates the unit with the craft polymorphically
    can add a robot unit
  #remove_unit
    detaches a unit from the craft
    returns "Unit not found" if the unit is not attached to this craft
  unit management scenarios
    when unit type is invalid or data not found returns "Invalid unit blueprint ID or data not found."
    when unit type is not compatible does not create a new unit
    when max units reached does not create a new unit
    when unit type is not compatible returns "Unit type ... is not compatible with this craft."
    when unit type is invalid or data not found does not create a new unit
    when max units reached returns "Max units reached"
  #installed_units_count
    returns the total count of all units attached to the craft
  #install_unit
    adds errors if installation fails
    attaches a unit to the craft
    prevents installing a unit that is already attached
      prevents installing a unit that is already attached

Manufacturing::Construction::DomeService
  #initialize
    initializes with default panel type
    initializes with custom panel type
    defaults service provider to entity
  #start_construction
    fails when materials not ready for player construction
    bypasses checks for contracted construction
    starts construction when materials and equipment are ready
  #schedule_construction
    fails when no settlement found
    creates a construction job successfully
    creates material and equipment requests for player construction
    when entity is different from service provider
      processes payment for contracted construction
      marks materials and equipment as provided by contractor
      handles payment failure gracefully
      does not create material requests for contracted construction
  #complete_construction
    completes the construction process
  #track_progress
    completes construction when work is finished
    releases equipment when construction completes
    returns false when construction not complete
    sets correct status for different layer types
  private methods
    #determine_completion_status
      returns correct status for both layers
      returns correct status for primary layer
      returns correct status for secondary layer
      returns operational for unknown layer types
    #is_player_construction?
      returns false when entity and provider are different
      returns true when entity and provider are the same

Logistics::InternalTransferService
  .process_internal_transfers
    when transfer cannot be completed
      marks contract as failed when material unavailable
    when transfer can be completed
      completes the transfer
  .create_internal_contract
    when transfer is not possible
      returns nil when to_settlement lacks storage
      returns nil when from_settlement lacks material
    when transfer is possible
      creates a provider if needed
      creates a logistics contract

Market::Trade
  associations
    is expected to belong to seller required: true
    is expected to belong to buyer_settlement class_name => Settlement::BaseSettlement required: true
    is expected to belong to buyer required: true
    is expected to belong to seller_settlement class_name => Settlement::BaseSettlement required: true
  validations
    is valid with valid attributes

MaterialGeneratorService
  .generate_material
    returns material data for water
    returns nil for unknown material

Organizations::TaxAuthority
  #tax_rate
    always returns 0.0, as the Tax Authority does not pay tax
  .instance
    always returns the same single instance (FAILED - 57)
    initializes with the correct identifier and name
    creates the Tax Authority if it does not exist

GameDataPaths
  sets the correct path based on environment

CelestialBodies::Features::AdaptedFeature
  #name
    returns the name from static data
  #feature_specific_data
    returns the full static data hash
  #static_data
    returns static data hash
  validations
    is expected to belong to celestial_body required: true
    is expected to validate that :feature_type cannot be empty/falsy
    is expected to validate that :feature_id cannot be empty/falsy
  #coordinates
    returns coordinates from static data
  attributes
    can set and get adapted_at
    can set and get settlement_id
    has a default status of natural
    can set and get discovered_by

Lookup::PlanetaryGeologicalFeatureLookupService
  #features_by_type
    handles symbol input
    returns features of a specific type
    returns features by case-insensitive type match
    returns empty array when no features of that type exist
  #initialize
    loads features during initialization
    initializes with a celestial body
  path construction
    constructs correct path for planet
    handles missing solar system gracefully
  #feature_summary
    returns empty hash when no features exist
    handles features with nil type
    groups features by type
  #all_features
    handles single feature JSON files
    returns all loaded features
    returns an empty array when no features exist
    handles multiple JSON files
  error handling
    handles missing directories gracefully
    handles JSON parse errors gracefully
    logs debug information about found files
  #find_by_name
    finds a feature by lowercase name match
    finds a feature by case-insensitive name match
    returns nil when feature is not found
    handles symbol input
    returns the first match when multiple features have the same name
    finds a feature by exact name match

Transactable
  ensures player has an associated account

ConcurrentTaskWorkerJob
  #perform
    when task execution fails
      does not mark task as completed
    with manufacturing task during low light
      does not generate byproducts
    with manufacturing task during daylight
      executes the task successfully
      generates manufacturing byproducts
    with non-manufacturing task
      does not attempt byproduct generation

Structures::HasProcessing
  #apply_structure_bonuses
    returns false when no modules are present
    returns false when no quality modules are present
    applies quality bonuses from modules
  #collect_processing_results
    returns a hash of collected resources
    returns empty hash when no units have output
    collects output from processing units
    clears unit output buffers
  #can_process?
    returns true when structure is operational and in production mode
    returns false when not operational
    returns false when not in production mode
    returns false when no processing units are available
  #processing_units
    filters out units that cannot process
    filters out non-operational units
    returns units that can process resources
  #delegate_processing_to_units
    returns a hash of processed resources
    returns empty hash when no units can process
    delegates processing to each unit
    provides resources to units
  #run_processing_cycle
    runs a complete processing cycle
    returns false if structure cannot process
  #check_resource_levels
    returns false when inventory is nil
    returns false when a required resource is insufficient
    returns true when all required resources are available

CelestialBodies::Features::BaseFeature
  validations
    is expected to validate that :status cannot be empty/falsy
    is expected to validate that :feature_type cannot be empty/falsy
    is expected to validate that :feature_id cannot be empty/falsy
  associations
    is expected to belong to parent_feature optional: true
    is expected to have many child_features
    is expected to belong to celestial_body required: true
  #static_data
    caches the data
    fetches data from lookup service
  #discover!
    marks feature as discovered
    does not overwrite existing discovery
    sets discovered_at timestamp
  tier helpers
    identifies catalog features
    identifies strategic features
  status transitions
    cannot skip states
    transitions through states correctly

Lookup::UnitLookupService
  matching behavior
    matches by partial ID with sufficient length (FAILED - 58)
    matches by exact name (FAILED - 59)
    is case insensitive (FAILED - 60)
    matches by exact ID (FAILED - 61)
  #debug_paths
DEBUG: Unit Lookup Paths
computer: /home/galaxy_game/data/json-data/operational_data/units/computers (exists: true)
droid: /home/galaxy_game/data/json-data/operational_data/units/droid (exists: false)
energy: /home/galaxy_game/data/json-data/operational_data/units/energy (exists: true)
habitats: /home/galaxy_game/data/json-data/operational_data/units/habitats (exists: true)
life_support: /home/galaxy_game/data/json-data/operational_data/units/life_support (exists: true)
processing: /home/galaxy_game/data/json-data/operational_data/units/processing (exists: false)
production: /home/galaxy_game/data/json-data/operational_data/units/production (exists: true)
propulsion: /home/galaxy_game/data/json-data/operational_data/units/propulsion (exists: true)
storage: /home/galaxy_game/data/json-data/operational_data/units/storage (exists: true)
structure: /home/galaxy_game/data/json-data/operational_data/units/structure (exists: false)
specialized: /home/galaxy_game/data/json-data/operational_data/units/specialized (exists: true)
robots_deployment: /home/galaxy_game/data/json-data/operational_data/units/robots/deployment (exists: true)
robots_construction: /home/galaxy_game/data/json-data/operational_data/units/robots/construction (exists: true)
robots_maintenance: /home/galaxy_game/data/json-data/operational_data/units/robots/maintenance (exists: true)
robots_exploration: /home/galaxy_game/data/json-data/operational_data/units/robots/exploration (exists: true)
robots_life_support: /home/galaxy_game/data/json-data/operational_data/units/robots/life_support (exists: true)
robots_logistics: /home/galaxy_game/data/json-data/operational_data/units/robots/logistics (exists: true)
robots_resource: /home/galaxy_game/data/json-data/operational_data/units/robots/resource (exists: true)
    outputs path information without errors
  service configuration
    has all expected unit categories
  #find_unit
    finds units case-insensitively by ID (FAILED - 62)
    handles nil and blank unit queries gracefully
    loads units from the correct file structure
    returns nil for nonexistent units
    with robot units
      finds robot units by their ID (FAILED - 63)
    with habitat units
      finds habitat units by their ID
    with propulsion units
      has expected propulsion unit properties (FAILED - 64)
      finds propulsion units by their exact ID (FAILED - 65)
  unit data structure validation
    when any propulsion unit exists
      has operational modes if defined (PENDING: No propulsion units found)
      has performance properties if applicable (PENDING: No propulsion units found)
      has telemetry metadata if defined (PENDING: No propulsion units found)
      has maintenance requirements if defined (PENDING: No propulsion units found)
      has all expected top-level unit properties (PENDING: No propulsion units found)
      has operational properties (PENDING: No propulsion units found)
    when any storage unit exists
      has storage capacity properties (PENDING: No storage units found)
      has alias support if defined (PENDING: No storage units found)

WormholeExpansionService
  #find_expansion_opportunities
    excludes systems at maximum capacity
    finds systems with available wormhole capacity
  #create_rescue_contract
    creates a rescue contract for disconnected players
  #create_gate_construction_contract
    creates a contract for gate construction
  #initialize
    initializes with default values

Plant
  validations
    is valid with valid attributes
    is not valid without a growth temperature range
    is not valid without a growth humidity range
    is not valid with a duplicate name
    is not valid without a name
  methods
    can grow in a given environment if conditions are met
    cannot grow in a given environment if conditions are not met

CelestialBodies::Spheres::Hydrosphere
  store accessors
    writes water bodies attributes to JSONB store
    accesses water bodies attributes from JSONB store
  concern methods
    #calculate_state_distributions
      calculates states based on temperature
    #water_cycle_tick
      calls evaporation and precipitation handlers
  validations
    requires pressure to be present
    is expected to validate that :total_hydrosphere_mass looks like a number greater than or equal to 0 as long as it is not nil
    is expected to validate that :temperature cannot be empty/falsy
  associations
    is expected to belong to celestial_body required: true
    is expected to have many materials dependent => destroy
  #reset
    resets to base values
  #transfer_material
    returns false if not enough material available
    transfers material between spheres
    returns false if material not found

Biology::LifeForm
  #type_identifier
    returns 'natural'
  #adapt_to_environment
    with good adaptation score
      increases population
    with neutral adaptation score
      keeps population stable
    with poor adaptation score
      reduces population
  #simulate_growth
[simulate_growth] base_growth_rate: 
1.3
 habitability: 
0.5
 growth_factor: 
1.15
 population: 
1000
[simulate_growth] base_growth_rate: 
1.3
 habitability: 
1.0
 growth_factor: 
1.3
 population: 
1000
    is affected by biosphere habitability
[simulate_growth] base_growth_rate: 
1.3
 habitability: 
1.0
 growth_factor: 
1.3
 population: 
1000
    uses _calculate_base_growth_rate to modify population
  #total_biomass
    without custom mass in properties
      falls back to complexity-based calculation
    with custom mass in properties
      uses custom mass instead of complexity-based calculation
  inheritance
    inherits from BaseLifeForm
  #atmospheric_contribution
    with soil-improving organism
      calculates soil improvement
    with population scaling
      scales contributions by population size
    with no population
      returns zero contribution
    with multiple effects
      returns all contributions
    with methane-producing organism
      calculates methane production
    with nitrogen-fixing organism
      calculates nitrogen fixation
    with photosynthetic organism
      calculates oxygen production and CO2 consumption

Game
  #advance_by_days
    does not advance time if days is zero or negative
    advances the simulation by the given number of days (FAILED - 66)

Biology::LifeForm
  inheritance
    inherits from BaseLifeForm
  #adapt_to_environment
    with neutral adaptation score
      keeps population stable
    with good adaptation score
      increases population
    with poor adaptation score
      reduces population
  #simulate_growth
[simulate_growth] base_growth_rate: 
1.3
 habitability: 
0.5
 growth_factor: 
1.15
 population: 
1000
[simulate_growth] base_growth_rate: 
1.3
 habitability: 
1.0
 growth_factor: 
1.3
 population: 
1000
    is affected by biosphere habitability
[simulate_growth] base_growth_rate: 
1.3
 habitability: 
1.0
 growth_factor: 
1.3
 population: 
1000
    uses _calculate_base_growth_rate to modify population
  #type_identifier
    returns 'natural'
  #total_biomass
    without custom mass in properties
      falls back to complexity-based calculation
    with custom mass in properties
      uses custom mass instead of complexity-based calculation

ComponentProductionJob
  #progress_percentage
    calculates progress percentage
  scopes
    returns in_progress jobs
    returns completed jobs
    returns active jobs
  #start!
    changes status to in_progress and sets started_at
  validations
    is expected to validate that :quantity cannot be empty/falsy
    is expected to validate that :production_time_hours looks like a number greater than 0
    is expected to validate that :production_time_hours cannot be empty/falsy
    is expected to validate that :component_blueprint_id cannot be empty/falsy
    is expected to validate that :status cannot be empty/falsy
    is expected to validate that :component_name cannot be empty/falsy
    is expected to validate that :quantity looks like an integer greater than 0
  associations
    is expected to belong to printer_unit required: true
    is expected to belong to settlement required: true
  #active?
    returns true for pending jobs
    returns false for completed jobs
    returns true for in_progress jobs
  #complete!
    changes status to completed and sets completed_at
  #process_tick
    when job completes during tick
      completes the job
    when job is not in_progress
      does not process tick
    when job is not complete
      increases progress_hours
  #fail!
    changes status to failed with reason
  #time_remaining_hours
    returns 0 when complete
    calculates remaining time
  #cancel!
    changes status to cancelled
  #estimated_completion
    calculates estimated completion time
    returns nil for pending jobs
  #finished?
    returns true for failed jobs
    returns true for completed jobs
    returns false for in_progress jobs

Manufacturing::ComponentProductionService
  #complete_job
    adds components to inventory
    adds waste products to inventory
    marks job as completed
    stores source material composition in component metadata
  #produce_component
    with incompatible printer
      raises an error
    with sufficient materials
      stores material composition in job metadata (FAILED - 67)
      creates a component production job (FAILED - 68)
      consumes materials from inventory (FAILED - 69)
    with insufficient materials
      raises an error

CelestialBodies::Features::Cave
  #conversion_suitability
    returns suitability data
  dimension accessors
    reads dimensions from static data
  #can_pressurize?
    returns false when not enclosed or openings not sealed
  #cave_type
    returns cave type
  #set_feature_type
    automatically sets feature_type

Market::Condition
  associations
    is expected to have many market_orders class_name => Market::Order dependent => destroy
    is expected to have many orders dependent => destroy
    is expected to belong to marketplace class_name => Market::Marketplace required: true
    is expected to have many price_histories dependent => destroy
  #current_price
    returns default price if no price_histories exist
    returns the latest price from price_histories

CelestialBodies::Spheres::Atmosphere
  #add_gas
    adds gas using chemical formula (FAILED - 70)
  #remove_gas
    removes gas and updates total atmospheric mass (FAILED - 71)
  atmospheric density calculations
    #density
      calculates different density for different gas compositions (FAILED - 72)
      returns zero when pressure is zero (FAILED - 73)
      calculates atmospheric density based on pressure, temperature and composition (FAILED - 74)
      returns zero when temperature is zero (FAILED - 75)
    #scale_height
      calculates smaller scale height for higher gravity (FAILED - 76)
      calculates larger scale height for hotter atmospheres (FAILED - 77)
      calculates atmospheric scale height based on temperature, gravity and composition (FAILED - 78)
    #calculate_gas_constant
      returns a weighted average of gas constants based on composition (FAILED - 79)
      returns Earth default when no gases exist (FAILED - 80)
    #calculate_average_molar_mass
      calculates weighted average molar mass from gas composition (FAILED - 81)
      returns Earth default when no gases exist (FAILED - 82)
      calculates different molar mass for different compositions (FAILED - 83)
  initialization
    updates atmosphere with provided information (FAILED - 84)
    creates an atmosphere with default attributes (FAILED - 85)
  gas percentage methods
    #gas_percentage
      returns 0.0 for non-existent gases (FAILED - 86)
      falls back to composition data when gas not found in gases collection (FAILED - 87)
      returns percentage of existing gas in gases collection (FAILED - 88)
    convenience gas percentage methods
      returns O2 percentage via o2_percentage (FAILED - 89)
      returns CO2 percentage via co2_percentage (FAILED - 90)
      returns CH4 percentage via ch4_percentage (FAILED - 91)
      correctly uses the gas_percentage method (FAILED - 92)
  #initialize_gases
    creates gases based on the composition (FAILED - 93)
  temperature management
    provides default values for temperature getters (FAILED - 94)
    updates main temperature when greenhouse temperature changes (FAILED - 95)
    stores various temperature types in temperature_data (FAILED - 96)
    persists temperature data across reloads (FAILED - 97)

Structures::BaseStructure
  validations
    is not valid without a name
    is not valid without a structure_type
    is valid with valid attributes
    is not valid without a structure_name
  module management
    #build_recommended_modules
      builds the recommended modules
  associations
    belongs to an owner
    has many base_units
    has many modules
    belongs to a settlement
  operational mode management
    #set_operational_mode
      changes the operational mode if valid
      fails if mode is invalid
    #current_mode
      returns the current operational mode
      returns 'standby' as default if not set
    #available_modes
      returns all available operational modes
      returns ['standby'] as default if not set
  #operational?
    returns false when in maintenance mode
    returns true when all requirements are met
    returns false when missing required units
    returns false when power system is offline
  module effect management
    supports adding and removing module effects via HasModules concern
  unit management
    #uninstall_unit
      fails for units not attached to the structure
      removes an installed unit
    #build_recommended_units
      builds the recommended units
    #install_unit
      fails if no slot is available
      installs a unit if slot is available

Financial::TransactionManager
  .create_transfer
    raises an error if creation fails due to missing ActiveRecord validation (e.g., missing account)
    creates a new Financial::Transaction record
    sets the correct attributes on the created transaction

AIManager::SystemArchitect
  #analyze_system_configuration
    without moons
      identifies moonless system
    with moons
      identifies large and small moons
  #transfer_ownership_to_system_corp
    transfers settlements
    creates system specific corporation
  #find_nearby_asteroid
    without suitable asteroid
      returns nil
    with suitable asteroid
      finds the asteroid (FAILED - 98)
  #initialize
    analyzes system configuration
  #deploy_subsurface_foothold
    creates subsurface location
    creates settlement
  #determine_deployment_template
    moonless without asteroid
      returns cycler_staging template
    moonless with nearby asteroid
      returns asteroid_capture template
    with large moon
      returns lunar_standard template
    with 2+ small moons
      returns conversion template

TransactionService
  .process_transaction
    when the buyer has insufficient funds
      raises an error and does not process the transaction
    when the buyer has sufficient funds
      processes the transaction successfully

TerraSim::BiosphereGeosphereInterfaceService
  #simulate
    calculates and updates soil health based on both spheres
    when spheres are missing
      returns nil if geosphere is missing
      returns nil if biosphere is missing
  #initialize
    defaults magnetosphere_active to true
    sets the celestial body and sphere references
    accepts magnetosphere_active parameter

Biology::BaseLifeForm
  validations
    is expected to validate that :population looks like a number greater than or equal to 0
    is expected to validate that :name cannot be empty/falsy
  #total_biomass
    calculates biomass differently based on complexity
  enums
    is expected to define :domain as an enum backed by an integer with values ‹{aquatic: 0, terrestrial: 1, aerial: 2, subterranean: 3}›
    is expected to define :complexity as an enum backed by an integer with values ‹{microbial: 0, simple: 1, complex: 2, intelligent: 3}›
  #atmospheric_contribution
    without terraforming properties
      returns zero effects
    with zero population
      returns zero effects
    with terraforming properties set
      scales effects by population size
      calculates atmospheric effects based on population
  #type_identifier
    raises NotImplementedError when called on base class
  attributes
    stores terraforming properties
    stores additional properties in the properties column
  associations
    is expected to belong to biosphere required: true

Lookup::BlueprintLookupService
  #all_blueprints
    returns consistent results on multiple calls
    returns an array
    when blueprint files exist
      returns blueprints with expected structure
  #initialize
    loads blueprints on initialization
    initializes without error
  #find_blueprint
    with aliases
      finds blueprints by alias
    with category filtering
      filters blueprints by category
      returns nil when blueprint exists but category does not match
    with partial matches
      does not match partial queries shorter than 3 characters
      finds blueprints by partial name match for queries >= 3 characters
    with real blueprint files
      finds blueprints by exact ID match
      is case insensitive
      handles empty or nil queries gracefully
      finds blueprints by exact name match
      returns nil for non-existent blueprints
  error handling
    handles JSON parsing errors gracefully
    handles missing blueprint directories gracefully
  real world usage
    when blueprint files exist
      can find common blueprint types
      loads blueprints with valid JSON structure
  #debug_paths
DEBUG: Blueprint Lookup Paths
components: /home/galaxy_game/data/json-data/blueprints/components (exists: true)
  Contains 17 JSON files
    - high_performance_electronics_bp.json
    - flexible_polymer_tanks_bp.json
    - inflatable_bladders_bp.json
    ... and 14 more
units: /home/galaxy_game/data/json-data/blueprints/units (exists: true)
  Contains 94 JSON files
    - advanced_computer_bp.json
    - basic_computer_bp.json
    - distributed_computing_cluster_bp.json
    ... and 91 more
modules: /home/galaxy_game/data/json-data/blueprints/modules (exists: true)
  Contains 22 JSON files
    - harvester_control_module_bp.json
    - life_support_computer_module_bp.json
    - navigation_computer_module_bp.json
    ... and 19 more
rigs: /home/galaxy_game/data/json-data/blueprints/rigs (exists: true)
  Contains 3 JSON files
    - gpu_coprocessor_rig_bp.json
    - solar_expansion_rig_bp.json
    - thruster_expansion_rig_bp.json
facilities: /home/galaxy_game/data/json-data/blueprints/facilities (exists: false)
items: /home/galaxy_game/data/json-data/blueprints/items (exists: true)
  Contains 2 JSON files
    - battery_cells_bp.json
    - battery_pack_bp.json
structures: /home/galaxy_game/data/json-data/blueprints/structures (exists: true)
  Contains 8 JSON files
    - main_hangar_bay_bp.json
    - standard_rover_hangar_bp.json
    - biome_seed_facility_bp.json
    ... and 5 more
crafts: /home/galaxy_game/data/json-data/blueprints/crafts (exists: true)
  Contains 9 JSON files
    - harvesting_rover_bp.json
    - heavy_lander_bp.json
    - atmospheric_probe_bp.json
    ... and 6 more
    runs without error
  #blueprints_by_category
    returns blueprints filtered by category
    returns empty array for non-existent category
    is case insensitive for category matching
    handles nil category gracefully

CelestialBodies::Features::Crater
  #permanently_shadowed?
    returns true for Shackleton
  #set_feature_type
    automatically sets feature_type
  #strategic_value
    includes water_ice for Shackleton
  #solar_exposure_percent
    returns solar exposure data
  #conversion_suitability
    returns dome suitability
    returns advantages and challenges
  #size_category
    categorizes crater size
  dimension accessors
    reads dimensions from static data
  ice detection
    detects ice presence
    returns ice quantities

HasModules
  #add_module_effect
    applies efficiency boost effect
    applies power consumption reduction effect
  #remove_module_effect
    removes efficiency boost effect
    removes power consumption reduction effect

AtmosphereConcern
  #add_gas
    updates existing gas
    raises error for invalid gas
    adds a new gas to the atmosphere
  #reset
    does nothing when base_values is empty
    restores atmosphere to base values
  #set_default_values
    sets initial values for a new atmosphere
  #gas_percentage
    falls back to composition data when gas not found in gases collection
    returns percentage of existing gas in gases collection
    returns fresh data after updating gases
    returns 0.0 for non-existent gases
  #estimate_molar_mass
    returns default air molar mass for empty composition
    calculates weighted average molar mass from gas composition
    handles unknown gases gracefully
    calculates different molar mass for different compositions
  #update_total_atmospheric_mass
    sets zero when no gases exist
    calculates total mass from gas masses
  #recalculate_gas_percentages
    does nothing when no gases exist
    updates gas percentages based on masses
  convenience gas percentage methods
    returns CO2 percentage via co2_percentage
    returns CH4 percentage via ch4_percentage
    returns O2 percentage via o2_percentage
  pressure conversion methods
    converts pressure to PSI
    converts pressure to mmHg
    converts pressure to atmospheres
  #get_celestial_atmosphere_data
    with planetary atmosphere (no container)
      returns self data for planetary atmospheres
  #initialize_gases
    creates gases based on composition
    returns false when no composition present
  #sealed?
    returns false by default for atmosphere concern
  #habitable?
    returns false for extreme temperatures
    returns false for low pressure
    returns false for high CO2
    returns false for low oxygen
    returns true for Earth-like conditions
  #calculate_atmospheric_mass_for_volume
    returns 0 for invalid inputs
    calculates atmospheric mass for given volume and conditions
  temperature conversion methods
    converts temperature to Celsius
    converts temperature to Fahrenheit
  #increase_dust and #decrease_dust
    increases dust concentration and sets properties
    decreases dust concentration but not below zero
  #increase_pollution
    increases pollution value
  #calculate_pressure
    calculates atmospheric pressure
    returns 0 for zero mass
  #remove_gas
    raises error when removing more than exists
    removes gas from the atmosphere
    raises error when removing non-existent gas
    deletes gas when amount becomes zero

PlanetUpdateService
  #initialize
    sets up planet and time_skipped
  private methods
    #sphere processing methods
      processes hydrosphere correctly
      processes atmosphere correctly
      processes geosphere correctly
      processes biosphere correctly
    #simulate_detailed
      updates planet properties
      processes sphere interfaces
      processes all spheres
    #simulate_progressive
      uses the correct intervals for different time periods
      checks for events after each simulation step
  #run
    with a longer time period
      uses progressive simulation for longer periods
    with non-planetary body
      returns immediately
    with a terrestrial planet
      returns an array of events
      simulates in detail for short time periods

Manufacturing::MaterialProcessingService
  #volatiles_extraction
    with insufficient processed regolith
      returns an error
    with valid inputs
      produces gases with correct composition after job completion
      creates a material processing job record
  #thermal_extraction
    with valid inputs
      creates a material processing job record
      updates inventory correctly after job completion
    with insufficient raw regolith
      returns an error

ConstructionJob

=== MaterialRequest columns ===
  id: integer (bigint)
  requestable_type: string (character varying)
  requestable_id: integer (bigint)
  material_name: string (character varying)
  quantity_requested: decimal (numeric(10,2))
  quantity_fulfilled: decimal (numeric(10,2))
  status: string (character varying)
  priority: string (character varying)
  fulfilled_at: datetime (timestamp(6) without time zone)
  created_at: datetime (timestamp(6) without time zone)
  updated_at: datetime (timestamp(6) without time zone)

=== EquipmentRequest columns ===
  id: integer (bigint)
  requestable_type: string (character varying)
  requestable_id: integer (bigint)
  equipment_type: string (character varying)
  quantity_requested: integer (integer)
  quantity_fulfilled: integer (integer)
  status: string (character varying)
  priority: string (character varying)
  fulfilled_at: datetime (timestamp(6) without time zone)
  created_at: datetime (timestamp(6) without time zone)
  updated_at: datetime (timestamp(6) without time zone)

=== Settlement columns ===
  id: integer (bigint)
  name: string (character varying)
  current_population: integer (integer)
  settlement_type: integer (integer)
  colony_id: integer (bigint)
  accounts_id: integer (bigint)
  base_settlements_type: string (character varying)
  base_settlements_id: integer (bigint)
  owner_type: string (character varying)
  owner_id: integer (bigint)
  operational_data: jsonb (jsonb)
  created_at: datetime (timestamp(6) without time zone)
  updated_at: datetime (timestamp(6) without time zone)
  player_id: integer (bigint)
  debug - shows actual database columns
  enum functionality
    correctly stores and retrieves status as an enum
    correctly stores and retrieves job_type as an enum
  associations
    belongs to a jobable
    belongs to a settlement
    has many material_requests
    has many equipment_requests
  convenience methods
    #equipment_gathered?
      returns false when some equipment requests are pending
      returns true when no equipment requests exist
      returns true when all equipment requests are fulfilled
    #materials_gathered?
      returns true when all material requests are fulfilled (FAILED - 99)
      returns false when some material requests are pending (FAILED - 100)
    #infer_settlement
      returns the jobable if it is a Settlement
Structure location: 22849
Settlement location: 22849
All settlements at location 22849:
  - Settlement 20353: Test Settlement
      finds a settlement by location if available
      returns the jobable's settlement if available
  validations and attributes
    is valid with required attributes
    stores target_values as JSON
    accepts a valid status
    requires a jobable
    accepts a valid job_type

SolarSystem
  associations
    is expected to have many gas_giants class_name => CelestialBodies::Planets::Gaseous::GasGiant
Generated name: IJKPXU
    is expected to belong to galaxy optional: true
    is expected to have many celestial_bodies class_name => CelestialBodies::CelestialBody
    is expected to have many stars class_name => CelestialBodies::Star dependent => destroy
    is expected to have many ice_giants class_name => CelestialBodies::Planets::Gaseous::IceGiant
    is expected to have many moons class_name => CelestialBodies::Satellites::Moon
    is expected to have many terrestrial_planets class_name => CelestialBodies::Planets::Rocky::TerrestrialPlanet
    is expected to have many dwarf_planets class_name => CelestialBodies::MinorBodies::DwarfPlanet
    has one spatial_location association
  validations
    is expected to validate that :identifier is case-sensitively unique
Generated name: YKPRQE
    is expected to validate that :identifier cannot be empty/falsy
  #load_terrestrial_planet
    updates an existing terrestrial planet if the name matches
    loads or creates a terrestrial planet
  #habitable_zone?
    when a planet is outside the habitable zone of all stars
      returns false
    when the planet does not have an orbital period
      returns false
    when a planet is in the habitable zone of at least one star
      returns true
    when there are no stars
      returns false
  #load_moon
    loads or creates a moon
    updates an existing moon if the name matches
  #load_star
    loads or creates a star with the given parameters
    updates an existing star if the name matches
  star relationships
    supports binary star systems
    identifies the primary star by mass
    can have multiple stars
  #load_gas_giant
    updates an existing gas giant if the name matches
    loads or creates a gas giant
  #load_dwarf_planet
    updates an existing dwarf planet if the name matches
    loads or creates a dwarf planet
  callbacks
    generates a unique name before create if name is not present (FAILED - 101)
    sets an initial star after create if no stars exist
  #total_mass
    calculates total mass of all planets and dwarf planets
  #load_ice_giant
    updates an existing ice giant if the name matches
    loads or creates an ice giant

Location::SpatialLocation
  associations
    is expected to belong to spatial_context optional: true
    is expected to belong to locationable optional: true
  #distance_to
    calculates 3D distance between locations
  validations
    is expected to validate that :name cannot be empty/falsy
    is expected to validate that :z_coordinate looks like a number
    validates uniqueness of 3D position within same spatial context
    validates uniqueness of 3D position
    is expected to validate that :x_coordinate looks like a number
    is expected to validate that :x_coordinate cannot be empty/falsy
    is expected to validate that :z_coordinate cannot be empty/falsy
    is expected to validate that :y_coordinate looks like a number
    is expected to validate that :y_coordinate cannot be empty/falsy
    allows same coordinates in different spatial contexts
  #update_location
    updates coordinates

GameSimulation
  #process_celestial_bodies
  Simulating: Earth
    simulates only bodies that should be simulated
  Simulating: Mars
    logs errors if simulation fails
  #advance_by_days
    when days is positive
====================
Advancing game by 5 days
Current: Year 2200, Day 100.0
====================
  Simulating: Luna
[AtmosphereSimulation] Starting simulation for 5 days
  Initial temp: 250.0 K
  Initial pressure: 0.0 bar
  DEBUG Stefan-Boltzmann inputs:
    albedo: 0.12
    solar_input: 0.0
    sigma: 5.67e-08
    (1-albedo)*solar: 0.0
    4*sigma: 2.268e-07
    ratio: 0.0
    unclamped temp: 0.0 K
    clamped temp: 150.0 K
  Base temp (Stefan-Boltzmann): 150.0 K
  Greenhouse warming: 0.0 K
  Final surface temp: 150.0 K
  Final temp: 150.0 K
  Final pressure: 0.0 bar
Simulating erosion for #<CelestialBodies::Spheres::Geosphere:0x00007fa31ed1ab50>, erosion rate: 0.0 cm/year
Updating geosphere state for #<CelestialBodies::Spheres::Geosphere:0x00007fa31ed1ab50>.
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 48.330000000000034
  Adjusting global temperatures:
  - Tropical: 160.0 → 160.0
  - Polar: 100.0 → 118.91666666666666
  - Target: 160.0 (based on biome optima)
[BiosphereAtmosphere] Temperature too low (150.0K) - biosphere DORMANT, no gas production
New time: Year 2200, Day 100.0
      advances the game time and saves the state
====================
Advancing game by 1 days
Current: Year 2200, Day 364.0
====================
  Simulating: Luna
[AtmosphereSimulation] Starting simulation for 1 days
  Initial temp: 250.0 K
  Initial pressure: 0.0 bar
  DEBUG Stefan-Boltzmann inputs:
    albedo: 0.12
    solar_input: 0.0
    sigma: 5.67e-08
    (1-albedo)*solar: 0.0
    4*sigma: 2.268e-07
    ratio: 0.0
    unclamped temp: 0.0 K
    clamped temp: 150.0 K
  Base temp (Stefan-Boltzmann): 150.0 K
  Greenhouse warming: 0.0 K
  Final surface temp: 150.0 K
  Final temp: 150.0 K
  Final pressure: 0.0 bar
Simulating erosion for #<CelestialBodies::Spheres::Geosphere:0x00007fa3195f8c00>, erosion rate: 0.0 cm/year
Updating geosphere state for #<CelestialBodies::Spheres::Geosphere:0x00007fa3195f8c00>.
Balancing biomes based on climate and ecosystem conditions
Global liquid water availability: 48.330000000000034
  Adjusting global temperatures:
  - Tropical: 160.0 → 160.0
  - Polar: 100.0 → 118.91666666666666
  - Target: 160.0 (based on biome optima)
[BiosphereAtmosphere] Temperature too low (150.0K) - biosphere DORMANT, no gas production
New time: Year 2200, Day 0.0
      handles year rollover correctly
    when days is zero or negative
      does not advance the game
  #initialize
    sets the game_state

Location::BaseLocation
  is an abstract class
  associations
    is expected to belong to locationable optional: true
  validations
    presence
      is expected to validate that :name cannot be empty/falsy
  #update_location
    with valid attributes
      updates the attributes

Rigs::BaseRig
  .load_from_json
    creates a new rig instance from JSON data
  polymorphic association
    can belong to an attachable BaseUnit (FAILED - 102)
    can be unattached from a unit
  #apply_output_effects and #revert_output_effects
    applies and reverts output effects if attachable responds to update_outputs (FAILED - 103)
  operational data
    can store and update operational data
    has an operational_data field with default values
  validations
    is expected to validate that :capacity cannot be empty/falsy
    is expected to validate that :capacity looks like a number greater than or equal to 0
    is expected to validate that :description cannot be empty/falsy
    is expected to validate that :name cannot be empty/falsy
    is expected to validate that :rig_type cannot be empty/falsy
  detach/destroy behavior
    destroys the rig when removed from attachable
  #apply_damage_effects and #revert_damage_effects
    applies and reverts damage effects if attachable responds to update_damage_risks (FAILED - 104)
  #remove_from
    removes rig effect from the attachable unit (FAILED - 105)
  #apply_rig_to_attachable
    applies rig effect to the attachable unit (FAILED - 106)
  #process_tick
    does not raise error when called

Units::Battery
  battery attributes
    reports correct battery level
    handles zero capacity
    calculates battery percentage correctly
    reports correct battery capacity
  #charge_battery
    charges the battery by the specified amount
    limits charging to max charge rate
    limits charging to battery capacity
  #discharge_battery
    limits discharging to max discharge rate
    discharges the battery by the specified amount
    limits discharging to available charge
  interaction with BatteryManagement concern
    prefers specialized methods over concern methods (FAILED - 107)
    has both specialized and concern methods

CelestialBodies::Planets::Ocean::HyceanPlanet
  inheritance from OceanPlanet
    can analyze water chemistry
    inherits water_volume calculation
  validations
    requires at least 10% hydrogen in atmosphere
    is valid with proper hydrogen content and pressure
    inherits ocean planet water coverage validation
    requires significant atmospheric pressure (>1 atm)
    requires an atmosphere to be present
  STI type
    sets the correct STI type
  with :cold trait
    has significant ice coverage
    has mixed liquid-solid state distribution
    has higher ammonia content as antifreeze
    has below-freezing surface temperature
  #habitable_layer_depth
    ensures maximum depth is greater than minimum
    calculates habitable depth range based on pressure
    returns nil when hydrosphere is missing
    returns nil when atmosphere is missing
    sets deeper minimum depth for higher pressure
  with :extreme trait
    has very high surface temperature
    has very high atmospheric pressure
  #hydrogen_percentage (private method)
    returns 0 when H2 gas is not present
    calculates hydrogen percentage from atmosphere
  #habitability_factors
    calculates pressure habitability zones
    includes base ocean planet factors
    rates extreme pressure as level 1
    indicates expanded habitable temperature range
    rates moderate pressure range (1-10 or 100-1000 atm) as level 2
    includes hydrogen blanket greenhouse effect
    rates optimal pressure range (10-100 atm) as level 3
  #surface_features
    does not include storm systems for lower pressure
    includes extreme storm systems for high pressure atmospheres
    includes hydrogen atmosphere features
    includes base ocean planet features
  #ocean_chemistry
    returns unknown when hydrosphere composition is missing
    identifies methane rich oceans when CH4 is present
    identifies hydrogen saturated oceans for high H2 content

Financial::Bond
  validations
    is expected to validate that :amount looks like a number greater than 0
    is expected to validate that :status cannot be empty/falsy
    is expected to validate that :issued_at cannot be empty/falsy
  associations
    is expected to belong to issuer required: true
    is expected to belong to currency required: true
    is expected to have many repayments class_name => Financial::BondRepayment dependent => destroy
    is expected to belong to holder required: true
  methods
    checks if paid off
    calculates total repaid

Manufacturing::Processing
  #process
    when owner does not have enough GCC
      raises an error when GCC is insufficient
    when owner does not have enough resources
      returns an error when resources are insufficient
    when owner has sufficient resources and funds
      successfully processes the blueprint and creates unassembled items

Lookup::ItemLookupService
  item loading
    handles missing directories gracefully
    loads items from all configured paths
  integration with other lookup services
    converts materials to items when needed (PENDING: Requires material data)
  #find_item
    is case insensitive (PENDING: No item files found)
    finds consumable items with correct data (PENDING: No consumable item files found)
    handles scrap items dynamically
    loads items from the correct file structure
    finds items by partial name match (PENDING: No item files found)
    returns nil when item does not exist
    handles dynamic unassembled items (PENDING: Requires operational data)
    finds equipment items with correct data (PENDING: No equipment item files found)
    caches results for subsequent lookups (PENDING: No item files found)
  dynamic item creation
    creates processed items on the fly
    creates used items on the fly
    creates scrap items on the fly

EnergyManagement
  solar output factor
    power generation with solar scaling
      does not scale non-solar units
      scales solar unit output by solar factor
    #current_solar_output_factor
      queries location solar output factor
      returns 1.0 when no settlement
    #solar_daylight?
      returns false when solar factor <= 0.1
      returns true when solar factor > 0.1
  with test entity
    calculates power usage correctly
    calculates power generation correctly
    determines if power is sufficient
    battery management
      does not allow battery charge to exceed capacity
      charges the battery correctly
      consumes battery charge correctly
      returns battery capacity
      returns current battery level
      calculates battery drain correctly with efficiency
      calculates battery percentage
      does not allow battery to go below zero

Financial::Transaction
  currency precision
    supports high precision for GCC (8 decimal places)
  transaction types
    allows withdraw transactions
    allows tax_collection transactions
    allows transfer transactions
    allows deposit transactions
  validations
    requires an amount
    requires a valid transaction_type
    requires amount to be numeric
    requires a transaction_type
  associations
    belongs to a recipient
    belongs to an account

CelestialBodies::Planets::Ocean::OceanPlanet
  validations
    is valid with 30% or more water coverage
    requires a hydrosphere to be present
    requires at least 30% water coverage
  #surface_features
    includes ice formations for cold temperatures
    includes vapor clouds for high temperatures
    includes basic water features
    includes liquid oceans for moderate temperatures
    includes ocean_dominated for high water coverage
  #analyze_water_chemistry (protected method)
    identifies low salinity water
    identifies highly saline water
    identifies moderately saline water
  #habitability_factors
    analyzes water chemistry from hydrosphere composition
    marks aquatic environment as 'dominant' for coverage above 50%
    identifies frozen surface for low temperatures
    includes temperature state for liquid water range
    includes aquatic environment factors based on water coverage
    marks aquatic environment as 'significant' for coverage below 50%
    identifies vapor dominated state for high temperatures
  #water_volume
    calculates water volume based on planet size and coverage
    returns 0 when radius is missing
    increases with higher water coverage
    returns 0 when hydrosphere is missing
  STI type
    sets the correct STI type

CelestialBodies::Planets::Gaseous::IceGiant
  #habitability_score
    returns not habitable for ice giants
  behaves like a gaseous planet
    has a low density
    calculates cloud bands based on rotation
    doesn't have a solid surface
    is expected to validate that :density looks like a number less than 2.0
  #calculate_gravity
    calculates gravity based on mass and radius

CelestialBodies::Planets::Ocean::WaterWorld
  #average_ocean_depth
    returns 0 when hydrosphere is missing
    returns 0 when radius is missing
    calculates depth based on planet size and water coverage
  validations
    requires high water coverage
    is valid with appropriate water coverage
  #surface_features
    includes pelagic_world for extreme coverage
    includes oceanic features

Item
  lookup service integration
    loads material properties for raw materials
    loads properties from item lookup service with category
    handles processed materials
  #container operations
    enforces weight capacity limits
    removes items from containers
    identifies containers correctly
    adds items to containers
  #tradeable?
    returns true for normal items with positive amount
    returns false for containers with items
    returns false for items with zero amount
    returns true for empty containers
  regolith handling
    gets composition from celestial body geosphere (FAILED - 108)
    includes source body in properties
  validations
    is expected to validate that :name cannot be empty/falsy
    is expected to validate that :storage_method cannot be empty/falsy
    is expected to validate that :amount looks like a number greater than or equal to 0
  associations
    is expected to belong to storage_unit optional: true
    is expected to belong to container class_name => Item optional: true
    is expected to have many contained_items class_name => Item dependent => destroy
    is expected to belong to inventory optional: true
    is expected to belong to owner required: true
  #total_weight
    calculates base weight from properties
    includes contained items in total weight

CelestialBodies::Materials::Liquid
  uses the liquid_materials table
  validations
    is valid with valid attributes
    is not valid without an amount
    is not valid without a name
    is not valid with a negative amount
  associations
    can be accessed through hydrosphere.liquid_materials
    is expected to belong to hydrosphere required: true
    associates with the correct class name

Inventory
  #add_item
    when adding an item that exists but has different metadata
      creates a new item record with different metadata
    when adding more amount to an existing item with matching metadata
      updates the amount of the specific existing item
    when adding a new item with metadata
      creates a new item in the inventory with the specified metadata
    when capacity is exceeded
      uses surface storage
    when capacity is not exceeded
      stores item in inventory
  #remove_item
    removes items from storage (FAILED - 109)
    when removing an item with matching name but different metadata exists
      only affects the item with the exactly matching metadata (FAILED - 110)
    when removing an item with specific metadata
      returns false if item with matching name but different metadata not found
      decreases the amount of the specific item matching metadata
      returns false if not enough amount of the specific item
      destroys the specific item if amount becomes zero or less
  validations
    requires an inventoryable
    is valid with valid attributes
  #available_capacity
    when using unit storage
      subtracts stored items from capacity (FAILED - 111)
      returns remaining capacity from units (FAILED - 112)
    when surface storage is available
      returns infinity

TerraSim::GeosphereSimulationService
  #initialize
    sets up initial values from the geosphere
    initializes with a celestial body and its geosphere
  #simulate
    calls all the simulation methods in order
  #manage_regolith_properties
    calculates weathering rate and updates geosphere
  #simulate_tectonic_activity
    updates plate positions when tectonic activity is enabled
    does nothing when tectonic activity is disabled
  #calculate_weathering_rate
    returns a non-negative value
    with atmosphere and hydrosphere
      calculates a higher weathering rate
  #eruption
💥 EXECUTING eruption 50902-1767586856-659 for body 50902
Adding 347.0 kg of Carbon Dioxide to atmosphere [Emission: CO2_c158]
Adding 241.20000000000002 kg of Sulfur Dioxide to atmosphere [Emission: SO2_e767]
Adding 745.5 kg of Water to atmosphere [Emission: H2O_d288]
Adding 96.6 kg of Hydrogen Chloride to atmosphere [Emission: HCl_0902]
Sunlight reduced by 6.0% due to volcanic dust.
Eruption occurred near the ocean, triggering evaporation.
    adds volcanic gases to the atmosphere

Financial::Account
  edge cases
    prevents withdrawals from zero balance for players
  #withdraw
    when funds are sufficient
      decreases the account balance
    when funds are insufficient
      raises an error for players
  validations
    is expected to validate that :balance looks like a number
  #transfer_funds
    when currencies differ
      raises a currency mismatch error
    when funds are sufficient
      transfers the amount between accounts
  Virtual Ledger (Overdraft) Logic
    when owner is a Colony
      allows the balance to drop below zero (Exodus Oligopoly logic)
    when owner is a Player
      strictly prevents negative balances
  #deposit
    with a valid amount
      increases the account balance
    with an invalid amount (negative)
      raises an error and does not modify the balance
  different accountable types
    works with an organization account
    works with a settlement account
    works with a player account
  Development Corporation (DC) Trade
    allows DC-to-DC trade on the virtual ledger via operational_data flags
  associations
    is expected to have many transactions dependent => destroy
    is expected to belong to accountable required: true

StarSim::ProceduralGenerator
  #generate_system
    creates the specified number of celestial bodies (FAILED - 113)
    creates the specified number of stars (FAILED - 114)

Pending: (Failures listed here are expected and do not affect your suite's status)

  1) Galaxy#total_mass calculates total mass properly
     # Implement this when total_mass method exists
     # ./spec/models/galaxy_spec.rb:89

  2) CelestialBodies::Spheres::Geosphere#calculate_materials calculates and updates materials based on crust, mantle, and core composition
     # calculate_materials method not yet implemented
     # ./spec/models/celestial_bodies/spheres/geosphere_spec.rb:45

  3) CelestialBodies::Spheres::Geosphere material transfers transfers material to atmosphere when heated
     # heat_material method not yet implemented
     # ./spec/models/celestial_bodies/spheres/geosphere_spec.rb:219

  4) CelestialBodies::Spheres::Geosphere callbacks triggers TerraSim service after adding a material
     # run_terrasim_service method not yet implemented
     # ./spec/models/celestial_bodies/spheres/geosphere_spec.rb:168

  5) Lookup::CraftLookupService#find_craft with real craft data handles special characters in queries
     # No special characters in craft name
     # ./spec/services/lookup/craft_lookup_service_spec.rb:129

  6) Manufacturing::Service.manufacture with real blueprint data creates material requests based on actual blueprint requirements
     # This test expects material requests for a player with available materials, but the intended behavior is to only create material requests for AI managers or when materials are missing.
     # ./spec/services/manufacturing/service_spec.rb:159

  7) CelestialBodies::BrownDwarf relationships with planets can have orbiting planets
     # Brown dwarf planetary systems not yet implemented
     # ./spec/models/celestial_bodies/brown_dwarf_spec.rb:135

  8) CelestialBodies::BrownDwarf habitable zones has a limited habitable zone
     # Habitable zone calculations not yet implemented for brown dwarfs
     # ./spec/models/celestial_bodies/brown_dwarf_spec.rb:127

  9) TerraSim::GeosphereInitializer ice giant initialization sets up ice_tectonics_enabled for ice giants
     # ice_tectonics_enabled attribute doesn't exist in Geosphere model
     Failure/Error: expect(ice_giant.geosphere.ice_tectonics_enabled).to be true

     NoMethodError:
       undefined method 'ice_tectonics_enabled' for an instance of CelestialBodies::Spheres::Geosphere
     # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_methods.rb:450:in 'ActiveModel::AttributeMethods#method_missing'
     # ./spec/services/terra_sim/geosphere_initializer_spec.rb:86:in 'block (3 levels) in <main>'

  10) Lookup::UnitLookupService unit data structure validation when any propulsion unit exists has operational modes if defined
     # No propulsion units found
     # ./spec/services/lookup/unit_lookup_service_spec.rb:170

  11) Lookup::UnitLookupService unit data structure validation when any propulsion unit exists has performance properties if applicable
     # No propulsion units found
     # ./spec/services/lookup/unit_lookup_service_spec.rb:152

  12) Lookup::UnitLookupService unit data structure validation when any propulsion unit exists has telemetry metadata if defined
     # No propulsion units found
     # ./spec/services/lookup/unit_lookup_service_spec.rb:178

  13) Lookup::UnitLookupService unit data structure validation when any propulsion unit exists has maintenance requirements if defined
     # No propulsion units found
     # ./spec/services/lookup/unit_lookup_service_spec.rb:165

  14) Lookup::UnitLookupService unit data structure validation when any propulsion unit exists has all expected top-level unit properties
     # No propulsion units found
     # ./spec/services/lookup/unit_lookup_service_spec.rb:146

  15) Lookup::UnitLookupService unit data structure validation when any propulsion unit exists has operational properties
     # No propulsion units found
     # ./spec/services/lookup/unit_lookup_service_spec.rb:157

  16) Lookup::UnitLookupService unit data structure validation when any storage unit exists has storage capacity properties
     # No storage units found
     # ./spec/services/lookup/unit_lookup_service_spec.rb:194

  17) Lookup::UnitLookupService unit data structure validation when any storage unit exists has alias support if defined
     # No storage units found
     # ./spec/services/lookup/unit_lookup_service_spec.rb:202

  18) Lookup::ItemLookupService integration with other lookup services converts materials to items when needed
     # Requires material data
     # ./spec/services/lookup/item_lookup_service_spec.rb:150

  19) Lookup::ItemLookupService#find_item is case insensitive
     # No item files found
     # ./spec/services/lookup/item_lookup_service_spec.rb:107

  20) Lookup::ItemLookupService#find_item finds consumable items with correct data
     # No consumable item files found
     # ./spec/services/lookup/item_lookup_service_spec.rb:17

  21) Lookup::ItemLookupService#find_item finds items by partial name match
     # No item files found
     # ./spec/services/lookup/item_lookup_service_spec.rb:89

  22) Lookup::ItemLookupService#find_item handles dynamic unassembled items
     # Requires operational data
     # ./spec/services/lookup/item_lookup_service_spec.rb:50

  23) Lookup::ItemLookupService#find_item finds equipment items with correct data
     # No equipment item files found
     # ./spec/services/lookup/item_lookup_service_spec.rb:31

  24) Lookup::ItemLookupService#find_item caches results for subsequent lookups
     # No item files found
     # ./spec/services/lookup/item_lookup_service_spec.rb:68

Failures:

  1) Craft::BaseCraft player construction allows uninstalling units
     Failure/Error: unit.reload

     ActiveRecord::RecordNotFound:
       Couldn't find Units::BaseUnit with 'id'=5915
     # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/finder_methods.rb:381:in 'ActiveRecord::FinderMethods#raise_record_not_found_exception!'
     # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/finder_methods.rb:475:in 'ActiveRecord::FinderMethods#find_one'
     # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/finder_methods.rb:457:in 'ActiveRecord::FinderMethods#find_with_ids'
     # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/finder_methods.rb:69:in 'ActiveRecord::FinderMethods#find'
     # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1024:in 'ActiveRecord::Persistence#_find_record'
     # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:951:in 'block in ActiveRecord::Persistence#reload'
     # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:881:in 'ActiveRecord::Relation#_scoping'
     # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:428:in 'ActiveRecord::Relation#scoping'
     # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/scoping/default.rb:43:in 'ActiveRecord::Scoping::Default::ClassMethods#unscoped'
     # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:951:in 'ActiveRecord::Persistence#reload'
     # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_methods/dirty.rb:58:in 'ActiveRecord::AttributeMethods::Dirty#reload'
     # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/autosave_association.rb:237:in 'ActiveRecord::AutosaveAssociation#reload'
     # /usr/local/bundle/gems/activestorage-7.0.8.7/lib/active_storage/attached/model.rb:237:in 'ActiveStorage::Attached::Model#reload'
     # ./spec/models/craft/base_craft_spec.rb:267:in 'block (3 levels) in <main>'

  2) Craft::BaseCraft initialization assembles a new craft from inventory and applies the correct variant
     Failure/Error:
       service = UnitModuleAssemblyService.new(
         craft_item: craft_item,
         owner: owner,
         settlement: settlement,
         variant: 'lunar'
       )

     NameError:
       uninitialized constant UnitModuleAssemblyService
     # ./spec/models/craft/base_craft_spec.rb:190:in 'block (3 levels) in <main>'

  3) GameSimulation#process_celestial_bodies logs errors if simulation fails
     Failure/Error: Rails.logger.error e.backtrace.join("\n")

       #<ActiveSupport::Logger:0x00007fa32d8c2ad0 @level=0, @progname=nil, @default_formatter=#<Logger::Formatter:0x00007fa32d88bc10 @datetime_format=nil>, @formatter=#<ActiveSupport::Logger::SimpleFormatter:0x00007fa32d889be0 @datetime_format=nil, @thread_key="activesupport_tagged_logging_tags:8712">, @logdev=#<Logger::LogDevice:0x00007fa32d87e4c0 @shift_period_suffix="%Y%m%d", @shift_size=1048576, @shift_age=0, @filename="/home/galaxy_game/log/development.log", @dev=#<File:/home/galaxy_game/log/development.log>, @binmode=false, @reraise_write_errors=[], @mon_data=#<Monitor:0x00007fa32d88bb20>, @mon_data_owner_object_id=3072>, @level_override={}> received :error with unexpected arguments
         expected: (/Error simulating Mars/)
              got: ("/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:188:in 'block in RS...red)>'\n/usr/local/bundle/bin/rspec:25:in 'Kernel#load'\n/usr/local/bundle/bin/rspec:25:in '<main>'")
       Diff:
       @@ -1 +1 @@
       -[/Error simulating Mars/]
       +["/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:188:in 'block in RSpec::Mocks::MessageExpectation#and_raise'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:762:in 'block in RSpec::Mocks::Implementation#call'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:761:in 'Array#map'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:761:in 'RSpec::Mocks::Implementation#call'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:621:in 'RSpec::Mocks::MessageExpectation::ImplementationDetails#invoke_incrementing_actual_calls_by'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:474:in 'RSpec::Mocks::MessageExpectation::ImplementationDetails#invoke'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/proxy.rb:206:in 'RSpec::Mocks::Proxy#message_received'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/proxy.rb:358:in 'RSpec::Mocks::PartialDoubleProxy#message_received'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/method_double.rb:98:in 'RSpec::Mocks::MethodDouble#proxy_method_invoked'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/verifying_proxy.rb:161:in 'RSpec::Mocks::VerifyingMethodDouble#proxy_method_invoked'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/method_double.rb:74:in 'block (2 levels) in TerraSim::Simulator.define_proxy_method'\n/home/galaxy_game/app/services/game_simulation.rb:68:in 'GameSimulation#simulate_body'\n/home/galaxy_game/app/services/game_simulation.rb:58:in 'block in GameSimulation#process_celestial_bodies'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:713:in 'block in RSpec::Mocks::AndYieldImplementation#call'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:708:in 'Array#each'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:708:in 'RSpec::Mocks::AndYieldImplementation#call'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:762:in 'block in RSpec::Mocks::Implementation#call'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:761:in 'Array#map'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:761:in 'RSpec::Mocks::Implementation#call'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:621:in 'RSpec::Mocks::MessageExpectation::ImplementationDetails#invoke_incrementing_actual_calls_by'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/message_expectation.rb:474:in 'RSpec::Mocks::MessageExpectation::ImplementationDetails#invoke'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/proxy.rb:206:in 'RSpec::Mocks::Proxy#message_received'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/proxy.rb:358:in 'RSpec::Mocks::PartialDoubleProxy#message_received'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/method_double.rb:98:in 'RSpec::Mocks::MethodDouble#proxy_method_invoked'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/verifying_proxy.rb:161:in 'RSpec::Mocks::VerifyingMethodDouble#proxy_method_invoked'\n/usr/local/bundle/gems/rspec-mocks-3.13.2/lib/rspec/mocks/method_double.rb:74:in 'block (2 levels) in CelestialBodies::CelestialBody.define_proxy_method'\n/home/galaxy_game/app/services/game_simulation.rb:53:in 'GameSimulation#process_celestial_bodies'\n/home/galaxy_game/spec/models/game_spec.rb:54:in 'block (3 levels) in <main>'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example.rb:263:in 'BasicObject#instance_exec'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example.rb:263:in 'block in RSpec::Core::Example#run'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example.rb:511:in 'block in RSpec::Core::Example#with_around_and_singleton_context_hooks'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example.rb:468:in 'block in RSpec::Core::Example#with_around_example_hooks'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/hooks.rb:486:in 'block in RSpec::Core::Hooks::HookCollections#run'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/hooks.rb:626:in 'block in RSpec::Core::Hooks::HookCollections#run_around_example_hooks_for'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example.rb:352:in 'RSpec::Core::Example::Procsy#call'\n/usr/local/bundle/gems/rspec-rails-7.1.0/lib/rspec/rails/adapters.rb:75:in 'block (2 levels) in <module:MinitestLifecycleAdapter>'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example.rb:457:in 'BasicObject#instance_exec'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example.rb:457:in 'RSpec::Core::Example#instance_exec'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/hooks.rb:390:in 'RSpec::Core::Hooks::AroundHook#execute_with'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/hooks.rb:628:in 'block (2 levels) in RSpec::Core::Hooks::HookCollections#run_around_example_hooks_for'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example.rb:352:in 'RSpec::Core::Example::Procsy#call'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/hooks.rb:629:in 'RSpec::Core::Hooks::HookCollections#run_around_example_hooks_for'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/hooks.rb:486:in 'RSpec::Core::Hooks::HookCollections#run'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example.rb:468:in 'RSpec::Core::Example#with_around_example_hooks'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example.rb:511:in 'RSpec::Core::Example#with_around_and_singleton_context_hooks'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example.rb:259:in 'RSpec::Core::Example#run'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example_group.rb:646:in 'block in RSpec::Core::ExampleGroup.run_examples'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example_group.rb:642:in 'Array#map'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example_group.rb:642:in 'RSpec::Core::ExampleGroup.run_examples'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example_group.rb:607:in 'RSpec::Core::ExampleGroup.run'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example_group.rb:608:in 'block in RSpec::Core::ExampleGroup.run'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example_group.rb:608:in 'Array#map'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/example_group.rb:608:in 'RSpec::Core::ExampleGroup.run'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/runner.rb:121:in 'block (3 levels) in RSpec::Core::Runner#run_specs'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/runner.rb:121:in 'Array#map'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/runner.rb:121:in 'block (2 levels) in RSpec::Core::Runner#run_specs'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/configuration.rb:2097:in 'RSpec::Core::Configuration#with_suite_hooks'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/runner.rb:116:in 'block in RSpec::Core::Runner#run_specs'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/reporter.rb:74:in 'RSpec::Core::Reporter#report'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/runner.rb:115:in 'RSpec::Core::Runner#run_specs'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/runner.rb:89:in 'RSpec::Core::Runner#run'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/runner.rb:71:in 'RSpec::Core::Runner.run'\n/usr/local/bundle/gems/rspec-core-3.13.2/lib/rspec/core/runner.rb:45:in 'RSpec::Core::Runner.invoke'\n/usr/local/bundle/gems/rspec-core-3.13.2/exe/rspec:4:in '<top (required)>'\n/usr/local/bundle/bin/rspec:25:in 'Kernel#load'\n/usr/local/bundle/bin/rspec:25:in '<main>'"]
     # ./app/services/game_simulation.rb:62:in 'block in GameSimulation#process_celestial_bodies'
     # ./app/services/game_simulation.rb:53:in 'GameSimulation#process_celestial_bodies'
     # ./spec/models/game_spec.rb:54:in 'block (3 levels) in <main>'
     # ------------------
     # --- Caused by: ---
     # StandardError:
     #   Sim error
     #   ./app/services/game_simulation.rb:68:in 'GameSimulation#simulate_body'

  4) GameSimulation#advance_by_days when days is positive handles year rollover correctly
     Failure/Error: @game_state.day += days

       #<Double "GameState"> received :day= with unexpected arguments
         expected: (0.0)
              got: (365.0)
     # ./app/services/game_simulation.rb:41:in 'GameSimulation#update_game_time'
     # ./app/services/game_simulation.rb:27:in 'GameSimulation#advance_by_days'
     # ./spec/models/game_spec.rb:33:in 'block (4 levels) in <main>'

  5) GameSimulation#advance_by_days when days is positive advances the game time and saves the state
     Failure/Error: @game_state.last_updated_at = Time.current
       #<Double "GameState"> received unexpected message :last_updated_at= with (2026-01-05 04:08:06.812721169 +0000)
     # ./app/services/game_simulation.rb:48:in 'GameSimulation#update_game_time'
     # ./app/services/game_simulation.rb:27:in 'GameSimulation#advance_by_days'
     # ./spec/models/game_spec.rb:26:in 'block (4 levels) in <main>'

  6) SimulationController GET #index with existing solar system assigns solar system and its celestial bodies
     Failure/Error: expect(assigns(:solar_system)).to eq(solar_system)

       expected: #<SolarSystem id: 23070, identifier: "SS-5", name: "Solar System 5", galaxy_id: nil, current_star_id:...4:08:18.992777000 +0000", updated_at: "2026-01-05 04:08:18.992777000 +0000", wormhole_capacity: 0.0>
            got: #<SolarSystem id: 23068, identifier: "SS-3", name: "Solar System 3", galaxy_id: nil, current_star_id:...4:07:54.917642000 +0000", updated_at: "2026-01-05 04:07:54.917642000 +0000", wormhole_capacity: 0.0>

       (compared using ==)

       Diff:

       @@ -1,10 +1,10 @@
       -#<SolarSystem:0x00007fa319a835e0
       - id: 23070,
       - identifier: "SS-5",
       - name: "Solar System 5",
       +#<SolarSystem:0x00007fa31a1cf010
       + id: 23068,
       + identifier: "SS-3",
       + name: "Solar System 3",
         galaxy_id: nil,
         current_star_id: nil,
       - created_at: Mon, 05 Jan 2026 04:08:18.992777000 UTC +00:00,
       - updated_at: Mon, 05 Jan 2026 04:08:18.992777000 UTC +00:00,
       + created_at: Mon, 05 Jan 2026 04:07:54.917642000 UTC +00:00,
       + updated_at: Mon, 05 Jan 2026 04:07:54.917642000 UTC +00:00,
         wormhole_capacity: 0.0>
     # ./spec/controllers/simulation_controller_spec.rb:14:in 'block (4 levels) in <main>'

  7) SimulationController GET #run_all with existing solar system runs simulation for all celestial bodies
     Failure/Error: expect(TerraSim::Simulator).to have_received(:new).exactly(2).times

       (TerraSim::Simulator (class)).new(*(any args))
           expected: 2 times with any arguments
           received: 1 time with any arguments
     # ./spec/controllers/simulation_controller_spec.rb:83:in 'block (4 levels) in <main>'

  8) FittingService fits all components from inventory
     Failure/Error: expect(result.success?).to be true

       expected true
            got false
     # ./spec/services/fitting_service_spec.rb:33:in 'block (2 levels) in <main>'

  9) FittingService fits components without inventory if inventory is nil
     Failure/Error: expect(result.success?).to be true

       expected true
            got false
     # ./spec/services/fitting_service_spec.rb:49:in 'block (2 levels) in <main>'

  10) Manufacturing::ShellPrintingService#print_pressurization_seal with canyon creates a dome seal job
      Failure/Error: raise "Insufficient materials: need #{data[:amount]}kg of #{material_name}"

      RuntimeError:
        Insufficient materials: need 5000000kg of depleted_regolith
      # ./app/services/manufacturing/shell_printing_service.rb:140:in 'block in Manufacturing::ShellPrintingService#ensure_materials_available'
      # ./app/services/manufacturing/shell_printing_service.rb:138:in 'Hash#each'
      # ./app/services/manufacturing/shell_printing_service.rb:138:in 'Manufacturing::ShellPrintingService#ensure_materials_available'
      # ./app/services/manufacturing/shell_printing_service.rb:67:in 'Manufacturing::ShellPrintingService#print_pressurization_seal'
      # ./spec/services/manufacturing/shell_printing_service_spec.rb:337:in 'block (4 levels) in <main>'

  11) Manufacturing::ShellPrintingService#print_pressurization_seal with lava tube creates a plug seal job and updates progress
      Failure/Error: raise "Insufficient materials: need #{data[:amount]}kg of #{material_name}"

      RuntimeError:
        Insufficient materials: need 1500000kg of depleted_regolith
      # ./app/services/manufacturing/shell_printing_service.rb:140:in 'block in Manufacturing::ShellPrintingService#ensure_materials_available'
      # ./app/services/manufacturing/shell_printing_service.rb:138:in 'Hash#each'
      # ./app/services/manufacturing/shell_printing_service.rb:138:in 'Manufacturing::ShellPrintingService#ensure_materials_available'
      # ./app/services/manufacturing/shell_printing_service.rb:67:in 'Manufacturing::ShellPrintingService#print_pressurization_seal'
      # ./spec/services/manufacturing/shell_printing_service_spec.rb:306:in 'block (4 levels) in <main>'

  12) Manufacturing::ShellPrintingService#print_pressurization_seal with lava tube marks pressurization ready when requirements met
      Failure/Error: raise "Insufficient materials: need #{data[:amount]}kg of #{material_name}"

      RuntimeError:
        Insufficient materials: need 1500000kg of depleted_regolith
      # ./app/services/manufacturing/shell_printing_service.rb:140:in 'block in Manufacturing::ShellPrintingService#ensure_materials_available'
      # ./app/services/manufacturing/shell_printing_service.rb:138:in 'Hash#each'
      # ./app/services/manufacturing/shell_printing_service.rb:138:in 'Manufacturing::ShellPrintingService#ensure_materials_available'
      # ./app/services/manufacturing/shell_printing_service.rb:67:in 'Manufacturing::ShellPrintingService#print_pressurization_seal'
      # ./spec/services/manufacturing/shell_printing_service_spec.rb:322:in 'block (4 levels) in <main>'

  13) Manufacturing::ShellPrintingService#enclose_inflatable with sufficient materials creates a shell printing job
      Failure/Error: raise "Insufficient materials: need #{data[:amount]}kg of #{material_name}"

      RuntimeError:
        Insufficient materials: need 1400kg of depleted_regolith
      # ./app/services/manufacturing/shell_printing_service.rb:140:in 'block in Manufacturing::ShellPrintingService#ensure_materials_available'
      # ./app/services/manufacturing/shell_printing_service.rb:138:in 'Hash#each'
      # ./app/services/manufacturing/shell_printing_service.rb:138:in 'Manufacturing::ShellPrintingService#ensure_materials_available'
      # ./app/services/manufacturing/shell_printing_service.rb:33:in 'Manufacturing::ShellPrintingService#enclose_inflatable'
      # ./spec/services/manufacturing/shell_printing_service_spec.rb:139:in 'block (5 levels) in <main>'
      # ./spec/services/manufacturing/shell_printing_service_spec.rb:138:in 'block (4 levels) in <main>'

  14) Manufacturing::ShellPrintingService#enclose_inflatable with sufficient materials consumes materials from inventory
      Failure/Error: raise "Insufficient materials: need #{data[:amount]}kg of #{material_name}"

      RuntimeError:
        Insufficient materials: need 1400kg of depleted_regolith
      # ./app/services/manufacturing/shell_printing_service.rb:140:in 'block in Manufacturing::ShellPrintingService#ensure_materials_available'
      # ./app/services/manufacturing/shell_printing_service.rb:138:in 'Hash#each'
      # ./app/services/manufacturing/shell_printing_service.rb:138:in 'Manufacturing::ShellPrintingService#ensure_materials_available'
      # ./app/services/manufacturing/shell_printing_service.rb:33:in 'Manufacturing::ShellPrintingService#enclose_inflatable'
      # ./spec/services/manufacturing/shell_printing_service_spec.rb:150:in 'block (4 levels) in <main>'

  15) Manufacturing::ShellPrintingService#enclose_inflatable with sufficient materials stores material composition in job metadata
      Failure/Error: raise "Insufficient materials: need #{data[:amount]}kg of #{material_name}"

      RuntimeError:
        Insufficient materials: need 1400kg of depleted_regolith
      # ./app/services/manufacturing/shell_printing_service.rb:140:in 'block in Manufacturing::ShellPrintingService#ensure_materials_available'
      # ./app/services/manufacturing/shell_printing_service.rb:138:in 'Hash#each'
      # ./app/services/manufacturing/shell_printing_service.rb:138:in 'Manufacturing::ShellPrintingService#ensure_materials_available'
      # ./app/services/manufacturing/shell_printing_service.rb:33:in 'Manufacturing::ShellPrintingService#enclose_inflatable'
      # ./spec/services/manufacturing/shell_printing_service_spec.rb:160:in 'block (4 levels) in <main>'

  16) Component Production Integration with real blueprint files producing mk1 I-beams (bootstrap version) creates a production job using real blueprint
      Failure/Error: raise "Insufficient materials: need #{data[:amount]}kg of #{material_name}"

      RuntimeError:
        Insufficient materials: need 150kg of depleted_regolith
      # ./app/services/manufacturing/component_production_service.rb:124:in 'block in Manufacturing::ComponentProductionService#ensure_materials_available'
      # ./app/services/manufacturing/component_production_service.rb:122:in 'Hash#each'
      # ./app/services/manufacturing/component_production_service.rb:122:in 'Manufacturing::ComponentProductionService#ensure_materials_available'
      # ./app/services/manufacturing/component_production_service.rb:22:in 'Manufacturing::ComponentProductionService#produce_component'
      # ./spec/services/manufacturing/component_production_integration_spec.rb:74:in 'block (5 levels) in <main>'
      # ./spec/services/manufacturing/component_production_integration_spec.rb:73:in 'block (4 levels) in <main>'

  17) Component Production Integration with real blueprint files producing mk1 I-beams (bootstrap version) consumes waste_regolith from inventory
      Failure/Error: raise "Insufficient materials: need #{data[:amount]}kg of #{material_name}"

      RuntimeError:
        Insufficient materials: need 75kg of depleted_regolith
      # ./app/services/manufacturing/component_production_service.rb:124:in 'block in Manufacturing::ComponentProductionService#ensure_materials_available'
      # ./app/services/manufacturing/component_production_service.rb:122:in 'Hash#each'
      # ./app/services/manufacturing/component_production_service.rb:122:in 'Manufacturing::ComponentProductionService#ensure_materials_available'
      # ./app/services/manufacturing/component_production_service.rb:22:in 'Manufacturing::ComponentProductionService#produce_component'
      # ./spec/services/manufacturing/component_production_integration_spec.rb:84:in 'block (4 levels) in <main>'

  18) OrbitalRelationship energy calculations #stellar_energy_input returns 0 when primary_body doesn't have luminosity
      Failure/Error: expect(relationship.stellar_energy_input).to eq(0)

        expected: 0
             got: 0.3555715041623817103627460996575723866079411516931e-23

        (compared using ==)
      # ./spec/models/orbital_relationship_spec.rb:201:in 'block (4 levels) in <main>'

  19) OrbitalRelationship energy calculations #energy_input returns stellar energy for star_planet relationships
      Failure/Error:
          def reflected_energy
            # For planet-moon: energy from planet's reflected sunlight (not implemented)
            if planet_moon_relationship? && primary_body.respond_to?(:albedo)
              # Placeholder: could model planetshine here
              return 0
            end
        
            # For star-planet: allow for orbital mirrors and albedo adjustment
            if star_planet_relationship? && primary_body.respond_to?(:luminosity) && orbital_distance > 0
              # Solar constant at planet (W/m^2)

      ArgumentError:
        wrong number of arguments (given 1, expected 0)
      # ./app/models/orbital_relationship.rb:85:in 'reflected_energy'
      # ./app/models/orbital_relationship.rb:59:in 'OrbitalRelationship#energy_input'
      # ./spec/models/orbital_relationship_spec.rb:249:in 'block (4 levels) in <main>'

  20) OrbitalRelationship terraforming reflected_energy and energy_input returns extra energy for star_planet with orbital mirrors and albedo adjustment
      Failure/Error:
          def reflected_energy
            # For planet-moon: energy from planet's reflected sunlight (not implemented)
            if planet_moon_relationship? && primary_body.respond_to?(:albedo)
              # Placeholder: could model planetshine here
              return 0
            end
        
            # For star-planet: allow for orbital mirrors and albedo adjustment
            if star_planet_relationship? && primary_body.respond_to?(:luminosity) && orbital_distance > 0
              # Solar constant at planet (W/m^2)

      ArgumentError:
        wrong number of arguments (given 1, expected 0)
      # ./app/models/orbital_relationship.rb:85:in 'reflected_energy'
      # ./app/models/orbital_relationship.rb:59:in 'OrbitalRelationship#energy_input'
      # ./spec/models/orbital_relationship_spec.rb:285:in 'block (3 levels) in <main>'

  21) OrbitalRelationship orbital mechanics #calculated_orbital_period returns nil when primary_body has no mass
      Failure/Error: massless_body = create(:star, mass: nil)

      ActiveRecord::RecordInvalid:
        Validation failed: Mass can't be blank, Mass is not a number
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/evaluation.rb:15:in 'FactoryBot::Evaluation#create'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:12:in 'block in FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:9:in 'FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory.rb:46:in 'FactoryBot::Factory#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:29:in 'block in FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'block in ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:28:in 'FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in 'block in FactoryBot::Syntax::Methods#define_singular_strategy_method'
      # ./spec/models/orbital_relationship_spec.rb:339:in 'block (4 levels) in <main>'

  22) UnitAssemblyJob#complete_assembly creates unassembled items in inventory
      Failure/Error: expect(items.count).to eq(2)

        expected: 2
             got: 0

        (compared using ==)
      # ./spec/models/unit_assembly_job_spec.rb:133:in 'block (3 levels) in <main>'

  23) Component Production Game Loop Integration full production cycle processes multiple jobs simultaneously
      Failure/Error: self.save!

      ActiveRecord::RecordInvalid:
        Validation failed: Location can't be blank, Celestial body can't be blank, Celestial body must be present
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # ./app/models/settlement/base_settlement.rb:364:in 'Settlement::BaseSettlement#increase_unhappiness'
      # ./app/models/settlement/base_settlement.rb:352:in 'Settlement::BaseSettlement#handle_resource_shortage'
      # ./app/models/settlement/base_settlement.rb:329:in 'Settlement::BaseSettlement#check_resource_availability'
      # ./app/models/settlement/base_settlement.rb:500:in 'Settlement::BaseSettlement#manage_life_support'
      # ./app/models/settlement/base_settlement.rb:476:in 'Settlement::BaseSettlement#manage_shared_services!'
      # ./app/services/game.rb:55:in 'block in Game#process_settlements'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'block in ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:138:in 'block in ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:245:in 'block in ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:229:in 'ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:137:in 'ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:70:in 'ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#find_each'
      # ./app/services/game.rb:35:in 'Game#process_settlements'
      # ./app/services/game.rb:16:in 'Game#advance_by_days'
      # ./spec/integration/component_production_game_loop_spec.rb:177:in 'block (3 levels) in <main>'

  24) Component Production Game Loop Integration full production cycle handles partial progress over multiple ticks
      Failure/Error: self.save!

      ActiveRecord::RecordInvalid:
        Validation failed: Location can't be blank, Celestial body can't be blank, Celestial body must be present
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # ./app/models/settlement/base_settlement.rb:364:in 'Settlement::BaseSettlement#increase_unhappiness'
      # ./app/models/settlement/base_settlement.rb:352:in 'Settlement::BaseSettlement#handle_resource_shortage'
      # ./app/models/settlement/base_settlement.rb:329:in 'Settlement::BaseSettlement#check_resource_availability'
      # ./app/models/settlement/base_settlement.rb:500:in 'Settlement::BaseSettlement#manage_life_support'
      # ./app/models/settlement/base_settlement.rb:476:in 'Settlement::BaseSettlement#manage_shared_services!'
      # ./app/services/game.rb:55:in 'block in Game#process_settlements'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'block in ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:138:in 'block in ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:245:in 'block in ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:229:in 'ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:137:in 'ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:70:in 'ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#find_each'
      # ./app/services/game.rb:35:in 'Game#process_settlements'
      # ./app/services/game.rb:16:in 'Game#advance_by_days'
      # ./spec/integration/component_production_game_loop_spec.rb:157:in 'block (3 levels) in <main>'

  25) Component Production Game Loop Integration full production cycle produces components through game loop progression
      Failure/Error: self.save!

      ActiveRecord::RecordInvalid:
        Validation failed: Location can't be blank, Celestial body can't be blank, Celestial body must be present
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # ./app/models/settlement/base_settlement.rb:364:in 'Settlement::BaseSettlement#increase_unhappiness'
      # ./app/models/settlement/base_settlement.rb:352:in 'Settlement::BaseSettlement#handle_resource_shortage'
      # ./app/models/settlement/base_settlement.rb:329:in 'Settlement::BaseSettlement#check_resource_availability'
      # ./app/models/settlement/base_settlement.rb:500:in 'Settlement::BaseSettlement#manage_life_support'
      # ./app/models/settlement/base_settlement.rb:476:in 'Settlement::BaseSettlement#manage_shared_services!'
      # ./app/services/game.rb:55:in 'block in Game#process_settlements'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'block in ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:138:in 'block in ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:245:in 'block in ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:229:in 'ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:137:in 'ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:70:in 'ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#find_each'
      # ./app/services/game.rb:35:in 'Game#process_settlements'
      # ./app/services/game.rb:16:in 'Game#advance_by_days'
      # ./spec/integration/component_production_game_loop_spec.rb:131:in 'block (3 levels) in <main>'

  26) MaterialPropertiesConcern#molar_mass_from_properties returns nil if molar mass not found
      Failure/Error: expect(instance.molar_mass_from_properties).to be_nil

        expected: nil
             got: 1.0
      # ./spec/models/concerns/material_properties_concern_spec.rb:56:in 'block (3 levels) in <main>'

  27) Manufacturing::CostCalculator Earth-Imported COGS (EAP-COGS) calculates the EAP-COGS (Earth Import Cost) for the unit
      Failure/Error: base_efficiency = @blueprint.dig('production_data', 'base_material_efficiency') || @blueprint['waste_factor'] ? (1.0 - @blueprint['waste_factor']) : 1.0

      TypeError:
        nil can't be coerced into Float
      # ./app/services/manufacturing/cost_calculator.rb:83:in 'Float#-'
      # ./app/services/manufacturing/cost_calculator.rb:83:in 'Manufacturing::CostCalculator#print_breakdown'
      # ./spec/services/manufacturing/cost_calculator_spec.rb:68:in 'block (3 levels) in <main>'

  28) Manufacturing::CostCalculator Local Production COGS (LAP-COGS) calculates the LAP-COGS (Local Production Cost) for the unit
      Failure/Error: base_efficiency = @blueprint.dig('production_data', 'base_material_efficiency') || @blueprint['waste_factor'] ? (1.0 - @blueprint['waste_factor']) : 1.0

      TypeError:
        nil can't be coerced into Float
      # ./app/services/manufacturing/cost_calculator.rb:83:in 'Float#-'
      # ./app/services/manufacturing/cost_calculator.rb:83:in 'Manufacturing::CostCalculator#print_breakdown'
      # ./spec/services/manufacturing/cost_calculator_spec.rb:89:in 'block (3 levels) in <main>'

  29) MaterialRequestService.fulfill_market_order adds materials to settlement inventory
      Failure/Error: expect(settlement.inventory).to have_received(:add_item).with('water', 10, nil, {})
        #<Inventory id: 37468, inventoryable_type: "Settlement::BaseSettlement", inventoryable_id: 19758, created_at: "2026-01-05 04:11:38.040332000 +0000", updated_at: "2026-01-05 04:11:38.040332000 +0000", capacity: nil> expected to have received add_item, but that object is not a spy or method has not been stubbed.
      # ./spec/services/material_request_service_spec.rb:132:in 'block (3 levels) in <main>'

  30) Logistics::ContractService.create_internal_transfer with valid settlements creates a logistics contract for internal transfer
      Failure/Error: expect(contract).to be_persisted
        expected nil to respond to `persisted?`
      # ./spec/services/logistics/contract_service_spec.rb:23:in 'block (4 levels) in <main>'

  31) Settlement::BaseSettlement associations destroys the marketplace when destroyed
      Failure/Error: expect { settlement_to_destroy.destroy }.to change { Market::Marketplace.count }.by(-1)

      ActiveRecord::StatementInvalid:
        PG::UndefinedColumn: ERROR:  column material_processing_jobs.base_settlement_id does not exist
        LINE 1: ...ing_jobs".* FROM "material_processing_jobs" WHERE "material_...
                                                                     ^
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:837:in 'PG::Connection#prepare'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:837:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#prepare_statement'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:832:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#prepare_statement'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:778:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:747:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:54:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_query'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:560:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#select'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:66:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#select_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:110:in 'ActiveRecord::ConnectionAdapters::QueryCache#select_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:54:in 'ActiveRecord::Querying#_query_by_sql'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:50:in 'ActiveRecord::Querying#find_by_sql'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/statement_cache.rb:150:in 'ActiveRecord::StatementCache#execute'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/association.rb:232:in 'ActiveRecord::Associations::Association#find_target'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/collection_association.rb:264:in 'ActiveRecord::Associations::CollectionAssociation#load_target'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/has_many_association.rb:27:in 'ActiveRecord::Associations::HasManyAssociation#handle_dependency'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/builder/association.rb:141:in 'block in ActiveRecord::Associations::Builder::Association.add_destroy_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:467:in 'BasicObject#instance_exec'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:467:in 'block in ActiveSupport::Callbacks::CallTemplate::InstanceExec1#make_lambda'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:199:in 'block (2 levels) in ActiveSupport::Callbacks::Filters::Before.halting'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:687:in 'block (2 levels) in ActiveSupport::Callbacks::CallbackChain#default_terminator'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:686:in 'Kernel#catch'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:686:in 'block in ActiveSupport::Callbacks::CallbackChain#default_terminator'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:200:in 'block in ActiveSupport::Callbacks::Filters::Before.halting'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:595:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_before'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:595:in 'Array#each'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:595:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_before'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:106:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # ./spec/models/settlement/base_settlement_spec.rb:106:in 'block (4 levels) in <main>'
      # ./spec/models/settlement/base_settlement_spec.rb:106:in 'block (3 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::UndefinedColumn:
      #   ERROR:  column material_processing_jobs.base_settlement_id does not exist
      #   LINE 1: ...ing_jobs".* FROM "material_processing_jobs" WHERE "material_...
      #                                                                ^
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:837:in 'PG::Connection#prepare'

  32) Craft::Harvester#extract_resources when extracting from a valid target increases inventory with extracted resources
      Failure/Error: raise "Storage full" unless can_store?('raw_material', amount)

      RuntimeError:
        Storage full
      # ./app/models/craft/harvester.rb:14:in 'Craft::Harvester#extract_resources'
      # ./spec/models/craft/harvester_spec.rb:32:in 'block (4 levels) in <main>'

  33) Manufacturing::AssemblyService.start_assembly with all materials available charges the tenant fee
      Failure/Error: expect(player.account.reload.balance).to eq(initial_player_balance)

        expected: 0.1e4
             got: 0.964e3

        (compared using ==)
      # ./spec/services/manufacturing/assembly_service_spec.rb:70:in 'block (4 levels) in <main>'

  34) Manufacturing::Service.manufacture with real blueprint data stores actual blueprint data in specifications
      Failure/Error: expect(job.specifications['name']).to eq(blueprint['name'])

        expected: "Merlin Engine"
             got: nil

        (compared using ==)
      # ./spec/services/manufacturing/service_spec.rb:278:in 'block (4 levels) in <main>'

  35) Shell Printing Game Loop Integration full shell printing cycle encloses inflatable tank through game loop progression
      Failure/Error: self.save!

      ActiveRecord::RecordInvalid:
        Validation failed: Location can't be blank, Celestial body can't be blank, Celestial body must be present
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # ./app/models/settlement/base_settlement.rb:364:in 'Settlement::BaseSettlement#increase_unhappiness'
      # ./app/models/settlement/base_settlement.rb:352:in 'Settlement::BaseSettlement#handle_resource_shortage'
      # ./app/models/settlement/base_settlement.rb:329:in 'Settlement::BaseSettlement#check_resource_availability'
      # ./app/models/settlement/base_settlement.rb:500:in 'Settlement::BaseSettlement#manage_life_support'
      # ./app/models/settlement/base_settlement.rb:476:in 'Settlement::BaseSettlement#manage_shared_services!'
      # ./app/services/game.rb:55:in 'block in Game#process_settlements'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'block in ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:138:in 'block in ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:245:in 'block in ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:229:in 'ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:137:in 'ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:70:in 'ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#find_each'
      # ./app/services/game.rb:35:in 'Game#process_settlements'
      # ./app/services/game.rb:16:in 'Game#advance_by_days'
      # ./spec/integration/shell_printing_game_loop_spec.rb:147:in 'block (3 levels) in <main>'

  36) Shell Printing Game Loop Integration full shell printing cycle tracks material composition in shell metadata
      Failure/Error: self.save!

      ActiveRecord::RecordInvalid:
        Validation failed: Location can't be blank, Celestial body can't be blank, Celestial body must be present
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # ./app/models/settlement/base_settlement.rb:364:in 'Settlement::BaseSettlement#increase_unhappiness'
      # ./app/models/settlement/base_settlement.rb:352:in 'Settlement::BaseSettlement#handle_resource_shortage'
      # ./app/models/settlement/base_settlement.rb:329:in 'Settlement::BaseSettlement#check_resource_availability'
      # ./app/models/settlement/base_settlement.rb:500:in 'Settlement::BaseSettlement#manage_life_support'
      # ./app/models/settlement/base_settlement.rb:476:in 'Settlement::BaseSettlement#manage_shared_services!'
      # ./app/services/game.rb:55:in 'block in Game#process_settlements'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'block in ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:138:in 'block in ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:245:in 'block in ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:229:in 'ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:137:in 'ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:70:in 'ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#find_each'
      # ./app/services/game.rb:35:in 'Game#process_settlements'
      # ./app/services/game.rb:16:in 'Game#advance_by_days'
      # ./spec/integration/shell_printing_game_loop_spec.rb:165:in 'block (3 levels) in <main>'

  37) PressurizationService#check_sealing_status with traditional sealed environment returns ready for sealed environment
      Failure/Error: raise ArgumentError, "Environment must have a calculable volume" if @volume <= 0

      ArgumentError:
        Environment must have a calculable volume
      # ./app/services/pressurization_service.rb:32:in 'PressurizationService#initialize'
      # ./spec/services/pressurization_service_spec.rb:25:in 'Class#new'
      # ./spec/services/pressurization_service_spec.rb:25:in 'block (4 levels) in <main>'

  38) PressurizationService#check_sealing_status with traditional sealed environment returns not ready for unsealed environment
      Failure/Error: raise ArgumentError, "Environment must have a calculable volume" if @volume <= 0

      ArgumentError:
        Environment must have a calculable volume
      # ./app/services/pressurization_service.rb:32:in 'PressurizationService#initialize'
      # ./spec/services/pressurization_service_spec.rb:31:in 'Class#new'
      # ./spec/services/pressurization_service_spec.rb:31:in 'block (4 levels) in <main>'

  39) PressurizationService#check_sealing_status with pressurization target (canyon) returns not ready when requirements not met
      Failure/Error: raise ArgumentError, "Environment must be an enclosed structure with atmospheric data"

      ArgumentError:
        Environment must be an enclosed structure with atmospheric data
      # ./app/services/pressurization_service.rb:9:in 'PressurizationService#initialize'
      # ./spec/services/pressurization_service_spec.rb:89:in 'Class#new'
      # ./spec/services/pressurization_service_spec.rb:89:in 'block (4 levels) in <main>'

  40) PressurizationService#check_sealing_status with pressurization target (lava tube) returns ready when requirements met
      Failure/Error: raise ArgumentError, "Environment must be an enclosed structure with atmospheric data"

      ArgumentError:
        Environment must be an enclosed structure with atmospheric data
      # ./app/services/pressurization_service.rb:9:in 'PressurizationService#initialize'
      # ./spec/services/pressurization_service_spec.rb:70:in 'Class#new'
      # ./spec/services/pressurization_service_spec.rb:70:in 'block (4 levels) in <main>'

  41) PressurizationService#check_sealing_status with pressurization target (lava tube) returns not ready when requirements not met
      Failure/Error: raise ArgumentError, "Environment must be an enclosed structure with atmospheric data"

      ArgumentError:
        Environment must be an enclosed structure with atmospheric data
      # ./app/services/pressurization_service.rb:9:in 'PressurizationService#initialize'
      # ./spec/services/pressurization_service_spec.rb:63:in 'Class#new'
      # ./spec/services/pressurization_service_spec.rb:63:in 'block (4 levels) in <main>'

  42) GameController GET #index solar system seeding and display calls SystemBuilderService to build the system if no solar system exists
      Failure/Error: let!(:luna) { FactoryBot.create(:moon, name: 'Luna', identifier: 'LUNA-01', solar_system: sol_system, orbital_period: 27, parent_celestial_body: earth, surface_temperature: 250) }

      ActiveRecord::RecordInvalid:
        Validation failed: Identifier has already been taken
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/evaluation.rb:15:in 'FactoryBot::Evaluation#create'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:12:in 'block in FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:9:in 'FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory.rb:46:in 'FactoryBot::Factory#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:29:in 'block in FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'block in ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:28:in 'FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in 'block in FactoryBot::Syntax::Methods#define_singular_strategy_method'
      # ./spec/controllers/game_controller_spec.rb:47:in 'block (4 levels) in <main>'

  43) GameController GET #index solar system seeding and display defines is_moon and body_category singleton methods on celestial bodies
      Failure/Error: let!(:luna) { FactoryBot.create(:moon, name: 'Luna', identifier: 'LUNA-01', solar_system: sol_system, orbital_period: 27, parent_celestial_body: earth, surface_temperature: 250) }

      ActiveRecord::RecordInvalid:
        Validation failed: Identifier has already been taken
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/evaluation.rb:15:in 'FactoryBot::Evaluation#create'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:12:in 'block in FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:9:in 'FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory.rb:46:in 'FactoryBot::Factory#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:29:in 'block in FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'block in ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:28:in 'FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in 'block in FactoryBot::Syntax::Methods#define_singular_strategy_method'
      # ./spec/controllers/game_controller_spec.rb:47:in 'block (4 levels) in <main>'

  44) GameController GET #index solar system seeding and display logs celestial body attributes for debugging
      Failure/Error: let!(:luna) { FactoryBot.create(:moon, name: 'Luna', identifier: 'LUNA-01', solar_system: sol_system, orbital_period: 27, parent_celestial_body: earth, surface_temperature: 250) }

      ActiveRecord::RecordInvalid:
        Validation failed: Identifier has already been taken
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/evaluation.rb:15:in 'FactoryBot::Evaluation#create'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:12:in 'block in FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:9:in 'FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory.rb:46:in 'FactoryBot::Factory#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:29:in 'block in FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'block in ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:28:in 'FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in 'block in FactoryBot::Syntax::Methods#define_singular_strategy_method'
      # ./spec/controllers/game_controller_spec.rb:47:in 'block (4 levels) in <main>'

  45) GameController GET #index solar system seeding and display generates correct JSON with parent_body_identifier for moons
      Failure/Error: let!(:luna) { FactoryBot.create(:moon, name: 'Luna', identifier: 'LUNA-01', solar_system: sol_system, orbital_period: 27, parent_celestial_body: earth, surface_temperature: 250) }

      ActiveRecord::RecordInvalid:
        Validation failed: Identifier has already been taken
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/evaluation.rb:15:in 'FactoryBot::Evaluation#create'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:12:in 'block in FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:9:in 'FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory.rb:46:in 'FactoryBot::Factory#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:29:in 'block in FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'block in ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:28:in 'FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in 'block in FactoryBot::Syntax::Methods#define_singular_strategy_method'
      # ./spec/controllers/game_controller_spec.rb:47:in 'block (4 levels) in <main>'

  46) GameController GET #index solar system seeding and display returns JSON with correct celestial bodies data
      Failure/Error: let!(:luna) { FactoryBot.create(:moon, name: 'Luna', identifier: 'LUNA-01', solar_system: sol_system, orbital_period: 27, parent_celestial_body: earth, surface_temperature: 250) }

      ActiveRecord::RecordInvalid:
        Validation failed: Identifier has already been taken
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/evaluation.rb:15:in 'FactoryBot::Evaluation#create'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:12:in 'block in FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:9:in 'FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory.rb:46:in 'FactoryBot::Factory#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:29:in 'block in FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'block in ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:28:in 'FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in 'block in FactoryBot::Syntax::Methods#define_singular_strategy_method'
      # ./spec/controllers/game_controller_spec.rb:47:in 'block (4 levels) in <main>'

  47) GameController GET #index solar system seeding and display assigns the Sol solar system and its celestial bodies
      Failure/Error: let!(:luna) { FactoryBot.create(:moon, name: 'Luna', identifier: 'LUNA-01', solar_system: sol_system, orbital_period: 27, parent_celestial_body: earth, surface_temperature: 250) }

      ActiveRecord::RecordInvalid:
        Validation failed: Identifier has already been taken
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/evaluation.rb:15:in 'FactoryBot::Evaluation#create'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:12:in 'block in FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:9:in 'FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory.rb:46:in 'FactoryBot::Factory#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:29:in 'block in FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'block in ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:28:in 'FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in 'block in FactoryBot::Syntax::Methods#define_singular_strategy_method'
      # ./spec/controllers/game_controller_spec.rb:47:in 'block (4 levels) in <main>'

  48) GameController GET #index solar system seeding and display correctly calculates @planet_count excluding satellites
      Failure/Error: let!(:luna) { FactoryBot.create(:moon, name: 'Luna', identifier: 'LUNA-01', solar_system: sol_system, orbital_period: 27, parent_celestial_body: earth, surface_temperature: 250) }

      ActiveRecord::RecordInvalid:
        Validation failed: Identifier has already been taken
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/evaluation.rb:15:in 'FactoryBot::Evaluation#create'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:12:in 'block in FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:9:in 'FactoryBot::Strategy::Create#result'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory.rb:46:in 'FactoryBot::Factory#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:29:in 'block in FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'block in ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'ActiveSupport::Notifications.instrument'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:28:in 'FactoryBot::FactoryRunner#run'
      # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in 'block in FactoryBot::Syntax::Methods#define_singular_strategy_method'
      # ./spec/controllers/game_controller_spec.rb:47:in 'block (4 levels) in <main>'

  49) Settlement::NPCColony calculates total population across settlements
      Failure/Error: let(:npc_colony) { Settlement::NPCColony.create(name: "AI Colony", population_capacity: 100, funds: 1000) }

      ActiveModel::UnknownAttributeError:
        unknown attribute 'population_capacity' for Settlement::NPCColony.
      # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_assignment.rb:51:in 'ActiveModel::AttributeAssignment#_assign_attribute'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:21:in 'block in ActiveRecord::AttributeAssignment#_assign_attributes'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:13:in 'Hash#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:13:in 'ActiveRecord::AttributeAssignment#_assign_attributes'
      # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_assignment.rb:34:in 'ActiveModel::AttributeAssignment#assign_attributes'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/core.rb:468:in 'ActiveRecord::Core#initialize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:75:in 'Class#new'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:75:in 'ActiveRecord::Inheritance::ClassMethods#new'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:37:in 'ActiveRecord::Persistence::ClassMethods#create'
      # ./spec/models/settlement/n_p_c_colony_spec.rb:6:in 'block (2 levels) in <main>'
      # ./spec/models/settlement/n_p_c_colony_spec.rb:10:in 'block (2 levels) in <main>'

  50) Settlement::NPCColony can perform autonomous tasks
      Failure/Error: let(:npc_colony) { Settlement::NPCColony.create(name: "AI Colony", population_capacity: 100, funds: 1000) }

      ActiveModel::UnknownAttributeError:
        unknown attribute 'population_capacity' for Settlement::NPCColony.
      # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_assignment.rb:51:in 'ActiveModel::AttributeAssignment#_assign_attribute'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:21:in 'block in ActiveRecord::AttributeAssignment#_assign_attributes'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:13:in 'Hash#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:13:in 'ActiveRecord::AttributeAssignment#_assign_attributes'
      # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_assignment.rb:34:in 'ActiveModel::AttributeAssignment#assign_attributes'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/core.rb:468:in 'ActiveRecord::Core#initialize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:75:in 'Class#new'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:75:in 'ActiveRecord::Inheritance::ClassMethods#new'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:37:in 'ActiveRecord::Persistence::ClassMethods#create'
      # ./spec/models/settlement/n_p_c_colony_spec.rb:6:in 'block (2 levels) in <main>'
      # ./spec/models/settlement/n_p_c_colony_spec.rb:10:in 'block (2 levels) in <main>'

  51) Settlement::NPCColony can establish trade routes
      Failure/Error: let(:npc_colony) { Settlement::NPCColony.create(name: "AI Colony", population_capacity: 100, funds: 1000) }

      ActiveModel::UnknownAttributeError:
        unknown attribute 'population_capacity' for Settlement::NPCColony.
      # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_assignment.rb:51:in 'ActiveModel::AttributeAssignment#_assign_attribute'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:21:in 'block in ActiveRecord::AttributeAssignment#_assign_attributes'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:13:in 'Hash#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:13:in 'ActiveRecord::AttributeAssignment#_assign_attributes'
      # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_assignment.rb:34:in 'ActiveModel::AttributeAssignment#assign_attributes'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/core.rb:468:in 'ActiveRecord::Core#initialize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:75:in 'Class#new'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:75:in 'ActiveRecord::Inheritance::ClassMethods#new'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:37:in 'ActiveRecord::Persistence::ClassMethods#create'
      # ./spec/models/settlement/n_p_c_colony_spec.rb:6:in 'block (2 levels) in <main>'
      # ./spec/models/settlement/n_p_c_colony_spec.rb:10:in 'block (2 levels) in <main>'

  52) Settlement::NPCColony can build a unit
      Failure/Error: let(:npc_colony) { Settlement::NPCColony.create(name: "AI Colony", population_capacity: 100, funds: 1000) }

      ActiveModel::UnknownAttributeError:
        unknown attribute 'population_capacity' for Settlement::NPCColony.
      # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_assignment.rb:51:in 'ActiveModel::AttributeAssignment#_assign_attribute'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:21:in 'block in ActiveRecord::AttributeAssignment#_assign_attributes'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:13:in 'Hash#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:13:in 'ActiveRecord::AttributeAssignment#_assign_attributes'
      # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_assignment.rb:34:in 'ActiveModel::AttributeAssignment#assign_attributes'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/core.rb:468:in 'ActiveRecord::Core#initialize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:75:in 'Class#new'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:75:in 'ActiveRecord::Inheritance::ClassMethods#new'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:37:in 'ActiveRecord::Persistence::ClassMethods#create'
      # ./spec/models/settlement/n_p_c_colony_spec.rb:6:in 'block (2 levels) in <main>'
      # ./spec/models/settlement/n_p_c_colony_spec.rb:10:in 'block (2 levels) in <main>'

  53) Structures::Shell#advance_shell_construction! advances from sealed to operational
      Failure/Error: expect(shell_structure.reload.shell_status).to eq('operational')

        expected: "operational"
             got: "pressurized"

        (compared using ==)
      # ./spec/models/concerns/structures/shell_spec.rb:392:in 'block (3 levels) in <main>'

  54) Manufacturing Pipeline End-to-End pipeline with multiple batches can process multiple batches concurrently
      Failure/Error: self.save!

      ActiveRecord::RecordInvalid:
        Validation failed: Location can't be blank, Celestial body can't be blank, Celestial body must be present
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # ./app/models/settlement/base_settlement.rb:364:in 'Settlement::BaseSettlement#increase_unhappiness'
      # ./app/models/settlement/base_settlement.rb:352:in 'Settlement::BaseSettlement#handle_resource_shortage'
      # ./app/models/settlement/base_settlement.rb:329:in 'Settlement::BaseSettlement#check_resource_availability'
      # ./app/models/settlement/base_settlement.rb:500:in 'Settlement::BaseSettlement#manage_life_support'
      # ./app/models/settlement/base_settlement.rb:476:in 'Settlement::BaseSettlement#manage_shared_services!'
      # ./app/services/game.rb:55:in 'block in Game#process_settlements'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'block in ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:138:in 'block in ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:245:in 'block in ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:229:in 'ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:137:in 'ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:70:in 'ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#find_each'
      # ./app/services/game.rb:35:in 'Game#process_settlements'
      # ./app/services/game.rb:16:in 'Game#advance_by_days'
      # ./spec/integration/manufacturing_pipeline_e2e_spec.rb:556:in 'block (3 levels) in <main>'

  55) Manufacturing Pipeline End-to-End complete ISRU to enclosed tank pipeline processes raw regolith through all stages to produce an enclosed tank
      Failure/Error: self.save!

      ActiveRecord::RecordInvalid:
        Validation failed: Location can't be blank, Celestial body can't be blank, Celestial body must be present
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # ./app/models/settlement/base_settlement.rb:364:in 'Settlement::BaseSettlement#increase_unhappiness'
      # ./app/models/settlement/base_settlement.rb:352:in 'Settlement::BaseSettlement#handle_resource_shortage'
      # ./app/models/settlement/base_settlement.rb:329:in 'Settlement::BaseSettlement#check_resource_availability'
      # ./app/models/settlement/base_settlement.rb:500:in 'Settlement::BaseSettlement#manage_life_support'
      # ./app/models/settlement/base_settlement.rb:476:in 'Settlement::BaseSettlement#manage_shared_services!'
      # ./app/services/game.rb:55:in 'block in Game#process_settlements'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'block in ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:138:in 'block in ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:245:in 'block in ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:229:in 'ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:137:in 'ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:70:in 'ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#find_each'
      # ./app/services/game.rb:35:in 'Game#process_settlements'
      # ./app/services/game.rb:16:in 'Game#advance_by_days'
      # ./spec/integration/manufacturing_pipeline_e2e_spec.rb:318:in 'block (3 levels) in <main>'

  56) Manufacturing Pipeline End-to-End material tracking through pipeline preserves composition metadata through processing chain
      Failure/Error: self.save!

      ActiveRecord::RecordInvalid:
        Validation failed: Location can't be blank, Celestial body can't be blank, Celestial body must be present
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # ./app/models/settlement/base_settlement.rb:364:in 'Settlement::BaseSettlement#increase_unhappiness'
      # ./app/models/settlement/base_settlement.rb:352:in 'Settlement::BaseSettlement#handle_resource_shortage'
      # ./app/models/settlement/base_settlement.rb:329:in 'Settlement::BaseSettlement#check_resource_availability'
      # ./app/models/settlement/base_settlement.rb:500:in 'Settlement::BaseSettlement#manage_life_support'
      # ./app/models/settlement/base_settlement.rb:476:in 'Settlement::BaseSettlement#manage_shared_services!'
      # ./app/services/game.rb:55:in 'block in Game#process_settlements'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'block in ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:138:in 'block in ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:245:in 'block in ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:229:in 'ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:137:in 'ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:70:in 'ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#find_each'
      # ./app/services/game.rb:35:in 'Game#process_settlements'
      # ./app/services/game.rb:16:in 'Game#advance_by_days'
      # ./spec/integration/manufacturing_pipeline_e2e_spec.rb:596:in 'block (3 levels) in <main>'

  57) Organizations::TaxAuthority.instance always returns the same single instance
      Failure/Error: expect(Organizations::TaxAuthority.count).to eq(1)

        expected: 1
             got: 2

        (compared using ==)
      # ./spec/models/organizations/tax_authority_spec.rb:24:in 'block (3 levels) in <main>'

  58) Lookup::UnitLookupService matching behavior matches by partial ID with sufficient length
      Failure/Error: expect(result).to be_present
        expected `nil.present?` to be truthy, got false
      # ./spec/services/lookup/unit_lookup_service_spec.rb:230:in 'block (3 levels) in <main>'

  59) Lookup::UnitLookupService matching behavior matches by exact name
      Failure/Error: expect(result).to be_present
        expected `nil.present?` to be truthy, got false
      # ./spec/services/lookup/unit_lookup_service_spec.rb:223:in 'block (3 levels) in <main>'

  60) Lookup::UnitLookupService matching behavior is case insensitive
      Failure/Error: expect(result).to be_present
        expected `nil.present?` to be truthy, got false
      # ./spec/services/lookup/unit_lookup_service_spec.rb:234:in 'block (3 levels) in <main>'

  61) Lookup::UnitLookupService matching behavior matches by exact ID
      Failure/Error: expect(result).to be_present
        expected `nil.present?` to be truthy, got false
      # ./spec/services/lookup/unit_lookup_service_spec.rb:218:in 'block (3 levels) in <main>'

  62) Lookup::UnitLookupService#find_unit finds units case-insensitively by ID
      Failure/Error: expect(unit_upper).to be_present
        expected `nil.present?` to be truthy, got false
      # ./spec/services/lookup/unit_lookup_service_spec.rb:109:in 'block (3 levels) in <main>'

  63) Lookup::UnitLookupService#find_unit with robot units finds robot units by their ID
      Failure/Error:
        expect(robot_unit).to be_present,
          "Robot unit #{unit_id} not found. Check its JSON file in #{GalaxyGame::Paths::ROBOTS_DEPLOYMENT_UNITS_PATH}"

        Robot unit car_300_deployment_robot_mk1 not found. Check its JSON file in /home/galaxy_game/data/json-data/operational_data/units/robots/deployment
      # ./spec/services/lookup/unit_lookup_service_spec.rb:97:in 'block (4 levels) in <main>'

  64) Lookup::UnitLookupService#find_unit with propulsion units has expected propulsion unit properties
      Failure/Error: expect(propulsion_unit).to be_present
        expected `nil.present?` to be truthy, got false
      # ./spec/services/lookup/unit_lookup_service_spec.rb:67:in 'block (4 levels) in <main>'

  65) Lookup::UnitLookupService#find_unit with propulsion units finds propulsion units by their exact ID
      Failure/Error:
        expect(found_unit).to be_present,
          "Unit #{unit_id} not found. Check if '#{File.basename(propulsion_files.first)}' exists"

        Unit basic_engine not found. Check if 'basic_engine_data.json' exists
      # ./spec/services/lookup/unit_lookup_service_spec.rb:58:in 'block (4 levels) in <main>'

  66) Game#advance_by_days advances the simulation by the given number of days
      Failure/Error: self.save!

      ActiveRecord::RecordInvalid:
        Validation failed: Location can't be blank, Celestial body can't be blank, Celestial body must be present
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:80:in 'ActiveRecord::Validations#raise_validation_error'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
      # ./app/models/settlement/base_settlement.rb:364:in 'Settlement::BaseSettlement#increase_unhappiness'
      # ./app/models/settlement/base_settlement.rb:352:in 'Settlement::BaseSettlement#handle_resource_shortage'
      # ./app/models/settlement/base_settlement.rb:329:in 'Settlement::BaseSettlement#check_resource_availability'
      # ./app/models/settlement/base_settlement.rb:500:in 'Settlement::BaseSettlement#manage_life_support'
      # ./app/models/settlement/base_settlement.rb:476:in 'Settlement::BaseSettlement#manage_shared_services!'
      # ./app/services/game.rb:55:in 'block in Game#process_settlements'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:71:in 'block in ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:138:in 'block in ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:245:in 'block in ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:229:in 'ActiveRecord::Batches#in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:137:in 'ActiveRecord::Batches#find_in_batches'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/batches.rb:70:in 'ActiveRecord::Batches#find_each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#find_each'
      # ./app/services/game.rb:35:in 'Game#process_settlements'
      # ./app/services/game.rb:16:in 'Game#advance_by_days'
      # ./spec/services/game_spec.rb:68:in 'block (3 levels) in <main>'

  67) Manufacturing::ComponentProductionService#produce_component with sufficient materials stores material composition in job metadata
      Failure/Error: raise "Insufficient materials: need #{data[:amount]}kg of #{material_name}"

      RuntimeError:
        Insufficient materials: need 90kg of depleted_regolith
      # ./app/services/manufacturing/component_production_service.rb:124:in 'block in Manufacturing::ComponentProductionService#ensure_materials_available'
      # ./app/services/manufacturing/component_production_service.rb:122:in 'Hash#each'
      # ./app/services/manufacturing/component_production_service.rb:122:in 'Manufacturing::ComponentProductionService#ensure_materials_available'
      # ./app/services/manufacturing/component_production_service.rb:22:in 'Manufacturing::ComponentProductionService#produce_component'
      # ./spec/services/manufacturing/component_production_service_spec.rb:140:in 'block (4 levels) in <main>'

  68) Manufacturing::ComponentProductionService#produce_component with sufficient materials creates a component production job
      Failure/Error: raise "Insufficient materials: need #{data[:amount]}kg of #{material_name}"

      RuntimeError:
        Insufficient materials: need 180kg of depleted_regolith
      # ./app/services/manufacturing/component_production_service.rb:124:in 'block in Manufacturing::ComponentProductionService#ensure_materials_available'
      # ./app/services/manufacturing/component_production_service.rb:122:in 'Hash#each'
      # ./app/services/manufacturing/component_production_service.rb:122:in 'Manufacturing::ComponentProductionService#ensure_materials_available'
      # ./app/services/manufacturing/component_production_service.rb:22:in 'Manufacturing::ComponentProductionService#produce_component'
      # ./spec/services/manufacturing/component_production_service_spec.rb:118:in 'block (5 levels) in <main>'
      # ./spec/services/manufacturing/component_production_service_spec.rb:117:in 'block (4 levels) in <main>'

  69) Manufacturing::ComponentProductionService#produce_component with sufficient materials consumes materials from inventory
      Failure/Error: raise "Insufficient materials: need #{data[:amount]}kg of #{material_name}"

      RuntimeError:
        Insufficient materials: need 180kg of depleted_regolith
      # ./app/services/manufacturing/component_production_service.rb:124:in 'block in Manufacturing::ComponentProductionService#ensure_materials_available'
      # ./app/services/manufacturing/component_production_service.rb:122:in 'Hash#each'
      # ./app/services/manufacturing/component_production_service.rb:122:in 'Manufacturing::ComponentProductionService#ensure_materials_available'
      # ./app/services/manufacturing/component_production_service.rb:22:in 'Manufacturing::ComponentProductionService#produce_component'
      # ./spec/services/manufacturing/component_production_service_spec.rb:130:in 'block (4 levels) in <main>'

  70) CelestialBodies::Spheres::Atmosphere#add_gas adds gas using chemical formula
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  71) CelestialBodies::Spheres::Atmosphere#remove_gas removes gas and updates total atmospheric mass
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  72) CelestialBodies::Spheres::Atmosphere atmospheric density calculations #density calculates different density for different gas compositions
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  73) CelestialBodies::Spheres::Atmosphere atmospheric density calculations #density returns zero when pressure is zero
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  74) CelestialBodies::Spheres::Atmosphere atmospheric density calculations #density calculates atmospheric density based on pressure, temperature and composition
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  75) CelestialBodies::Spheres::Atmosphere atmospheric density calculations #density returns zero when temperature is zero
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  76) CelestialBodies::Spheres::Atmosphere atmospheric density calculations #scale_height calculates smaller scale height for higher gravity
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  77) CelestialBodies::Spheres::Atmosphere atmospheric density calculations #scale_height calculates larger scale height for hotter atmospheres
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  78) CelestialBodies::Spheres::Atmosphere atmospheric density calculations #scale_height calculates atmospheric scale height based on temperature, gravity and composition
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  79) CelestialBodies::Spheres::Atmosphere atmospheric density calculations #calculate_gas_constant returns a weighted average of gas constants based on composition
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  80) CelestialBodies::Spheres::Atmosphere atmospheric density calculations #calculate_gas_constant returns Earth default when no gases exist
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  81) CelestialBodies::Spheres::Atmosphere atmospheric density calculations #calculate_average_molar_mass calculates weighted average molar mass from gas composition
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  82) CelestialBodies::Spheres::Atmosphere atmospheric density calculations #calculate_average_molar_mass returns Earth default when no gases exist
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  83) CelestialBodies::Spheres::Atmosphere atmospheric density calculations #calculate_average_molar_mass calculates different molar mass for different compositions
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  84) CelestialBodies::Spheres::Atmosphere initialization updates atmosphere with provided information
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  85) CelestialBodies::Spheres::Atmosphere initialization creates an atmosphere with default attributes
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  86) CelestialBodies::Spheres::Atmosphere gas percentage methods #gas_percentage returns 0.0 for non-existent gases
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  87) CelestialBodies::Spheres::Atmosphere gas percentage methods #gas_percentage falls back to composition data when gas not found in gases collection
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  88) CelestialBodies::Spheres::Atmosphere gas percentage methods #gas_percentage returns percentage of existing gas in gases collection
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  89) CelestialBodies::Spheres::Atmosphere gas percentage methods convenience gas percentage methods returns O2 percentage via o2_percentage
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  90) CelestialBodies::Spheres::Atmosphere gas percentage methods convenience gas percentage methods returns CO2 percentage via co2_percentage
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  91) CelestialBodies::Spheres::Atmosphere gas percentage methods convenience gas percentage methods returns CH4 percentage via ch4_percentage
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  92) CelestialBodies::Spheres::Atmosphere gas percentage methods convenience gas percentage methods correctly uses the gas_percentage method
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  93) CelestialBodies::Spheres::Atmosphere#initialize_gases creates gases based on the composition
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  94) CelestialBodies::Spheres::Atmosphere temperature management provides default values for temperature getters
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  95) CelestialBodies::Spheres::Atmosphere temperature management updates main temperature when greenhouse temperature changes
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  96) CelestialBodies::Spheres::Atmosphere temperature management stores various temperature types in temperature_data
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  97) CelestialBodies::Spheres::Atmosphere temperature management persists temperature data across reloads
      Failure/Error: CelestialBodies::CelestialBody.destroy_all

      ActiveRecord::InvalidForeignKey:
        PG::ForeignKeyViolation: ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
        DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'block (2 levels) in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/share_lock.rb:187:in 'ActiveSupport::Concurrency::ShareLock#yield_shares'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/dependencies/interlock.rb:41:in 'ActiveSupport::Dependencies::Interlock#permit_concurrent_loads'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:767:in 'block in ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:752:in 'block in ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract_adapter.rb:743:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#log'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:766:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#exec_no_cache'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:745:in 'ActiveRecord::ConnectionAdapters::PostgreSQLAdapter#execute_and_clear'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql/database_statements.rb:67:in 'ActiveRecord::ConnectionAdapters::PostgreSQL::DatabaseStatements#exec_delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:181:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in 'ActiveRecord::ConnectionAdapters::AbstractAdapter#delete'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:529:in 'ActiveRecord::Persistence::ClassMethods#_delete_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1046:in 'ActiveRecord::Persistence#_delete_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1042:in 'ActiveRecord::Persistence#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/counter_cache.rb:176:in 'ActiveRecord::CounterCache#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/locking/optimistic.rb:125:in 'ActiveRecord::Locking::Optimistic#destroy_row'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:681:in 'ActiveRecord::Persistence#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'block in ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:107:in 'ActiveSupport::Callbacks#run_callbacks'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_destroy_callbacks'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:437:in 'ActiveRecord::Callbacks#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'block in ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:294:in 'ActiveRecord::Transactions#destroy'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:580:in 'ActiveRecord::Relation#destroy_all'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:22:in 'ActiveRecord::Querying#destroy_all'
      # ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:9:in 'block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::ForeignKeyViolation:
      #   ERROR:  update or delete on table "celestial_bodies" violates foreign key constraint "fk_rails_286b44ce45" on table "celestial_locations"
      #   DETAIL:  Key (id)=(48230) is still referenced from table "celestial_locations".
      #   /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/postgresql_adapter.rb:768:in 'PG::Connection#exec_params'

  98) AIManager::SystemArchitect#find_nearby_asteroid with suitable asteroid finds the asteroid
      Failure/Error:
        CelestialBodies::CelestialBody.where(
          solar_system: celestial_body.solar_system
        ).where(
          'mass >= ? AND mass <= ?', min_mass, max_mass
        ).first

      ActiveRecord::SubclassNotFound:
        The single-table inheritance mechanism failed to locate the subclass: 'Asteroid'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite CelestialBodies::CelestialBody.inheritance_column to use another column for that information.
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:190:in 'ActiveRecord::Inheritance::ClassMethods#sti_class_for'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:297:in 'ActiveRecord::Inheritance::ClassMethods#find_sti_class'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:285:in 'ActiveRecord::Inheritance::ClassMethods#discriminate_class_for_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:347:in 'ActiveRecord::Persistence::ClassMethods#instantiate'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:73:in 'block (2 levels) in ActiveRecord::Querying#_load_from_sql'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/result.rb:69:in 'Array#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/result.rb:69:in 'ActiveRecord::Result#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:73:in 'Enumerable#map'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:73:in 'block in ActiveRecord::Querying#_load_from_sql'
      # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/querying.rb:71:in 'ActiveRecord::Querying#_load_from_sql'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:954:in 'ActiveRecord::Relation#instantiate_records'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:917:in 'block in ActiveRecord::Relation#exec_queries'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:962:in 'ActiveRecord::Relation#skip_query_cache_if_necessary'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:908:in 'ActiveRecord::Relation#exec_queries'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:695:in 'ActiveRecord::Relation#load'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:250:in 'ActiveRecord::Relation#records'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation.rb:245:in 'ActiveRecord::Relation#to_ary'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/finder_methods.rb:549:in 'ActiveRecord::FinderMethods#find_nth_with_limit'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/finder_methods.rb:534:in 'ActiveRecord::FinderMethods#find_nth'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/relation/finder_methods.rb:146:in 'ActiveRecord::FinderMethods#first'
      # ./app/services/ai_manager/system_architect.rb:321:in 'AIManager::SystemArchitect#find_nearby_asteroid'
      # ./spec/services/ai_manager/system_architect_spec.rb:119:in 'block (4 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # NameError:
      #   uninitialized constant Asteroid
      #   /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/inflector/methods.rb:278:in 'Module#const_get'

  99) ConstructionJob convenience methods #materials_gathered? returns true when all material requests are fulfilled
      Failure/Error:
        request1 = job.material_requests.create!(
          material_name: "Steel",
          quantity_requested: 100,
          status: "fulfilled_by_player"
        )

      ArgumentError:
        'fulfilled_by_player' is not a valid status
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/enum.rb:157:in 'ActiveRecord::Enum::EnumType#assert_valid_value'
      # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute.rb:76:in 'ActiveModel::Attribute#with_value_from_user'
      # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_set.rb:55:in 'ActiveModel::AttributeSet#write_from_user'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_methods/write.rb:42:in 'ActiveRecord::AttributeMethods::Write#_write_attribute'
      # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_methods.rb:271:in 'MaterialRequest::GeneratedAttributeMethods#status='
      # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_assignment.rb:49:in 'Kernel#public_send'
      # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_assignment.rb:49:in 'ActiveModel::AttributeAssignment#_assign_attribute'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:21:in 'block in ActiveRecord::AttributeAssignment#_assign_attributes'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:13:in 'Hash#each'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:13:in 'ActiveRecord::AttributeAssignment#_assign_attributes'
      # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_assignment.rb:34:in 'ActiveModel::AttributeAssignment#assign_attributes'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/core.rb:468:in 'ActiveRecord::Core#initialize'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:75:in 'Class#new'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:75:in 'ActiveRecord::Inheritance::ClassMethods#new'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/reflection.rb:158:in 'ActiveRecord::Reflection::AbstractReflection#build_association'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/association.rb:337:in 'ActiveRecord::Associations::Association#build_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/collection_association.rb:348:in 'ActiveRecord::Associations::CollectionAssociation#_create_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/has_many_association.rb:140:in 'ActiveRecord::Associations::HasManyAssociation#_create_record'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/association.rb:208:in 'ActiveRecord::Associations::Association#create!'
      # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/collection_proxy.rb:364:in 'ActiveRecord::Associations::CollectionProxy#create!'
      # ./spec/models/construction_job_spec.rb:199:in 'block (4 levels) in <main>'

  100) ConstructionJob convenience methods #materials_gathered? returns false when some material requests are pending
       Failure/Error:
         job.material_requests.create!(
           material_name: "Steel",  # Try material_name instead of material_type
           quantity_requested: 100,
           status: :fulfilled_by_player
         )

       ArgumentError:
         'fulfilled_by_player' is not a valid status
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/enum.rb:157:in 'ActiveRecord::Enum::EnumType#assert_valid_value'
       # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute.rb:76:in 'ActiveModel::Attribute#with_value_from_user'
       # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_set.rb:55:in 'ActiveModel::AttributeSet#write_from_user'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_methods/write.rb:42:in 'ActiveRecord::AttributeMethods::Write#_write_attribute'
       # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_methods.rb:271:in 'MaterialRequest::GeneratedAttributeMethods#status='
       # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_assignment.rb:49:in 'Kernel#public_send'
       # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_assignment.rb:49:in 'ActiveModel::AttributeAssignment#_assign_attribute'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:21:in 'block in ActiveRecord::AttributeAssignment#_assign_attributes'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:13:in 'Hash#each'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/attribute_assignment.rb:13:in 'ActiveRecord::AttributeAssignment#_assign_attributes'
       # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_assignment.rb:34:in 'ActiveModel::AttributeAssignment#assign_attributes'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/core.rb:468:in 'ActiveRecord::Core#initialize'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:75:in 'Class#new'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/inheritance.rb:75:in 'ActiveRecord::Inheritance::ClassMethods#new'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/reflection.rb:158:in 'ActiveRecord::Reflection::AbstractReflection#build_association'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/association.rb:337:in 'ActiveRecord::Associations::Association#build_record'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/collection_association.rb:348:in 'ActiveRecord::Associations::CollectionAssociation#_create_record'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/has_many_association.rb:140:in 'ActiveRecord::Associations::HasManyAssociation#_create_record'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/association.rb:208:in 'ActiveRecord::Associations::Association#create!'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/associations/collection_proxy.rb:364:in 'ActiveRecord::Associations::CollectionProxy#create!'
       # ./spec/models/construction_job_spec.rb:216:in 'block (4 levels) in <main>'

  101) SolarSystem callbacks generates a unique name before create if name is not present
       Failure/Error: expect(solar_system.name).to match(/^[A-Z]{2}-\d{2}$/)

         expected "SS-1276" to match /^[A-Z]{2}-\d{2}$/
         Diff:
         @@ -1 +1 @@
         -/^[A-Z]{2}-\d{2}$/
         +"SS-1276"
       # ./spec/models/solar_system_spec.rb:59:in 'block (3 levels) in <main>'

  102) Rigs::BaseRig polymorphic association can belong to an attachable BaseUnit
       Failure/Error: expect(base_unit.persisted_rigs).to include(rig)

       NoMethodError:
         undefined method 'persisted_rigs' for an instance of Units::BaseUnit
       # /usr/local/bundle/gems/activemodel-7.0.8.7/lib/active_model/attribute_methods.rb:450:in 'ActiveModel::AttributeMethods#method_missing'
       # ./spec/models/rigs/base_rig_spec.rb:39:in 'block (3 levels) in <main>'

  103) Rigs::BaseRig#apply_output_effects and #revert_output_effects applies and reverts output effects if attachable responds to update_outputs
       Failure/Error: allow(base_unit).to receive(:update_outputs)
         #<Units::BaseUnit id: 6219, identifier: "UNIT211", name: "Test Unit 159", unit_type: "basic_unit", operational_data: {}, location_type: nil, location_id: nil, owner_type: "Organizations::BaseOrganization", owner_id: 2787, attachable_type: nil, attachable_id: nil, base_unit_id: nil, created_at: "2026-01-05 04:19:52.729551000 +0000", updated_at: "2026-01-05 04:19:52.729551000 +0000"> does not implement: update_outputs
       # ./spec/models/rigs/base_rig_spec.rb:108:in 'block (3 levels) in <main>'

  104) Rigs::BaseRig#apply_damage_effects and #revert_damage_effects applies and reverts damage effects if attachable responds to update_damage_risks
       Failure/Error: allow(base_unit).to receive(:update_damage_risks)
         #<Units::BaseUnit id: 6223, identifier: "UNIT215", name: "Test Unit 163", unit_type: "basic_unit", operational_data: {}, location_type: nil, location_id: nil, owner_type: "Organizations::BaseOrganization", owner_id: 2791, attachable_type: nil, attachable_id: nil, base_unit_id: nil, created_at: "2026-01-05 04:19:53.436670000 +0000", updated_at: "2026-01-05 04:19:53.436670000 +0000"> does not implement: update_damage_risks
       # ./spec/models/rigs/base_rig_spec.rb:130:in 'block (3 levels) in <main>'

  105) Rigs::BaseRig#remove_from removes rig effect from the attachable unit
       Failure/Error: expect(base_unit).to receive(:update_consumables).at_least(:once)
         #<Units::BaseUnit id: 6224, identifier: "UNIT216", name: "Test Unit 164", unit_type: "basic_unit", operational_data: {}, location_type: nil, location_id: nil, owner_type: "Organizations::BaseOrganization", owner_id: 2792, attachable_type: nil, attachable_id: nil, base_unit_id: nil, created_at: "2026-01-05 04:19:53.503120000 +0000", updated_at: "2026-01-05 04:19:53.503120000 +0000"> does not implement: update_consumables
       # ./spec/models/rigs/base_rig_spec.rb:31:in 'block (3 levels) in <main>'

  106) Rigs::BaseRig#apply_rig_to_attachable applies rig effect to the attachable unit
       Failure/Error: expect(base_unit).to receive(:update_consumables).at_least(:once)
         #<Units::BaseUnit id: 6225, identifier: "UNIT217", name: "Test Unit 165", unit_type: "basic_unit", operational_data: {}, location_type: nil, location_id: nil, owner_type: "Organizations::BaseOrganization", owner_id: 2793, attachable_type: nil, attachable_id: nil, base_unit_id: nil, created_at: "2026-01-05 04:19:53.582794000 +0000", updated_at: "2026-01-05 04:19:53.582794000 +0000"> does not implement: update_consumables
       # ./spec/models/rigs/base_rig_spec.rb:24:in 'block (3 levels) in <main>'

  107) Units::Battery interaction with BatteryManagement concern prefers specialized methods over concern methods
       Failure/Error: expect(battery).to receive(:charge_battery).with(20.0)

         (#<Units::Battery id: nil, identifier: "BATTERY_001", name: "Test Battery", unit_type: "satellite_battery", operational_data: {"battery" => {"capacity" => 500.0, "current_charge" => 420.0, "max_charge_rate_kw" => 50.0, "max_discharge_rate_kw" => 75.0, "efficiency" => 0.95}}, location_type: nil, location_id: nil, owner_type: nil, owner_id: nil, attachable_type: nil, attachable_id: nil, base_unit_id: nil, created_at: nil, updated_at: nil>).charge_battery(20.0)
             expected: 1 time with arguments: (20.0)
             received: 0 times
       # ./spec/models/units/battery_spec.rb:107:in 'block (3 levels) in <main>'

  108) Item regolith handling gets composition from celestial body geosphere
       Failure/Error: expect(luna.identifier).to eq('LUNA-01')

         expected: "LUNA-01"
              got: "LUNA-150"

         (compared using ==)
       # ./spec/models/item_spec.rb:288:in 'block (3 levels) in <main>'

  109) Inventory#remove_item removes items from storage
       Failure/Error: raise "Default currency (GCC) not found. Please seed currencies." unless default_currency

       RuntimeError:
         Default currency (GCC) not found. Please seed currencies.
       # ./app/models/concerns/financial_management.rb:56:in 'FinancialManagement#create_account'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:400:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:236:in 'block in ActiveSupport::Callbacks::Filters::After.halting_and_conditional'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:599:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_after'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:599:in 'Array#each'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:599:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_after'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:108:in 'ActiveSupport::Callbacks#run_callbacks'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_create_callbacks'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:459:in 'ActiveRecord::Callbacks#_create_record'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/timestamp.rb:108:in 'ActiveRecord::Timestamp#_create_record'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1069:in 'ActiveRecord::Persistence#create_or_update'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:455:in 'block in ActiveRecord::Callbacks#create_or_update'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/autosave_association.rb:370:in 'ActiveRecord::AutosaveAssociation#around_save_collection_association'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:127:in 'block in ActiveSupport::Callbacks#run_callbacks'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:138:in 'ActiveSupport::Callbacks#run_callbacks'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_save_callbacks'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:455:in 'ActiveRecord::Callbacks#create_or_update'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/timestamp.rb:126:in 'ActiveRecord::Timestamp#create_or_update'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:648:in 'ActiveRecord::Persistence#save!'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
       # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/evaluation.rb:15:in 'FactoryBot::Evaluation#create'
       # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:12:in 'block in FactoryBot::Strategy::Create#result'
       # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:9:in 'FactoryBot::Strategy::Create#result'
       # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory.rb:46:in 'FactoryBot::Factory#run'
       # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:29:in 'block in FactoryBot::FactoryRunner#run'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'block in ActiveSupport::Notifications.instrument'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'ActiveSupport::Notifications.instrument'
       # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:28:in 'FactoryBot::FactoryRunner#run'
       # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in 'block in FactoryBot::Syntax::Methods#define_singular_strategy_method'
       # ./spec/models/inventory_spec.rb:12:in 'block (2 levels) in <main>'
       # ./spec/models/inventory_spec.rb:15:in 'block (2 levels) in <main>'
       # ./spec/models/inventory_spec.rb:19:in 'block (2 levels) in <main>'
       # ./spec/models/inventory_spec.rb:25:in 'block (2 levels) in <main>'
       # ./spec/models/inventory_spec.rb:214:in 'block (3 levels) in <main>'

  110) Inventory#remove_item when removing an item with matching name but different metadata exists only affects the item with the exactly matching metadata
       Failure/Error: raise "Default currency (GCC) not found. Please seed currencies." unless default_currency

       RuntimeError:
         Default currency (GCC) not found. Please seed currencies.
       # ./app/models/concerns/financial_management.rb:56:in 'FinancialManagement#create_account'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:400:in 'block in ActiveSupport::Callbacks::CallTemplate::MethodCall#make_lambda'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:236:in 'block in ActiveSupport::Callbacks::Filters::After.halting_and_conditional'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:599:in 'block in ActiveSupport::Callbacks::CallbackSequence#invoke_after'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:599:in 'Array#each'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:599:in 'ActiveSupport::Callbacks::CallbackSequence#invoke_after'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:108:in 'ActiveSupport::Callbacks#run_callbacks'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_create_callbacks'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:459:in 'ActiveRecord::Callbacks#_create_record'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/timestamp.rb:108:in 'ActiveRecord::Timestamp#_create_record'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:1069:in 'ActiveRecord::Persistence#create_or_update'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:455:in 'block in ActiveRecord::Callbacks#create_or_update'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:118:in 'block in ActiveSupport::Callbacks#run_callbacks'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/autosave_association.rb:370:in 'ActiveRecord::AutosaveAssociation#around_save_collection_association'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:127:in 'block in ActiveSupport::Callbacks#run_callbacks'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:138:in 'ActiveSupport::Callbacks#run_callbacks'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/callbacks.rb:929:in 'ActiveRecord::Base#_run_save_callbacks'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/callbacks.rb:455:in 'ActiveRecord::Callbacks#create_or_update'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/timestamp.rb:126:in 'ActiveRecord::Timestamp#create_or_update'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/persistence.rb:648:in 'ActiveRecord::Persistence#save!'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/validations.rb:53:in 'ActiveRecord::Validations#save!'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'block in ActiveRecord::Transactions#save!'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:354:in 'block in ActiveRecord::Transactions#with_transaction_returning_status'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:319:in 'block in ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'Thread.handle_interrupt'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in 'block in ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'Thread.handle_interrupt'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in 'ActiveSupport::Concurrency::LoadInterlockAwareMonitor#synchronize'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/transaction.rb:317:in 'ActiveRecord::ConnectionAdapters::TransactionManager#within_new_transaction'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/connection_adapters/abstract/database_statements.rb:316:in 'ActiveRecord::ConnectionAdapters::DatabaseStatements#transaction'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:350:in 'ActiveRecord::Transactions#with_transaction_returning_status'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/transactions.rb:302:in 'ActiveRecord::Transactions#save!'
       # /usr/local/bundle/gems/activerecord-7.0.8.7/lib/active_record/suppressor.rb:54:in 'ActiveRecord::Suppressor#save!'
       # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/evaluation.rb:15:in 'FactoryBot::Evaluation#create'
       # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:12:in 'block in FactoryBot::Strategy::Create#result'
       # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy/create.rb:9:in 'FactoryBot::Strategy::Create#result'
       # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory.rb:46:in 'FactoryBot::Factory#run'
       # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:29:in 'block in FactoryBot::FactoryRunner#run'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'block in ActiveSupport::Notifications.instrument'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications/instrumenter.rb:24:in 'ActiveSupport::Notifications::Instrumenter#instrument'
       # /usr/local/bundle/gems/activesupport-7.0.8.7/lib/active_support/notifications.rb:206:in 'ActiveSupport::Notifications.instrument'
       # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/factory_runner.rb:28:in 'FactoryBot::FactoryRunner#run'
       # /usr/local/bundle/gems/factory_bot-6.5.1/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in 'block in FactoryBot::Syntax::Methods#define_singular_strategy_method'
       # ./spec/models/inventory_spec.rb:12:in 'block (2 levels) in <main>'
       # ./spec/models/inventory_spec.rb:15:in 'block (2 levels) in <main>'
       # ./spec/models/inventory_spec.rb:19:in 'block (2 levels) in <main>'
       # ./spec/models/inventory_spec.rb:25:in 'block (2 levels) in <main>'
       # ./spec/models/inventory_spec.rb:214:in 'block (3 levels) in <main>'

  111) Inventory#available_capacity when using unit storage subtracts stored items from capacity
       Failure/Error: expect(inventory.available_capacity).to eq(700)

         expected: 700
              got: Infinity

         (compared using ==)
       # ./spec/models/inventory_spec.rb:93:in 'block (4 levels) in <main>'

  112) Inventory#available_capacity when using unit storage returns remaining capacity from units
       Failure/Error: expect(inventory.available_capacity).to eq(1000)

         expected: 1000
              got: Infinity

         (compared using ==)
       # ./spec/models/inventory_spec.rb:88:in 'block (4 levels) in <main>'

  113) StarSim::ProceduralGenerator#generate_system creates the specified number of celestial bodies
       Failure/Error:
         allow_any_instance_of(SystemGenerator).to receive(:create_stars) do |instance, count|
           stars = []
           count.times do |i|
             star = instance.instance_variable_get(:@solar_system).stars.create!(
               identifier: "Star-#{i}-#{Time.now.to_i}",
               name: "Star #{i}",
               luminosity: 1.0,
               mass: 1.0,
               life: "main_sequence",
               age: 5e9,

         StarSim::ProceduralGenerator does not implement #create_stars
       # ./spec/services/system_generator_spec.rb:33:in 'block (3 levels) in <main>'

  114) StarSim::ProceduralGenerator#generate_system creates the specified number of stars
       Failure/Error:
         allow_any_instance_of(SystemGenerator).to receive(:create_stars) do |instance, count|
           stars = []
           count.times do |i|
             star = instance.instance_variable_get(:@solar_system).stars.create!(
               identifier: "Star-#{i}-#{Time.now.to_i}",
               name: "Star #{i}",
               luminosity: 1.0,
               mass: 1.0,
               life: "main_sequence",
               age: 5e9,

         StarSim::ProceduralGenerator does not implement #create_stars
       # ./spec/services/system_generator_spec.rb:33:in 'block (3 levels) in <main>'

Finished in 13 minutes 17 seconds (files took 23.52 seconds to load)
2853 examples, 114 failures, 24 pending, 1 error occurred outside of examples

Failed examples:

rspec ./spec/models/craft/base_craft_spec.rb:258 # Craft::BaseCraft player construction allows uninstalling units
rspec ./spec/models/craft/base_craft_spec.rb:189 # Craft::BaseCraft initialization assembles a new craft from inventory and applies the correct variant
rspec ./spec/models/game_spec.rb:49 # GameSimulation#process_celestial_bodies logs errors if simulation fails
rspec ./spec/models/game_spec.rb:29 # GameSimulation#advance_by_days when days is positive handles year rollover correctly
rspec ./spec/models/game_spec.rb:23 # GameSimulation#advance_by_days when days is positive advances the game time and saves the state
rspec ./spec/controllers/simulation_controller_spec.rb:11 # SimulationController GET #index with existing solar system assigns solar system and its celestial bodies
rspec ./spec/controllers/simulation_controller_spec.rb:80 # SimulationController GET #run_all with existing solar system runs simulation for all celestial bodies
rspec ./spec/services/fitting_service_spec.rb:30 # FittingService fits all components from inventory
rspec ./spec/services/fitting_service_spec.rb:47 # FittingService fits components without inventory if inventory is nil
rspec ./spec/services/manufacturing/shell_printing_service_spec.rb:334 # Manufacturing::ShellPrintingService#print_pressurization_seal with canyon creates a dome seal job
rspec ./spec/services/manufacturing/shell_printing_service_spec.rb:303 # Manufacturing::ShellPrintingService#print_pressurization_seal with lava tube creates a plug seal job and updates progress
rspec ./spec/services/manufacturing/shell_printing_service_spec.rb:320 # Manufacturing::ShellPrintingService#print_pressurization_seal with lava tube marks pressurization ready when requirements met
rspec ./spec/services/manufacturing/shell_printing_service_spec.rb:137 # Manufacturing::ShellPrintingService#enclose_inflatable with sufficient materials creates a shell printing job
rspec ./spec/services/manufacturing/shell_printing_service_spec.rb:149 # Manufacturing::ShellPrintingService#enclose_inflatable with sufficient materials consumes materials from inventory
rspec ./spec/services/manufacturing/shell_printing_service_spec.rb:159 # Manufacturing::ShellPrintingService#enclose_inflatable with sufficient materials stores material composition in job metadata
rspec ./spec/services/manufacturing/component_production_integration_spec.rb:72 # Component Production Integration with real blueprint files producing mk1 I-beams (bootstrap version) creates a production job using real blueprint
rspec ./spec/services/manufacturing/component_production_integration_spec.rb:83 # Component Production Integration with real blueprint files producing mk1 I-beams (bootstrap version) consumes waste_regolith from inventory
rspec ./spec/models/orbital_relationship_spec.rb:193 # OrbitalRelationship energy calculations #stellar_energy_input returns 0 when primary_body doesn't have luminosity
rspec ./spec/models/orbital_relationship_spec.rb:241 # OrbitalRelationship energy calculations #energy_input returns stellar energy for star_planet relationships
rspec ./spec/models/orbital_relationship_spec.rb:277 # OrbitalRelationship terraforming reflected_energy and energy_input returns extra energy for star_planet with orbital mirrors and albedo adjustment
rspec ./spec/models/orbital_relationship_spec.rb:338 # OrbitalRelationship orbital mechanics #calculated_orbital_period returns nil when primary_body has no mass
rspec ./spec/models/unit_assembly_job_spec.rb:126 # UnitAssemblyJob#complete_assembly creates unassembled items in inventory
rspec ./spec/integration/component_production_game_loop_spec.rb:164 # Component Production Game Loop Integration full production cycle processes multiple jobs simultaneously
rspec ./spec/integration/component_production_game_loop_spec.rb:148 # Component Production Game Loop Integration full production cycle handles partial progress over multiple ticks
rspec ./spec/integration/component_production_game_loop_spec.rb:117 # Component Production Game Loop Integration full production cycle produces components through game loop progression
rspec ./spec/models/concerns/material_properties_concern_spec.rb:53 # MaterialPropertiesConcern#molar_mass_from_properties returns nil if molar mass not found
rspec ./spec/services/manufacturing/cost_calculator_spec.rb:65 # Manufacturing::CostCalculator Earth-Imported COGS (EAP-COGS) calculates the EAP-COGS (Earth Import Cost) for the unit
rspec ./spec/services/manufacturing/cost_calculator_spec.rb:86 # Manufacturing::CostCalculator Local Production COGS (LAP-COGS) calculates the LAP-COGS (Local Production Cost) for the unit
rspec ./spec/services/material_request_service_spec.rb:129 # MaterialRequestService.fulfill_market_order adds materials to settlement inventory
rspec ./spec/services/logistics/contract_service_spec.rb:18 # Logistics::ContractService.create_internal_transfer with valid settlements creates a logistics contract for internal transfer
rspec ./spec/models/settlement/base_settlement_spec.rb:102 # Settlement::BaseSettlement associations destroys the marketplace when destroyed
rspec ./spec/models/craft/harvester_spec.rb:31 # Craft::Harvester#extract_resources when extracting from a valid target increases inventory with extracted resources
rspec ./spec/services/manufacturing/assembly_service_spec.rb:56 # Manufacturing::AssemblyService.start_assembly with all materials available charges the tenant fee
rspec ./spec/services/manufacturing/service_spec.rb:268 # Manufacturing::Service.manufacture with real blueprint data stores actual blueprint data in specifications
rspec ./spec/integration/shell_printing_game_loop_spec.rb:131 # Shell Printing Game Loop Integration full shell printing cycle encloses inflatable tank through game loop progression
rspec ./spec/integration/shell_printing_game_loop_spec.rb:160 # Shell Printing Game Loop Integration full shell printing cycle tracks material composition in shell metadata
rspec ./spec/services/pressurization_service_spec.rb:24 # PressurizationService#check_sealing_status with traditional sealed environment returns ready for sealed environment
rspec ./spec/services/pressurization_service_spec.rb:30 # PressurizationService#check_sealing_status with traditional sealed environment returns not ready for unsealed environment
rspec ./spec/services/pressurization_service_spec.rb:88 # PressurizationService#check_sealing_status with pressurization target (canyon) returns not ready when requirements not met
rspec ./spec/services/pressurization_service_spec.rb:69 # PressurizationService#check_sealing_status with pressurization target (lava tube) returns ready when requirements met
rspec ./spec/services/pressurization_service_spec.rb:62 # PressurizationService#check_sealing_status with pressurization target (lava tube) returns not ready when requirements not met
rspec ./spec/controllers/game_controller_spec.rb:70 # GameController GET #index solar system seeding and display calls SystemBuilderService to build the system if no solar system exists
rspec ./spec/controllers/game_controller_spec.rb:88 # GameController GET #index solar system seeding and display defines is_moon and body_category singleton methods on celestial bodies
rspec ./spec/controllers/game_controller_spec.rb:127 # GameController GET #index solar system seeding and display logs celestial body attributes for debugging
rspec ./spec/controllers/game_controller_spec.rb:103 # GameController GET #index solar system seeding and display generates correct JSON with parent_body_identifier for moons
rspec ./spec/controllers/game_controller_spec.rb:119 # GameController GET #index solar system seeding and display returns JSON with correct celestial bodies data
rspec ./spec/controllers/game_controller_spec.rb:57 # GameController GET #index solar system seeding and display assigns the Sol solar system and its celestial bodies
rspec ./spec/controllers/game_controller_spec.rb:83 # GameController GET #index solar system seeding and display correctly calculates @planet_count excluding satellites
rspec ./spec/models/settlement/n_p_c_colony_spec.rb:29 # Settlement::NPCColony calculates total population across settlements
rspec ./spec/models/settlement/n_p_c_colony_spec.rb:25 # Settlement::NPCColony can perform autonomous tasks
rspec ./spec/models/settlement/n_p_c_colony_spec.rb:19 # Settlement::NPCColony can establish trade routes
rspec ./spec/models/settlement/n_p_c_colony_spec.rb:13 # Settlement::NPCColony can build a unit
rspec ./spec/models/concerns/structures/shell_spec.rb:387 # Structures::Shell#advance_shell_construction! advances from sealed to operational
rspec ./spec/integration/manufacturing_pipeline_e2e_spec.rb:529 # Manufacturing Pipeline End-to-End pipeline with multiple batches can process multiple batches concurrently
rspec ./spec/integration/manufacturing_pipeline_e2e_spec.rb:262 # Manufacturing Pipeline End-to-End complete ISRU to enclosed tank pipeline processes raw regolith through all stages to produce an enclosed tank
rspec ./spec/integration/manufacturing_pipeline_e2e_spec.rb:574 # Manufacturing Pipeline End-to-End material tracking through pipeline preserves composition metadata through processing chain
rspec ./spec/models/organizations/tax_authority_spec.rb:19 # Organizations::TaxAuthority.instance always returns the same single instance
rspec ./spec/services/lookup/unit_lookup_service_spec.rb:225 # Lookup::UnitLookupService matching behavior matches by partial ID with sufficient length
rspec ./spec/services/lookup/unit_lookup_service_spec.rb:221 # Lookup::UnitLookupService matching behavior matches by exact name
rspec ./spec/services/lookup/unit_lookup_service_spec.rb:232 # Lookup::UnitLookupService matching behavior is case insensitive
rspec ./spec/services/lookup/unit_lookup_service_spec.rb:216 # Lookup::UnitLookupService matching behavior matches by exact ID
rspec ./spec/services/lookup/unit_lookup_service_spec.rb:103 # Lookup::UnitLookupService#find_unit finds units case-insensitively by ID
rspec ./spec/services/lookup/unit_lookup_service_spec.rb:93 # Lookup::UnitLookupService#find_unit with robot units finds robot units by their ID
rspec ./spec/services/lookup/unit_lookup_service_spec.rb:63 # Lookup::UnitLookupService#find_unit with propulsion units has expected propulsion unit properties
rspec ./spec/services/lookup/unit_lookup_service_spec.rb:54 # Lookup::UnitLookupService#find_unit with propulsion units finds propulsion units by their exact ID
rspec ./spec/services/game_spec.rb:66 # Game#advance_by_days advances the simulation by the given number of days
rspec ./spec/services/manufacturing/component_production_service_spec.rb:139 # Manufacturing::ComponentProductionService#produce_component with sufficient materials stores material composition in job metadata
rspec ./spec/services/manufacturing/component_production_service_spec.rb:116 # Manufacturing::ComponentProductionService#produce_component with sufficient materials creates a component production job
rspec ./spec/services/manufacturing/component_production_service_spec.rb:129 # Manufacturing::ComponentProductionService#produce_component with sufficient materials consumes materials from inventory
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:54 # CelestialBodies::Spheres::Atmosphere#add_gas adds gas using chemical formula
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:77 # CelestialBodies::Spheres::Atmosphere#remove_gas removes gas and updates total atmospheric mass
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:254 # CelestialBodies::Spheres::Atmosphere atmospheric density calculations #density calculates different density for different gas compositions
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:244 # CelestialBodies::Spheres::Atmosphere atmospheric density calculations #density returns zero when pressure is zero
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:238 # CelestialBodies::Spheres::Atmosphere atmospheric density calculations #density calculates atmospheric density based on pressure, temperature and composition
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:249 # CelestialBodies::Spheres::Atmosphere atmospheric density calculations #density returns zero when temperature is zero
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:309 # CelestialBodies::Spheres::Atmosphere atmospheric density calculations #scale_height calculates smaller scale height for higher gravity
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:295 # CelestialBodies::Spheres::Atmosphere atmospheric density calculations #scale_height calculates larger scale height for hotter atmospheres
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:286 # CelestialBodies::Spheres::Atmosphere atmospheric density calculations #scale_height calculates atmospheric scale height based on temperature, gravity and composition
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:273 # CelestialBodies::Spheres::Atmosphere atmospheric density calculations #calculate_gas_constant returns a weighted average of gas constants based on composition
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:279 # CelestialBodies::Spheres::Atmosphere atmospheric density calculations #calculate_gas_constant returns Earth default when no gases exist
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:323 # CelestialBodies::Spheres::Atmosphere atmospheric density calculations #calculate_average_molar_mass calculates weighted average molar mass from gas composition
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:328 # CelestialBodies::Spheres::Atmosphere atmospheric density calculations #calculate_average_molar_mass returns Earth default when no gases exist
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:336 # CelestialBodies::Spheres::Atmosphere atmospheric density calculations #calculate_average_molar_mass calculates different molar mass for different compositions
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:21 # CelestialBodies::Spheres::Atmosphere initialization updates atmosphere with provided information
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:13 # CelestialBodies::Spheres::Atmosphere initialization creates an atmosphere with default attributes
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:185 # CelestialBodies::Spheres::Atmosphere gas percentage methods #gas_percentage returns 0.0 for non-existent gases
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:181 # CelestialBodies::Spheres::Atmosphere gas percentage methods #gas_percentage falls back to composition data when gas not found in gases collection
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:176 # CelestialBodies::Spheres::Atmosphere gas percentage methods #gas_percentage returns percentage of existing gas in gases collection
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:191 # CelestialBodies::Spheres::Atmosphere gas percentage methods convenience gas percentage methods returns O2 percentage via o2_percentage
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:196 # CelestialBodies::Spheres::Atmosphere gas percentage methods convenience gas percentage methods returns CO2 percentage via co2_percentage
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:201 # CelestialBodies::Spheres::Atmosphere gas percentage methods convenience gas percentage methods returns CH4 percentage via ch4_percentage
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:206 # CelestialBodies::Spheres::Atmosphere gas percentage methods convenience gas percentage methods correctly uses the gas_percentage method
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:41 # CelestialBodies::Spheres::Atmosphere#initialize_gases creates gases based on the composition
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:112 # CelestialBodies::Spheres::Atmosphere temperature management provides default values for temperature getters
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:123 # CelestialBodies::Spheres::Atmosphere temperature management updates main temperature when greenhouse temperature changes
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:92 # CelestialBodies::Spheres::Atmosphere temperature management stores various temperature types in temperature_data
rspec ./spec/models/celestial_bodies/spheres/atmosphere_spec.rb:135 # CelestialBodies::Spheres::Atmosphere temperature management persists temperature data across reloads
rspec ./spec/services/ai_manager/system_architect_spec.rb:118 # AIManager::SystemArchitect#find_nearby_asteroid with suitable asteroid finds the asteroid
rspec ./spec/models/construction_job_spec.rb:198 # ConstructionJob convenience methods #materials_gathered? returns true when all material requests are fulfilled
rspec ./spec/models/construction_job_spec.rb:214 # ConstructionJob convenience methods #materials_gathered? returns false when some material requests are pending
rspec ./spec/models/solar_system_spec.rb:47 # SolarSystem callbacks generates a unique name before create if name is not present
rspec ./spec/models/rigs/base_rig_spec.rb:37 # Rigs::BaseRig polymorphic association can belong to an attachable BaseUnit
rspec ./spec/models/rigs/base_rig_spec.rb:106 # Rigs::BaseRig#apply_output_effects and #revert_output_effects applies and reverts output effects if attachable responds to update_outputs
rspec ./spec/models/rigs/base_rig_spec.rb:128 # Rigs::BaseRig#apply_damage_effects and #revert_damage_effects applies and reverts damage effects if attachable responds to update_damage_risks
rspec ./spec/models/rigs/base_rig_spec.rb:30 # Rigs::BaseRig#remove_from removes rig effect from the attachable unit
rspec ./spec/models/rigs/base_rig_spec.rb:23 # Rigs::BaseRig#apply_rig_to_attachable applies rig effect to the attachable unit
rspec ./spec/models/units/battery_spec.rb:101 # Units::Battery interaction with BatteryManagement concern prefers specialized methods over concern methods
rspec ./spec/models/item_spec.rb:284 # Item regolith handling gets composition from celestial body geosphere
rspec ./spec/models/inventory_spec.rb:216 # Inventory#remove_item removes items from storage
rspec ./spec/models/inventory_spec.rb:283 # Inventory#remove_item when removing an item with matching name but different metadata exists only affects the item with the exactly matching metadata
rspec ./spec/models/inventory_spec.rb:91 # Inventory#available_capacity when using unit storage subtracts stored items from capacity
rspec ./spec/models/inventory_spec.rb:87 # Inventory#available_capacity when using unit storage returns remaining capacity from units
rspec ./spec/services/system_generator_spec.rb:91 # StarSim::ProceduralGenerator#generate_system creates the specified number of celestial bodies
rspec ./spec/services/system_generator_spec.rb:87 # StarSim::ProceduralGenerator#generate_system creates the specified number of stars

Randomized with seed 1234

