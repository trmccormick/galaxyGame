# AI Manager Training & Wormhole Expansion Plan (v4)

> **Last Updated:** 2026-01-08  
> **Status:** Data-driven, pattern-based, dual-link expansion logic with Brown Dwarf Hub integration and Consortium governance  
> **Philosophy:** Player engagement first, NPC self-sufficiency second, Earth imports last resort

---

## ðŸŽ¯ Core Mission

Train AI Manager to autonomously build and manage settlements using proven, data-driven deployment patterns, with intelligent economic decision-making that prioritizes player engagement and minimizes Earth dependency. All logic is pattern-based and system-agnostic.

---

## ðŸ”‘ Core Essence: Mission Profiles as Reusable Techniques

**The Foundation**: Our mission profiles in JSON format are the proven "techniques" that teach the AI Manager how to build settlements. These are not one-time missions but reusable deployment patterns that can be applied to any compatible system.

**Sol System Setup**: The AI Manager learns these techniques by executing them in the Earth-Moon-Lagrange network, mastering the Luna, Mars, Venus, and Titan patterns through hands-on application.

**Wormhole Expansion**: When new systems are discovered through wormhole connections, the AI Manager applies these learned techniques autonomously, adapting the proven patterns to each unique system's characteristics (moons, atmosphere, asteroids, resources).

**The Learning Loop**: Each successful deployment refines the AI's understanding, creating a growing library of system-agnostic techniques that enable continuous, self-sustaining expansion across the galaxy.

---

## ï¿½ Key Terms & Acronyms

**EM (Exotic Matter)**: A specialized resource harvested from natural wormholes using EM Harvesters. It is the primary energy source used by Artificial Wormhole Stations (AWS) to generate synthetic gravitational fields and "wedge" a wormhole open, ensuring network stabilization.

**ISRU (In-Situ Resource Utilization)**: A core strategic philosophy used by the AI Manager to prioritize the use of local materials found on planets, moons, or asteroids rather than relying on expensive imports from Earth. This is the foundation of the Luna and Mars deployment patterns.

**GCC (Galactic Crypto Currency)**: The primary currency used for the inter-system economy, market transactions, and corporate dividends within the Consortium. Initially, GCC is coupled to the USD to bootstrap the lunar market, but it eventually uncouples to become the independent currency of the lunar/galactic market.

**LDC (Lunar Development Corporation)**: A major industrial and construction corporation specializing in material production and station building. While companies like AstroLift focus on logistics and ship operations, the LDC provides the infrastructure expertise required to build L1 Stations (for ship construction) and Depots (for orbital storage and production).

---

## ï¿½ðŸ“– The Story Arc

### Act 1: Pattern Learning (Tutorial Phase)
AI Manager learns deployment patterns from initial systems (e.g., Luna, Venus, Mars, Belt, Titan), each teaching a technique needed for expansion. Patterns are defined in JSON and are not system-specific.

### Act 2: Wormhole Discovery (Application Phase)
AI Manager applies learned patterns to any system discovered through wormholes, using ScoutLogic to analyze system data and select the best pattern.

### Act 3: The Snap, Consortium Formation & Dual-Link Solution (Crisis Phase)
When a natural wormhole destabilizes (mass limit exceeded), the AI Manager uses EM harvesting and constructs an Artificial Wormhole Station. By pairing a natural and artificial wormhole, the system achieves stable, lower-EM dual-link operation using the counterbalance model. The crisis forces the formation of the Wormhole Transit Consortium to re-establish stable, artificial links. Brown Dwarfs serve as critical secondary anchors that bridge the gap between "Prize" systems and "Siphon" sources.

### Act 4: Network Mastery (Late Game)
AI Manager manages a network of wormholes, balancing EM budgets, optimizing logistics, and making ROI-based expansion decisions. All logic is data-driven and adapts to any system profile. The AI handles branching networks, where secondary hubs with multiple natural wormholes enable parallel expansion into new systems.

## 1. The Crisis: The "Snap" & Exit-Shift

The Trigger: A natural wormhole snaps when its mass-limit is exceeded.

The Result: The exit shifts from System A to System B, keeping Sol stable but orphaning the original colony.

The Reconnection Drive: This crisis forces the formation of the Wormhole Transit Consortium to re-establish stable, artificial links.

**Simple Analogy: The Rubber Band**
Think of a natural wormhole like a rubber band connecting two points.

The Snap: If you try to pull too much mass (cargo/ships) through the rubber band at once, it reaches its tension limit and "snaps."

The Shift: Unlike a real rubber band, the wormhole doesn't just disappear; the loose end "flicks" away from its original destination.

The Result: The origin point (Sol) remains stable and anchored, but the exit point shifts to a different, random location in deep space, leaving the original colony "orphaned" and isolated.

The Controlled Snap Expansion Strategy:

Seeding Phase: The AI Manager uses the high-mass capacity of natural wormholes to "seed" new systems with infrastructure. **Phased Stabilization**: First deploys orbiting stabilization satellites to gather expelled EM and refocus it at the wormhole throat for immediate stability, then constructs permanent Artificial Wormhole Stations (AWS) which replace the temporary satellites.

The Mass Trigger: Once local infrastructure is established, the AI retrieves stabilization satellites and cycles a high-mass Cycler Fleet through the link, intentionally triggering a "Snap" or "Shift" to a new system (e.g., from System B to System C).

Standby Activation: Systems "orphaned" by the snap immediately activate pre-built Artificial Wormhole Stations (AWS) to reconnect to the existing network backbone (e.g., reconnecting B to A). **Shift Event Handling**: When a wormhole shifts location, AWS infrastructure must be rebuilt at the new natural wormhole position to maintain EM harvesting capability, preserving any existing counterbalance stations for gravitational stability.

## 2. Institutional Framework: The Wormhole Transit Consortium

Founders: Formed by major logistics corporations (AstroLift, Zenith Orbital, Vector Hauling) and Development Corporations, with LDC playing a crucial role due to their mature construction infrastructure essential for building Wormhole Stations and Artificial Wormhole Stations.

The Gamble: Member corporations (including players) fund the initial high-cost build by voting on Route Proposals.

Dividends: Once operational, members receive dividends from transit fees and preferential logistical rates.

Structure Ownership: The Consortium owns the Artificial Wormhole Stations (AWS), L1 Stations, and Depots; local settlements are users/customers.

## 2b. Post-Snap Institutional Evolution: TerraGen Terraforming Consortium

Following the snap events that opened multiple new systems, Development Corporations formed TerraGen to coordinate terraforming efforts. The consortium pools expertise, technology, and resources to transform newly accessible worlds into habitable colonies, complementing the Wormhole Transit Consortium's logistics network.

**TerraGen Mission Integration with Kinetic Hammer:**
TerraGen coordinates with the AI Manager's kinetic hammer planning to offer time-sensitive player missions:
- **Pre-Hammer Resource Windows**: When wormholes shift to resource-rich systems not yet prioritized for permanent connection, TerraGen offers harvesting missions before the scheduled hammer event
- **Inter-System Resource Transport**: Players transport terraforming-critical resources (e.g., Venus CO2/N2 to Mars) using the established wormhole network
- **Hammer Event Timing**: Players receive advance notice of impending kinetic hammer closures, creating urgency for resource extraction and transport missions

This creates a symbiotic relationship where TerraGen's terraforming needs drive player participation in the wormhole network, while the network's expansion enables TerraGen's colonization goals.

## 3. Physics & Topology: The Brown Dwarf Hub (Integrated)

Brown Dwarfs act as unique "Logistics Batteries" due to their immense mass but lack of stellar radiation.

**Simple Analogy: The Failed Star Gas Station**
A Brown Dwarf is essentially a "failed star"â€”it has a massive gravitational pull like a star but doesn't produce enough heat or light to be habitable. This makes it the perfect Gas Station (Siphon) for the network.

The Hub: Because of its high mass, it provides a stable gravitational anchor for an Artificial Wormhole Station at the L3 Lagrange point (the "quiet spot" opposite the primary star).

The Siphon: These systems are rich in volatiles (like Hydrogen and Nitrogen) but have no breathable atmosphere or sunlight.

The Role: The Consortium builds a hub here to "siphon" these gases. These gases are processed into the Exotic Matter (EM) fuel needed to keep the entire wormhole network from snapping.

The L3 Hub Point: Like gas giants, Brown Dwarfs support a stable link at their L3 Lagrange Point (opposite their primary star).

Strategic Role: Because they are rich in volatiles but "light-poor," the Consortium targets them as Primary Siphons to harvest the fuel needed to power the network's EM Inductors.

System Capacity:

Standard Gas Giant: 1 Slot (L3).

Jupiter-Class: 2 Slots (L3 + Direct Anchor).

Brown Dwarf: 1 High-Stability Slot (L3), often used as a "Gateway" to deeper, more remote systems.

Branching Hubs: Systems with multiple gas giants (e.g., two) can support more links, becoming regional junctions. If a second natural wormhole appears in a remote system, the AI Manager upgrades it to a Secondary Branch Hub, enabling recursive scouting into parallel frontier systems.

## 4. Deployment Hierarchy: Local-First (ISRU)

To lower the cost of the "Gamble," the AI Manager uses the Luna and Mars Patterns to build the network.

The Mars Pattern (No Moon):

Asteroid Capture: Capture a Phobos/Deimos-sized asteroid and move it to the L3 anchor point.

Depot Conversion: Hollow out the asteroid for orbital storage and production, avoiding the cost of lifting mass from a planet.

The Luna Pattern (Large Moon):

Refinery First: Establish moon mining/refineries to "push" mass into orbit for the L1 Ship Construction station.

Operational Goal: The AI builds the Colony (Phases 1 & 2) specifically to serve as the Factory for the Consortium's Network (Phase 3).

The Venus Pattern (Inaccessible Surface):

Orbital Assembly: Only when the surface is inaccessible does the AI import pre-fabricated components for orbital assembly and atmospheric skimming.

---

## ðŸ§¹ Mission Profile Cleanup & Pattern Validation (Actionable Task)

**Goal:**
Ensure all existing mission profiles (Luna, L1/Depot, Venus, Mars, Titan) are up-to-date, validated, and ready for use by the AI Manager. This enables the AI to mix and match proven settlement and expansion patterns for both known and procedurally generated systems in the local bubble.

**Tasks:**
- [ ] Audit all current mission profile JSONs for completeness, correctness, and compatibility with the latest TaskExecutionEngine and AI Manager logic.
- [ ] Remove deprecated, broken, or redundant mission profiles.
- [ ] Standardize mission profile structure and metadata for easy pattern selection and recombination.
- [ ] Validate that each pattern (Luna, L1/Depot, Venus, Mars, Titan) can be executed end-to-end by the AI Manager in a test environment.
- [ ] Document the requirements, outputs, and success criteria for each pattern.
- [ ] Enable the AI Manager to mix and match phases from different patterns to establish footholds in new, procedurally generated systems.

**Success Criteria:**
- All mission profiles are clean, up-to-date, and pass validation tests.
- AI Manager can autonomously use and combine patterns to settle and expand into any system.
- Simulation tuning supports automated NPC expansion, providing a dynamic, expanding universe for players.

**Review Point:**
This section must be completed and validated before further AI Manager or expansion logic updates are started, to prevent propagation of legacy or broken patterns.

### âœ… What Already Works
- Mission Profiles: JSON files define deployment patterns (system-agnostic)
- TaskExecutionEngine: Executes tasks from mission JSON files
- Economic Systems: GCC Market, Virtual Ledger, USD imports
- Manufacturing: Local production, gas processing, refining
- Wormhole Infrastructure: Mass tracking, shift mechanics, stabilization satellites

### ðŸš§ What Needs Work
- AI Autonomy: AI must select and execute patterns without hardcoded logic
- Economic Intelligence: Prioritize player market, then NPC, then Earth
- Pattern Generalization: All logic must be system-agnostic and data-driven
- Strategy Selection: Systematic, data-driven pattern selection for new systems

---

## ðŸ’° Economic Priority System

1. Player Market (GCC) - Always try players first
2. NPC Trade (Virtual Ledger) - If no players available
3. Earth Import (USD) - Last resort only

AI Manager uses a data-driven decision flow to source materials, always prioritizing player engagement and self-sufficiency.

---

## ðŸ“Š AI Manager Performance Metrics

- Self-Sufficiency: Local production ratio, Earth import dependency, USD debt
- Player Economy: Engagement ratio, buy order fulfillment, active contracts
- NPC Network: Trade efficiency, Virtual Ledger utilization, specialization
- Operational: Stalled projects, shortages, construction queue idle time

---

## ðŸ§  AI Manager Intelligence & Memory Systems

### Survey Data Persistence
- **Wormhole Location Database**: Stores precise coordinates of detected natural wormholes for future artificial wormhole targeting
- **EM Signature Mapping**: Maintains historical EM detection data to identify EM-rich systems and track wormhole activity patterns
- **System Survey History**: Remembers detailed survey results to avoid redundant scanning and enable comparative analysis

### Strategic Memory Applications
- **Artificial Wormhole Planning**: Uses stored natural wormhole locations as target coordinates for artificial wormhole creation
- **EM Resource Assessment**: Prioritizes systems with residual EM signatures for network expansion opportunities
- **Network Optimization**: Leverages historical data to predict wormhole stability and optimize counterbalance station placement

### Data-Driven Intelligence Loop
- **Pattern Recognition**: Identifies recurring EM signatures and wormhole behavior patterns across surveyed systems
- **Predictive Analysis**: Uses historical survey data to anticipate EM availability and wormhole stability in unexplored regions
- **Strategic Targeting**: Focuses expansion efforts on systems with proven EM potential or known wormhole locations

---

## ðŸ”§ Implementation Phases

### Phase 1: MissionExecutor Service (Foundation)
- AI Manager reads and executes mission profile JSONs (system-agnostic)
- Removes hardcoded deployment logic
- Proves patterns are reusable and data-driven

### Phase 2: ResourceAcquisition Intelligence (Economics)
- AI Manager makes smart, data-driven sourcing decisions
- Prioritizes player market, then NPC, then Earth
- Implements buy order pricing, timeout/fallback logic, and tracks metrics

### Phase 3: ScoutLogic - System Analysis (Intelligence)
- AI Manager analyzes any celestial body/system and generates a standardized profile
- **EM Detection & Analysis**: Scans for residual Exotic Matter (EM) signatures indicating previous wormhole activity or natural EM sources
- **Wormhole Location Memory**: When natural wormholes are detected, stores precise location coordinates for future artificial wormhole targeting
- **Historical Data Integration**: Cross-references current scans with historical survey data to identify EM-rich systems or previously mapped wormhole locations
- All analysis is data-driven (no hardcoded system logic)
- Outputs comprehensive system profile including EM potential and wormhole history for pattern selection

### Phase 4: StrategySelector - Pattern Matching (Intelligence)
- AI Manager maps system profile to appropriate deployment pattern
- Uses data-driven logic to select and apply patterns
- Handles edge cases and phased deployment planning

### Phase 5: SystemOrchestrator (Integration)
- AI Manager orchestrates multi-settlement development using all learned patterns
- Tracks dependencies and manages resource flows
- Collects performance metrics for optimization

### Phase 6: Wormhole Integration (Expansion)
- Applies proven patterns to wormhole-discovered systems
- **Artificial Wormhole Targeting**: Uses stored natural wormhole location data to precisely target artificial wormhole creation to known EM-rich locations
- **EM Opportunity Assessment**: Prioritizes systems with detected residual EM for artificial wormhole development
- Manages wormhole network, Snap events, and economic decisions
- All logic is pattern-based and system-agnostic

### Phase 7: Wormhole Scouting Probe Development (New Addition)
- Develop a comprehensive series of probes for surveying systems discovered through wormholes
- Create base probe platform (generic_probe) similar to generic_satellite for satellites
- Develop specialized wormhole scouting probes:
  - **System Survey Probe**: Comprehensive reconnaissance with multi-spectrum sensors
  - **EM Detection Probe**: Specialized sensors for detecting residual Exotic Matter signatures and mapping EM-rich regions
  - **Resource Assessment Probe**: Resource detection and economic viability assessment  
  - **Threat Assessment Probe**: Environmental hazards and safety evaluation
  - **Atmospheric Probe**: Atmospheric analysis and entry capabilities (updated to use correct base_craft template)
- All probes use proper `base_craft` blueprint template and `craft_operational_data` operational template
- **EM Detection Integration**: EM Detection Probes feed data directly into AI Manager's memory systems for wormhole location mapping and EM resource assessment
- Probes are designed for AI Manager autonomous deployment and data collection
- Enable data-driven decision making for new system colonization and expansion

### Phase 8: The Snap Event & Dual-Link Reconnection (Crisis)
- Handles wormhole crisis and reconnection protocol
- **Phased Stabilization Process**:
  - **Phase 1 - Immediate Stabilization**: Deploy orbiting stabilization satellites that gather expelled EM and refocus it at the wormhole throat to maintain temporary stability
  - **Phase 2 - Permanent Infrastructure**: Construct Artificial Wormhole Station (AWS) which can then replace temporary satellites
  - **Phase 3 - Counterbalance Enhancement**: Build additional AWS on opposite side of system (L3 Lagrange point) for gravitational counterbalance, similar to Jupiter stabilizing Sol's wormhole
- Implements EM harvesting, Artificial Wormhole Station construction, and dual-link counterbalance logic
- Dual-link model: Artificial Wormhole Station is deployed to counterbalance a natural (or another artificial) wormhole, reducing EM requirements and stabilizing the network
- Brown Dwarfs can serve as secondary anchors for additional stability
- All logic is data-driven and adapts to system metadata

### Phase 9: Inter-System Network Management (Topology)
- AI Manager splits traffic based on link properties and system data
- Maintains gravitational tension and EM budgets using real-time metrics
- Integrates Brown Dwarf Hubs as logistics batteries and gateways
- All network management is pattern-based and system-agnostic

### Phase 10: Consortium Integration (Governance)
- Implement Consortium formation upon first Snap event
- Add voting system for Route Proposals
- Implement dividend distribution from transit fees
- Enable player and NPC participation in network governance

### Minor Recommendations for Implementation

- **Mass Shunting Alert:** Implement a "Mass Limit Alert" in the Virtual Ledger. Notify players if a system's Net_EM is too low to support their shipping mission, allowing them to wait or pay a "Stability Surcharge."
- **Blueprint Modification:** Draft an `artificial_wormhole_station_bp.json` blueprint. This should require high `energy_storage_unit` counts (e.g., 100+), similar to the staging hub, to buffer EM surges during jumps.
- **Development Readiness:** This plan is ready for the development team. It provides a "Hard Science" foundation for Acts 3 and 4, while keeping AI behavior predictable and grounded in JSON manifests.
- **Diagram:** [Insert diagram here: Dual-link wormhole networkâ€”natural link for bulk cargo, artificial link for high-value logistics, both stabilized by an EM-powered anchor station.]

---

## Cycler System Architecture

Cyclers are large mobile space stations that serve as AI Manager's primary deployment platforms.

**Evolution from Original Concept:** The initial cycler idea was moving between Earth, Venus, and Mars on a cycle, but we can expand that since it's large like a space station. Rather than being limited to inner solar system cycling, cyclers become AI-managed deployment platforms capable of wormhole travel, equipment transfer, and multi-system operations.

### Design Philosophy:
- **Base Platform:** Generic cycler blueprint (base_cycler_bp.json)
- **Mission Fits:** Operational data files define specific configurations
- **Reconfigurable:** Units installed/removed between missions
- **Transferable Equipment:** Mission units transfer to permanent infrastructure
- **Reusable Platform:** Same cycler reused for multiple missions

### The Flexible Cycler Concept
Cycler = Modular Platform

AI Manager decides mission loadout:
â”œâ”€ Configuration A: Seed equipment carrier
â”œâ”€ Configuration B: Module transporter  
â”œâ”€ Configuration C: Mobile construction platform
â”œâ”€ Configuration D: Hybrid setup
â””â”€ Equipment can be OFFLOADED to permanent infrastructure

Key Insight:
Cycler's equipment isn't permanent to the ship
  â†“
Equipment gets transferred to depot/station during build
  â†“
Cycler returns lighter, ready for next mission
  â†“
Permanent infrastructure inherits cycler's capabilities

### Cycler's Flexible Role
Cycler can bring:
â”œâ”€ Option A: Complete pre-fab modules (expensive, fast)
â”œâ”€ Option B: Seed equipment only (cheap, slow)
â”œâ”€ Option C: Hybrid (some modules + equipment)
â””â”€ AI Manager decides based on economics

Cycler itself:
â”œâ”€ Acts as mobile construction platform
â”œâ”€ Temporary base while local infrastructure builds
â”œâ”€ Has fabrication capability onboard
â”œâ”€ Docks at orbit, coordinates operations
â””â”€ Once local base operational, cycler moves on

### Cycler Capabilities:
- Acts as mobile base during construction (months to years)
- Provides temporary processing/manufacturing capability
- Houses crew during deployment
- Serves as construction platform
- Doubles as kinetic hammer for controlled Snaps

### Unit Categories:

**Permanent Equipment (Never Transfers):**
- Habitat modules (crew quarters)
- Life support systems
- Navigation systems
- Propulsion systems (ion drives)
- Core power generation

**Mission-Specific Equipment (Transfers to Infrastructure):**
- Atmospheric processors â†’ Venus Station
- ISRU processors â†’ Luna Base
- CNT fabricators â†’ Venus Station
- Gas separators â†’ Depot
- Solar arrays â†’ Station/Depot
- Refining equipment â†’ Ceres Base

**Reusable Equipment (Returns to Sol):**
- Construction drones
- Survey equipment
- Temporary storage modules
- Assembly cranes

### Operational Configurations:

**Venus Harvester Configuration:**
- Atmospheric processors (transfer to station)
- CNT fabricators (transfer to station)
- Gas separators (transfer to depot)
- Skimmer deployment bays (return to Sol)

**Luna Support Configuration:**
- ISRU processors (transfer to base)
- Regolith processors (transfer to base)
- Fabrication units (transfer to base)
- Construction drones (return to Sol)

**Mars Constructor Configuration:**
- Mining drones (deploy to Ceres)
- Refining equipment (transfer to Ceres)
- Hollowing equipment (transfer to Phobos/Deimos)
- Assembly systems (return to Sol)

**Kinetic Hammer Configuration:**
- All mission equipment removed/transferred
- Maximum cargo capacity
- Loaded with: extracted resources + retracted satellites
- Total mass: 18M+ kg

### Cycler Equipment Lifecycle:

Sol (Fitting):
â”œâ”€ AI decides mission needs
â”œâ”€ Fit cycler with appropriate equipment
â”œâ”€ Configuration specific to target system
â””â”€ Cycler departs

Target System (Deployment):
â”œâ”€ Cycler uses equipment operationally
â”œâ”€ Temporary base of operations
â”œâ”€ Equipment produces/processes resources
â””â”€ Builds permanent infrastructure

Transfer Phase:
â”œâ”€ Permanent station/depot ready
â”œâ”€ Transfer equipment: Cycler â†’ Infrastructure
â”œâ”€ Station inherits cycler's capabilities
â””â”€ Cycler unburdened

Return (Kinetic Hammer):
â”œâ”€ Cycler loads resources for export
â”œâ”€ Lighter than arrival (equipment transferred)
â”œâ”€ Triggers Snap
â””â”€ Returns to Sol for refit

### ðŸ”„ Cycler's Journey
Cycler Fleet Operating Cycle:

Sol â†’ System B (via natural WH)
â”œâ”€ Loaded with: seed equipment OR modules (AI decided)
â”œâ”€ Docks at target body
â”œâ”€ Acts as construction base (3-18 months)
â”œâ”€ Coordinates local operations
â””â”€ Stays until local base operational

System B â†’ Sol (Kinetic Hammer)
â”œâ”€ Loaded with: extracted resources + satellites
â”œâ”€ Triggers controlled Snap
â”œâ”€ Returns to Sol with valuable materials
â””â”€ Refits for next deployment

Sol â†’ System C (via natural WH, now at new exit)
â”œâ”€ Repeat cycle with new system
â””â”€ Cyclers are reusable assets

### AI Configuration Logic

The AI Manager uses the following pseudocode to configure cyclers for missions:

```ruby
def configure_cycler_for_mission(target_system)
  pattern = StrategySelector.select_pattern(target_system)
  
  case pattern
  when :venus_pattern
    equipment = [
      atmospheric_skimmers,
      gas_processing_units,
      cnt_fabricators,
      station_assembly_equipment,
      depot_construction_modules
    ]
    
    mission_plan = {
      phase_1: "Deploy skimmers, begin atmospheric harvest",
      phase_2: "Process gases on cycler (temporary)",
      phase_3: "Build station + depot from harvested CNT",
      phase_4: "Transfer equipment to permanent infrastructure",
      phase_5: "Cycler departs with extracted resources"
    }
    
  when :luna_pattern
    equipment = [
      isru_processors,
      regolith_processors,
      fabricators,
      construction_drones,
      life_support_systems
    ]
    
    mission_plan = {
      phase_1: "Land near lava tube",
      phase_2: "Process regolith using cycler equipment",
      phase_3: "Build base from local materials",
      phase_4: "Transfer equipment to base",
      phase_5: "Build L1 depot from base production"
    }
    
  when :mars_pattern
    equipment = [
      asteroid_mining_drones,
      refining_equipment,
      hollowing_equipment,
      station_modules,
      processing_systems
    ]
    
    mission_plan = {
      phase_1: "Deploy to Phobos-equivalent",
      phase_2: "Begin moon hollowing",
      phase_3: "Deploy drones to Ceres-equivalent",
      phase_4: "Build multi-node network",
      phase_5: "Transfer equipment, return with belt metals"
    }
  end
  
  return {
    equipment: equipment,
    mission_plan: mission_plan,
    estimated_duration: calculate_duration(pattern, target_system),
    equipment_transfer_timeline: plan_transfers(equipment, mission_plan)
  }
end
```

ðŸŽ¯ AI Manager's Optimization Goal
Minimize Total Cost:
Total Cost = Transport Cost + Time Cost + Risk Cost

Transport Cost:
â”œâ”€ Mass through WH Ã— EM cost per kg
â”œâ”€ Higher for complete modules
â””â”€ Lower for seed equipment

Time Cost:
â”œâ”€ Opportunity cost of slow build
â”œâ”€ Natural WH might Snap during construction
â””â”€ Faster = better if WH unstable

Risk Cost:
â”œâ”€ Local ISRU might fail (bad resources)
â”œâ”€ Pre-fab modules guaranteed to work
â””â”€ Balance reliability vs economy
AI picks path with lowest total cost for each unique system.

ðŸ“Š Example Decision Matrix
System TypeLocal ResourcesWH StabilityAI DecisionImportsTimeSuper-Earth + Large MoonRich regolith, ice18 monthsPath B (Seed)5%18moVenus-likeAtmosphere only12 monthsPath A (Modules)40%6moMars + BeltModerate15 monthsPath C (Hybrid)20%12moBarren RockPoor resources6 monthsPath A (Fast)50%3moPrize + Unstable WHRich6 monthsPath A (Fast)30%4mo

*These are simply options for the AI manager, not specific setups. The AI evaluates each unique system and selects the optimal combination of equipment, timing, and risk mitigation.*

ðŸ¤– AI Manager's Decision Logic
For each new system, AI evaluates:
Cost-Benefit Analysis:

Path A: Complete Modules
â”œâ”€ Import pre-fabricated station sections
â”œâ”€ Cost: HIGH (transport mass through WH)
â”œâ”€ Time: FAST (assemble only, ~3 months)
â”œâ”€ Risk: LOW (proven components)
â””â”€ When: Emergency, time-critical, or no local resources

Path B: Seed Equipment Only
â”œâ”€ Import ISRU processors, fabricators, drones
â”œâ”€ Cost: LOW (small mass through WH)
â”œâ”€ Time: SLOW (build locally, ~18 months)
â”œâ”€ Risk: MEDIUM (depends on local resources)
â””â”€ When: Rich local resources, stable WH window

Path C: Hybrid
â”œâ”€ Import critical modules + seed equipment
â”œâ”€ Cost: MEDIUM
â”œâ”€ Time: MEDIUM (~9 months)
â”œâ”€ Risk: MEDIUM
â””â”€ When: Balanced approach, moderate resources

AI decides based on:
â”œâ”€ System resource richness (regolith, atmosphere, asteroids)
â”œâ”€ Natural WH stability window (how long until Snap risk?)
â”œâ”€ EM budget available
â”œâ”€ Strategic priority (Prize vs Harvest)
â””â”€ Local fabrication capability potential

This logic ensures the AI selects appropriate equipment and phases based on the target system's characteristics, enabling efficient ISRU-based expansion.

---

## Unit Transferability Rules

### Transfer Categories:
1. **Permanent Cycler Equipment:** Never transfers (habitat, life support, propulsion)
2. **Mission-Specific Transferable Equipment:** Transfers to permanent infrastructure
3. **Reusable Equipment:** Returns to Sol for next mission

### Transfer Timing:
- Transfers occur after permanent infrastructure completion
- Units moved via docking procedures
- Equipment installed and tested before cycler departure

### Transfer Process:
- Cycler docks with station/depot
- Units powered down and disconnected
- Umbilical connections for data/power transfer
- Physical movement via construction drones
- Final testing before cycler undocks

---

## Mission Lifecycle (Fit â†’ Deploy â†’ Transfer â†’ Return â†’ Refit)

### Sol (Fitting Phase):
- Select operational configuration based on target system
- Install mission-specific units and modules
- Load crew and supplies
- Depart through natural wormhole

### Target System (Deployment Phase):
- Cycler arrives and acts as mobile base (3-18 months)
- Mission equipment operates from cycler
- Build permanent infrastructure using cycler as platform
- Process and store resources onboard

### Transfer Phase:
- Permanent infrastructure completed
- Transfer mission equipment to stations/depots
- Cycler stripped of transferable units
- Permanent infrastructure inherits capabilities
- Cycler becomes lighter and more maneuverable

### Return (Kinetic Hammer):
- Load extracted resources and retracted satellites
- Total mass exceeds threshold to trigger Snap
- Return to Sol through destabilized wormhole
- Cycler arrives with valuable cargo

### Sol (Refit Phase):
- Unload resources and reusable equipment
- Remove any remaining mission-specific units
- Install NEW mission equipment for next deployment
- Cycle repeats with different configuration

### Cycler Role Evolution

**Arrival:**
- Fully equipped mobile base
- Can perform operations immediately
- Acts as temporary infrastructure
- Bootstraps local economy

**Mid-Mission:**
- Equipment actively used
- Produces materials for permanent infrastructure
- Builds station/depot around itself
- Gradual equipment transfer begins

**Departure:**
- Equipment transferred to permanent base
- Cycler now cargo hauler
- Loads extracted resources
- Returns lighter than arrival

---

## Examples for Each Pattern

### Venus Harvester Example:
- **Fit:** Atmospheric processors, CNT fabricators, gas separators
- **Deploy:** Harvest CO2, produce carbon nanotubes, build orbital station
- **Transfer:** Processors to station, separators to depot
- **Return:** Load CNT materials, trigger Snap with mass

Cycler Brings:
â”œâ”€ Atmospheric skimmers (deploy & leave)
â”œâ”€ Gas processing units (transfer to depot)
â”œâ”€ CNT fabricators (transfer to station)
â”œâ”€ Assembly drones (transfer to station)
â””â”€ Power systems (transfer to station)

Final State:
â”œâ”€ Station: Has CNT fab, skimmer control, processing
â”œâ”€ Depot: Has gas storage, refining, distribution
â”œâ”€ Cycler: Empty, ready for resource export
â””â”€ System: Self-sufficient atmospheric processing

ðŸ¤– AI Manager Decision: Venus Pattern
ScoutLogic Analysis:
â”œâ”€ Dense atmosphere: YES
â”œâ”€ Surface access: NO
â”œâ”€ Atmospheric resources: COâ‚‚, Nâ‚‚, trace gases
â””â”€ Pattern Match: Venus Pattern

Strategy Decision:
â”œâ”€ NEED: Station + Depot in orbit
â”œâ”€ CHALLENGE: No solid surface to build from
â”œâ”€ SOLUTION: Bootstrap from atmosphere

Cycler Fitting Decision:
â”œâ”€ Load skimmers (for deployment)
â”œâ”€ Load gas processing equipment (temporary use)
â”œâ”€ Load CNT fabrication (temporary use)
â”œâ”€ Load station/depot assembly equipment
â””â”€ Plan: Cycler = bootstrap, equipment transfers later

Economic Calculation:
â”œâ”€ Import cost: Equipment mass through WH
â”œâ”€ Local production: 60%+ (CNT from COâ‚‚)
â”œâ”€ Time: 15 months (cycler-assisted build)
â”œâ”€ Result: Profitable for Prize system
â””â”€ APPROVE: Deploy Venus Pattern

Venus Pattern - No Local Resources Initially
System has: Dense atmosphere, NO solid surface access

AI Decision: Path A (Complete Modules)
â”œâ”€ Cannot build locally without solid surface
â”œâ”€ Transport via cycler:
â”‚   â”œâ”€ Pre-fab orbital station modules
â”‚   â”œâ”€ Atmospheric skimmers (complete units)
â”‚   â”œâ”€ Gas processing equipment
â”‚   â””â”€ CNT fabrication units
â”‚
â”œâ”€ Cycler acts as construction crane
â”œâ”€ Assemble station in orbit (3-6 months)
â”œâ”€ Deploy skimmers to harvest atmosphere
â”œâ”€ THEN start local production (COâ‚‚ â†’ CNT)
â”œâ”€ Future expansion uses local materials
â””â”€ Initial imports: ~40% (bootstrapping cost)

Problem: Venus has dense atmosphere, no surface access
Need: Station + Depot to extract and process atmosphere

AI Solution:

Phase 1: Cycler Deployment
â”œâ”€ Cycler fitted with:
â”‚   â”œâ”€ Atmospheric skimmers (for deployment)
â”‚   â”œâ”€ Gas processing equipment
â”‚   â”œâ”€ CNT fabrication units
â”‚   â”œâ”€ Station assembly equipment
â”‚   â””â”€ Depot construction modules
â”‚
â””â”€ Cycler travels through natural WH to Venus-like system

Phase 2: Initial Operations (Cycler as Base)
â”œâ”€ Cycler docks in orbit
â”œâ”€ Deploy skimmers to atmosphere
â”œâ”€ Begin atmospheric harvesting (COâ‚‚, Nâ‚‚, etc.)
â”œâ”€ Process gases on cycler temporarily
â”œâ”€ Start CNT production using harvested carbon
â””â”€ Cycler = temporary processing center (months 1-6)

Phase 3: Build Permanent Infrastructure
â”œâ”€ Use harvested materials (CNT, processed gases)
â”œâ”€ Construct orbital station (permanent base)
â”œâ”€ Construct orbital depot (storage/processing)
â”œâ”€ Build using atmospheric resources + cycler equipment
â””â”€ Station + Depot take shape (months 6-12)

Phase 4: Equipment Transfer
â”œâ”€ Move gas processing equipment: Cycler â†’ Depot
â”œâ”€ Move CNT fabrication: Cycler â†’ Station
â”œâ”€ Move skimmer control systems: Cycler â†’ Station
â”œâ”€ Station + Depot now self-sufficient
â””â”€ Cycler stripped of temporary equipment (month 12-15)

Phase 5: Cycler Departure
â”œâ”€ Cycler now empty/reconfigurable
â”œâ”€ Ready for Kinetic Hammer (load resources + satellites)
â”œâ”€ Returns to Sol
â””â”€ Refitted for next mission

### Luna Support Example:
- **Fit:** ISRU processors, regolith equipment, fabrication units
- **Deploy:** Extract oxygen/water from regolith, build lunar base
- **Transfer:** Processors to base, fabricators to manufacturing facility
- **Return:** Load processed materials, return reusable drones

**Cycler Brings:**
- ISRU processors (transfer to lunar base)
- Regolith processors (transfer to lunar base)
- CNT fabricator units (transfer to lunar base)
- Surface mining units (keep on cycler)
- Construction drone bays (keep on cycler)
- Large solar arrays (transfer 5 to lunar depot, keep 3)
- Construction crane heavy rigs (keep on cycler)

**Final State:**
- Lunar Base: ISRU processors and fabricators operational
- Lunar Depot: Solar arrays deployed for power
- Cycler: Returns with processed oxygen/water and CNT materials
- System: Self-sufficient lunar ISRU operations established

Luna Pattern - Rich Resources
System has: Large moon, abundant regolith, lava tubes

AI Decision: Path B (Seed Equipment)
â”œâ”€ Transport via cycler:
â”‚   â”œâ”€ ISRU processors (regolith â†’ materials)
â”‚   â”œâ”€ 3D printers / fabricators
â”‚   â”œâ”€ Construction drones
â”‚   â”œâ”€ Power systems (solar/nuclear)
â”‚   â””â”€ Life support seed modules
â”‚
â”œâ”€ Cycler docks at moon orbit
â”œâ”€ Use cycler as base while building
â”œâ”€ Extract regolith â†’ process â†’ fabricate locally
â”œâ”€ Build lava tube base from local materials (18 months)
â”œâ”€ Cycler departs once base operational
â””â”€ Total imports: <5% of final mass

### Mars Constructor Example:
- **Fit:** Mining drones, refining equipment, hollowing tools, station modules, processing systems
- **Deploy:** Capture asteroid, hollow for depot, deploy drones to belt, build multi-node network
- **Transfer:** Drones to belt operations, refiners to Ceres base, hollowing equipment to Phobos/Deimos
- **Return:** Load refined metals from belt operations

**Cycler Brings:**
- Asteroid mining drones (deploy to belt)
- Refining equipment (transfer to Ceres base)
- Hollowing equipment (for Phobos/Deimos)
- Station modules (for orbital infrastructure)
- Processing systems (distribute across bases)

**Final State:**
- Phobos: Orbital station (received equipment)
- Deimos: Orbital depot (received equipment)
- Ceres: Belt hub (received refining equipment)
- Belt: Mining drones operational
- Cycler: Returns with refined metals from belt
- System: Multi-node operation (Expanse style)

Mars Pattern - Balanced Resources
System has: Small moons, asteroid belt, Ceres-equivalent

AI Decision: Path C (Hybrid)
â”œâ”€ Transport via cycler:
â”‚   â”œâ”€ Core station module (pre-fab, critical systems)
â”‚   â”œâ”€ Mining drones (seed fleet)
â”‚   â”œâ”€ Refining equipment
â”‚   â”œâ”€ Hollowing equipment (for moon conversion)
â”‚   â””â”€ ISRU processors
â”‚
â”œâ”€ Cycler docks at Phobos-equivalent
â”œâ”€ Use imported module as initial base
â”œâ”€ Deploy drones to hollow out moon
â”œâ”€ Build additional sections from asteroid materials
â”œâ”€ Expand to Ceres, establish belt operations
â””â”€ Total imports: ~20% (hybrid approach)

### Titan Harvester Example (Siphon System):
- **Fit:** Atmospheric probes, EM inductors, gas processing units, orbital depot modules
- **Deploy:** Settle Titan for hydrocarbon processing, deploy siphoning rigs to Saturn, build orbital depot
- **Transfer:** Processing equipment to Titan base, siphoning rigs to Saturn orbit, depot modules to storage hub
- **Return:** Load processed hydrocarbons and EM fuel, maintain network supply

**Cycler Brings:**
- Atmospheric probes (deploy to Saturn)
- EM inductor units (transfer to AWS)
- Gas processing equipment (transfer to Titan base)
- Orbital depot modules (assemble into storage hub)
- Siphoning rigs (deploy to Saturn atmosphere)

**Final State:**
- Titan: Hydrocarbon processing base operational
- Saturn: Atmospheric siphoning rigs extracting gases
- Orbital Depot: Massive storage buffer for network supply
- AWS: Powered by local EM harvest (self-sustaining loop)
- System: Resource extraction hub supplying entire network

Titan Pattern - Siphon System
System has: Gas giant with volatile-rich moon

AI Decision: Path B (Seed Equipment) - Resource Extraction Focus
â”œâ”€ Transport via cycler:
â”‚   â”œâ”€ Atmospheric probes (for gas analysis)
â”‚   â”œâ”€ EM inductor units (for wormhole stabilization)
â”‚   â”œâ”€ Gas processing equipment
â”‚   â”œâ”€ Orbital depot modules
â”‚   â””â”€ Siphoning rigs (for gas giant extraction)
â”‚
â”œâ”€ Cycler docks at Titan orbit
â”œâ”€ Deploy probes to analyze Saturn atmosphere
â”œâ”€ Establish Titan foothold for hydrocarbon processing
â”œâ”€ Deploy siphoning rigs to Saturn for gas extraction
â”œâ”€ Build orbital depot as storage/production buffer
â”œâ”€ Create EM loop: Local harvest â†’ AWS stabilization
â””â”€ Total imports: ~15% (optimized for extraction, not colonization)

---

## ðŸ§  AI Manager Learning Framework: Mission Profiles as Techniques

### How the AI Learns: Pattern Recognition from JSON Mission Profiles

The AI Manager learns deployment techniques by analyzing successful mission profiles stored in `/data/json-data/missions/`. Each JSON file represents a proven "technique" that can be applied to compatible systems.

**Learning Process:**
1. **Pattern Extraction**: AI parses mission JSON files to identify core patterns (Luna, Mars, Venus, Titan)
2. **System Analysis**: When discovering new systems, AI analyzes characteristics (moons, atmosphere, resources, asteroids)
3. **Pattern Matching**: AI matches system characteristics to learned patterns from mission profiles
4. **Adaptation**: AI adapts the proven technique to the specific system's unique characteristics
5. **Execution**: AI autonomously configures equipment and executes the deployment using the learned pattern

**Example Learning from Venus Harvester Mission:**
```json
{
  "pattern": "venus_harvester",
  "equipment": ["atmospheric_probes", "gas_processing", "orbital_depot"],
  "system_requirements": {"atmosphere": "dense", "resources": ["CO2", "N2"]},
  "deployment_sequence": ["analyze_atmosphere", "deploy_processors", "build_depot"],
  "economic_model": {"path": "A", "imports": "25%", "roi": "high"}
}
```

**AI Logic Pseudocode:**
```ruby
def select_deployment_pattern(system_data)
  # Learn from mission profiles
  learned_patterns = load_mission_profiles()
  
  # Analyze system characteristics
  system_profile = analyze_system(system_data)
  
  # Find best pattern match
  best_match = learned_patterns.find do |pattern|
    pattern_matches_system?(pattern, system_profile)
  end
  
  # Adapt pattern to system specifics
  adapted_pattern = adapt_pattern(best_match, system_profile)
  
  return adapted_pattern
end
```

**The Learning Loop:**
- **Initial Training**: AI executes patterns in Sol system (Luna, Mars, Venus, Titan)
- **Pattern Library Growth**: Each successful deployment adds to the technique library
- **Autonomous Application**: AI applies learned techniques to wormhole-discovered systems
- **Continuous Refinement**: Success/failure feedback improves future pattern selection

This framework ensures the AI Manager can autonomously expand to any compatible system by applying proven, data-driven techniques learned from the initial Sol system deployments.

---

## âš™ï¸ Artificial Wormhole Station & Counterbalance Model: Technical and Gameplay Details

### Overview
The Artificial Wormhole Station (AWS) is the only structure used for counterbalancing. When paired with a natural (or another artificial) wormhole, both links stabilize each other, reducing EM requirements and enabling robust, stable expansion. All logic is data-driven and pattern-based.

**Simple Analogy: Setting Up a Tent**
The physics of stabilizing a wormhole can be very technical, but it works exactly like setting up a tent.

The Natural Hole (The Pole): A natural wormhole is like a tent pole standing in the wind. By itself, it is unstable and prone to falling over (The Snap).

The Artificial Station (The Guidewire): The Artificial Wormhole Station (AWS) acts as the guidewire. By pulling in the opposite direction at the L3 anchor point, it creates tension.

The Dual-Link (The Counterbalance): When you have the "pole" (Natural) and the "guidewire" (Artificial) pulling against each other, the entire structure becomes rock-solid.

The Benefit: This "counterbalance" allows the Consortium to move massive amounts of cargo without the "pole" ever snapping, as the artificial station adjusts the tension in real-time.

### Deployment & Operation
- **Phase 1 - Immediate Stabilization**: When system analysis (ScoutLogic) detects an unstable natural wormhole, deploy orbiting stabilization satellites that gather expelled EM and refocus it at the wormhole throat for temporary stability.
- **Phase 2 - Permanent Infrastructure**: 
  - **EM Harvesting AWS**: Build primary AWS at or near the natural wormhole location to harvest expelled EM and provide basic stabilization.
  - **Counterbalance AWS**: If the optimal gravitational counterbalance point (typically L3 Lagrange point) differs from the natural wormhole location, construct a secondary AWS there for enhanced stability.
- **Phase 3 - Satellite Retirement**: Once AWS network is operational and stable, temporary stabilization satellites can be retrieved and redeployed elsewhere.
- **Shift Event Handling**: When a wormhole shifts to a new location, rebuild AWS infrastructure at the new natural wormhole location to maintain EM harvesting capability, then add counterbalance station if needed.
- The AWS does not create a new wormhole, but stabilizes the existing one by generating a synthetic gravitational field.
- In advanced cases, two functional wormholes (natural + artificial) can be paired, each connecting to different systems, forming a dual-link hub.
- Brown Dwarfs can be used as secondary anchors to enhance stability.

### EM Flow & Synchronization Logic
- **EM Harvesting Location**: EM Harvesters are deployed at the natural wormhole location to extract Exotic Matter (EM) from expelled emissions.
- **AWS Placement Options**: 
  - **Co-located AWS**: Primary stabilization station built at natural wormhole for direct EM harvesting and basic stabilization.
  - **Separate Counterbalance AWS**: Additional station at gravitational optimum (L3 point) for enhanced stability, connected via EM transport network.
- **EM Routing**: Extracted EM is routed to nearby AWS (co-located) or transported across system to counterbalance AWS, powering stabilization fields.
- The AWS uses EM to generate a counterbalancing gravitational pull, keeping the natural wormhole stable.
- If the AWS is overpowered (excess EM), it can open a second, stable functional link to another system, increasing network bandwidth.
- The AI Manager continuously monitors EM income, maintenance cost, and throughput cost (based on mass transiting the wormhole).
- If Net_EM (income - maintenance - throughput) goes negative, stability degrades and Snap risk increases.

### Backend & Gameplay Consequences
- **EM Tax:** AWS requires a constant flow of EM. If supply drops, counterbalance weakens and Snap risk rises exponentially.
- **Mass Sensitivity:** Large transits (e.g., moving a planetary hub) cause gravitational spikes. The AWS must surge power, consuming large amounts of EM instantly.
- **Sabotage & Maintenance:** If the AWS is damaged or runs out of repair panels, the natural wormhole snaps, orphaning the other side. Emergency contracts are triggered for repairs.
- **Player Roles:**
	- Station Construction: Players deliver shielded_structural_panels and EM Inductors.
	- EM Fuel Runs: Players transport EM from harvesters to the AWS, earning GCC.
	- Emergency Maintenance: Players respond to Snap warnings, repairing the AWS to prevent disaster.
- **Failure Chain:**
	1. EM Harvester fails â†’ AWS loses power
	2. AWS counterbalance fails â†’ Natural wormhole destabilizes
	3. Snap event â†’ System is orphaned
- **Sync Status Check:**
	- Backend logic regularly checks if (natural_wormhole.unstable? && artificial_wormhole.active_counter_balance?).
	- If stability < safety_threshold, trigger log: "CRITICAL: Gravitational Sync failing. Snap imminent."

### Data-Driven Pattern Logic
- All deployment and stabilization logic is triggered by system metadata (e.g., stability_multiplier, anchor_type, EM availability).
- The AI Manager selects the counterbalance pattern when no natural anchor is present and prize_score/resource_value justifies the investment.
- All mission profiles and backend logic are system-agnostic and adapt to any system configuration.

### Closed-Loop Energy & Network Topology
- In optimal setups, EM harvested from the natural wormhole powers the AWS, creating a self-sustaining loop (Logistics Battery).
- Dual-link hubs can connect three or more systems, with the AWS acting as both stabilizer and network router.
- Brown Dwarfs enhance the network as high-stability hubs.
- If any link in the chain fails, the system is at risk of Snap, making maintenance and player engagement critical.

### Summary Table: AWS Counterbalance Model
| Feature                | Description                                                                 |
|------------------------|-----------------------------------------------------------------------------|
| Trigger                | Unstable natural wormhole, no natural anchor                                 |
| Structure              | Artificial Wormhole Station (no separate anchor station)                     |
| Power Source           | EM harvested from natural wormhole                                          |
| Main Function          | Counterbalance, stabilize, and optionally open a second link                 |
| Failure Modes          | EM shortage, station damage, maintenance lapse â†’ Snap event                  |
| Player Involvement     | Construction, EM delivery, emergency repair, logistics                       |
| Data-Driven?           | Yes, all logic and triggers are pattern-based and system-agnostic            |

- All deployment, stability, and counterbalance logic is determined by system metadata and pattern-matching, not by explicit system names or types
- The Artificial Wormhole Station is the only structure used for counterbalancing; no separate anchor station exists
- Dual-link counterbalance model is the default for stabilizing unstable wormholes
- Brown Dwarfs serve as secondary anchors for enhanced stability
- All economic and AI logic is pattern-based and adapts to any system profile

---

## ðŸª Established System Constraints: AWS Deployment in Existing Systems

### Overview
While the counterbalance model works well for newly discovered systems, established systems like Sol present unique challenges due to existing orbital dynamics and planetary stability. AWS deployment in such systems requires careful positioning to avoid gravitational disruption while maintaining network functionality.

### Key Constraints for Established Systems
- **Orbital Disruption Risk**: AWS gravitational fields can perturb existing planetary orbits, especially delicate moon systems
- **Inner System Protection**: AWS are typically placed in outer systems to avoid disrupting inner planet stability
- **Gravitational Balancing**: AI Manager must carefully balance AWS placements to prevent cascading orbital effects
- **No Direct Inner System Links**: AWS cannot connect directly to inner planets (Mercury, Venus, Earth, Mars) to preserve system stability

### AWS Placement Rules for Sol System
1. **Outer System Only**: AWS deployment restricted to gas giants and beyond (Jupiter outward)
2. **Safe Distance Requirements**: Minimum distance from planetary bodies to avoid moon orbit disruption
3. **Dual-Link Mandatory**: All AWS in established systems must be paired with another AWS for counterbalance
4. **AI Management**: AI Manager enforces placement rules and monitors orbital stability

### Uranus-Specific AWS Deployment
- **Positioning**: AWS placed at safe orbital distance from Uranus (beyond major moon orbits) but not at L3 to avoid disruption
- **Counterbalance Pairing**: Must be paired with another AWS on the opposite side of the Sol system (e.g., Jupiter or Saturn AWS)
- **Axial Tilt Compensation**: Specialized systems account for Uranus' 98Â° tilt in orbital calculations
- **EM Harvesting Focus**: Utilizes Uranus' magnetosphere for EM collection while maintaining distance

### AI Manager Responsibilities
- **Placement Validation**: Ensures AWS positioning meets safety thresholds and gravitational balance
- **Orbital Monitoring**: Tracks potential disruption effects on moon systems and planetary orbits
- **Gravitational Balancing**: Calculates and optimizes AWS placements to minimize cumulative orbital effects
- **Risk Assessment**: Evaluates orbital disruption probability and network benefits before deployment

### Gameplay Implications
- **Strategic Decisions**: Players must choose AWS locations carefully to balance network benefits vs. orbital risks
- **Maintenance Contracts**: Higher priority for AWS in established systems due to stability concerns
- **Emergency Protocols**: Orbital disruption events trigger system-wide alerts and repair missions

---

## ðŸ’° Economic Considerations: AWS Deployment ROI in Established Systems

### High Cost of AWS Infrastructure
- **Construction Costs**: AWS require massive investment (45M+ GCC) in specialized components and construction time
- **Maintenance Burden**: Continuous EM fuel requirements create ongoing operational costs
- **Resource Competition**: EM harvesting competes with other system activities and has limited natural production

### EM Resource Constraints in Established Systems
- **Limited Natural Production**: Sol's wormholes have finite EM output that must be shared across all AWS
- **Maintenance Tax**: Each AWS consumes EM for stabilization, reducing available fuel for expansion
- **Resource Competition**: EM harvesting from established wormholes may be less efficient than new discoveries

### Sol System Unique Advantages
- **Jupiter's Natural Stability**: Jupiter's massive gravity provides inherent stabilization for Sol's wormhole network
- **Permanent Setup Potential**: Technology + AWS can create enduring stability, enabling harvesting and scouting
- **Established Infrastructure**: Existing orbital infrastructure reduces some deployment costs

### ROI Analysis Framework for AI Manager

**Intra-System Expansion (Building More AWS in Sol)**
- **Pros**: Direct access to Uranus resources, reduced transit times, consolidated control
- **Cons**: High construction costs, EM resource strain, orbital disruption risks
- **ROI Factors**: Resource value vs. construction cost, EM efficiency, orbital stability impact

**Inter-System Expansion (Connecting to New Systems)**
- **Pros**: Access to fresh EM sources, new resource opportunities, potentially easier EM harvesting
- **Cons**: Higher initial exploration risk, longer transit times, network complexity
- **ROI Factors**: New system resource potential, EM harvesting efficiency, wormhole stability

**AI Decision Logic**:
```ruby
def evaluate_aws_roi(established_system, new_system_discovery, available_resources)
  # When resources are abundant, prioritize network expansion over optimization
  if available_resources[:em_excess] && available_resources[:construction_capacity]
    exploration_bonus = calculate_exploration_potential(new_system_discovery)
    if exploration_bonus > established_system[:resource_value]
      return :prioritize_network_expansion
    end
  end
  
  intra_system_cost = calculate_construction_cost(established_system) + 
                     calculate_em_maintenance_cost(established_system) + 
                     calculate_orbital_risk_penalty(established_system)
  
  inter_system_cost = calculate_exploration_cost(new_system_discovery) + 
                     calculate_connection_cost(new_system_discovery)
  
  intra_system_benefit = calculate_resource_access_value(established_system) + 
                        calculate_network_efficiency_gain(established_system)
  
  inter_system_benefit = calculate_new_resource_value(new_system_discovery) + 
                        calculate_em_harvesting_potential(new_system_discovery) + 
                        calculate_expansion_opportunity(new_system_discovery) +
                        calculate_unknown_resource_potential(new_system_discovery)
  
  # Network expansion gets priority weighting when resources allow
  expansion_weight = available_resources[:em_excess] ? 1.5 : 1.0
  
  if (inter_system_benefit * expansion_weight) / inter_system_cost > intra_system_benefit / intra_system_cost
    return :expand_to_new_system
  else
    return :build_in_established_system
  end
end
```

**Strategic Priorities**:
1. **Resource Abundance Check**: When EM and construction capacity are plentiful, favor exploration
2. **Unknown Resource Potential**: Weight the value of discovering new systems heavily
3. **Network Expansion Value**: Long-term connectivity benefits outweigh short-term transport optimization
4. **Risk-Adjusted Returns**: Factor in orbital stability and exploration uncertainties

### Network Expansion Priority in Resource Abundance

When the AI Manager has excess EM and construction resources, network expansion to the local bubble takes precedence over optimizing existing routes. The potential value of unknown systemsâ€”containing undiscovered resources, easier EM harvesting opportunities, or strategic positioningâ€”outweighs the benefits of simply speeding up Uranus resource transport. This creates a growth-oriented strategy that continuously expands the Consortium's reach rather than optimizing established infrastructure.

---

## Component Definitions & Templates

All new components for the AWS counterbalance system have been defined using proper Galaxy Game templates to ensure compatibility and non-breaking integration:

### Units (Processing & Generation)
- **EM Inductor Unit**: `unit_blueprint_v1.3.json` + `unit_operational_data_v1.2.json`
  - Category: `em_processing`
  - Harnesses EM from wormholes, outputs exotic_matter
  - Power: 100 kW, Hazard Level: 3

- **Gravitational Inductor Unit**: `unit_blueprint_v1.3.json` + `unit_operational_data_v1.2.json`
  - Category: `gravitational_control`
  - Generates gravitational fields for stabilization
  - Power: 200 kW, Hazard Level: 4

### Modules (Specialized Components)
- **EM Storage Module**: `base_module_blueprint.json` + `module_operational_data.json`
  - Category: `storage`, Subcategory: `em_containment`
  - Stores up to 500 EM units securely
  - Power: 50 kW, Mounting Points: 4

- **Stabilization Core Module**: `base_module_blueprint.json` + `module_operational_data.json`
  - Category: `control`, Subcategory: `wormhole_stabilization`
  - Integrates EM and gravitational systems
  - Power: 150 kW, Mounting Points: 6

### Rigs (Structural Enhancements)
- **Wormhole Anchor Rig**: `rig_blueprint_v1.2.json` + `rig_operational_data_v1.1.json`
  - Provides structural stability and anchoring effects
  - Effects: `structural_stability` (multiplier: 1.2), `anchoring` (bonus: 0.15)
  - Instability: 0.05, CPU Usage: 5

### Structures (Orbital Facilities)
- **Artificial Wormhole Station Mk1**: `orbital_structure_blueprint_v1.json` + `structure_operational_data.json`
  - Category: `orbital`, Subcategory: `wormhole_station`
  - Container for 150 energy_storage_units, 50 EM inductors, 20 gravitational inductors
  - Power: 10,000 kW, Mass: 2M kg, Construction: 1,440 hours

### Probes (Scouting & Survey Craft)
- **Generic Probe Chassis**: `generic_probe_bp.json` (versatile platform)
  - One-size-fits-all design for initial implementation
  - Specialized through operational data configurations
  - Future expansion may introduce different probe classes/sizes
- **System Survey Probe**: Uses `generic_probe_bp.json` + `system_survey_probe_data.json`
  - Multi-spectrum sensors for comprehensive system reconnaissance
  - Specialized fit: advanced sensors, atmospheric/geological sensors, spectroscopic sensor
  - 75 kW power, 2M kg mass, 100 GB/hr data collection
- **Resource Assessment Probe**: Uses `generic_probe_bp.json` + `resource_assessment_probe_data.json`
  - Specialized for resource detection and economic assessment
  - Specialized fit: spectroscopic sensors, geological sensors, mineral detector
  - 60 kW power, 1.8M kg mass, 500 km detection range
- **Threat Assessment Probe**: Uses `generic_probe_bp.json` + `threat_assessment_probe_data.json`
  - Radiation-hardened for hazard and safety evaluation
  - Specialized fit: radiation sensors, biological sensors, hazard detector, radiation shielding
  - 50 kW power, 2.2M kg mass, 1000 Sv radiation tolerance
- **Atmospheric Probe**: Uses `generic_probe_bp.json` + `atmospheric_probe_data.json`
  - Atmospheric analysis and planetary entry capabilities
  - Specialized fit: atmospheric sensors, pressure/temperature sensors, gas analyzer
  - 25 kW power, 1.2M kg mass, 50 GB/hr atmospheric data

**Template Compliance Notes:**
- Units use `unit_blueprint_v1.3.json` and `unit_operational_data_v1.2.json`
- Modules use `base_module_blueprint.json` and `module_operational_data.json`
- Rigs use `rig_blueprint_v1.2.json` and `rig_operational_data_v1.1.json`
- Structures use `orbital_structure_blueprint_v1.json` and `structure_operational_data.json`
- Crafts/Probes use `base_craft.json` and `craft_operational_data.json`
- All components include proper hazards, power consumption, and interface definitions
- Components are ready for integration into AI Manager patterns and mission profiles

---

## Structural Relationships & Integration

To complete the Wormhole Expansion Plan (v4), we must define the structural relationships between the high-level governance and the low-level deployment mechanics.

### 1. Document Cross-References
The following relationships define how the Consortium and AI Manager interact with the existing codebase and mission protocols:

**CONSTRUCTION_REFACTOR & Mission Profiles**: This document governs how the AI Manager interprets the Luna, Mars, and Venus patterns found in the mission JSONs. Its most relevant sections define the "Phase-Switching" logic, allowing the AI to move from surface mining (LDC expertise) to orbital construction (AstroLift expertise).

**Wormhole Contracts & base_organization.rb**: The "Wormhole Contracts" are the legal and financial templates the Consortium uses to issue Maintenance Levies or Route Proposals. These link directly to the distribute_consortium_profits and consortium_dashboard methods in the organizational code to track player dividends and corporate voting power.

**wormhole_consortium_formation_service.rb**: This is the "Constitutional" document for the network. It defines the specific entry requirements for members like the LDC and AstroLift, setting the initial capital and board seat thresholds.

### 2. Patterns (The "How") vs. Paths (The "Where")
To clarify the expansion logic, it is best to view Patterns as the technical toolkit and Paths as the strategic destination.

**The Patterns (In-Situ Resource Utilization)**  
These are the specialized deployment methods the AI Manager learns in Act 1 to avoid Earth imports:

- **Luna Pattern**: Used for systems with large moons. Focuses on Surface â†’ Moon Refinery â†’ L1 Depot.
- **Mars Pattern**: Used for moonless systems. Focuses on Asteroid Capture â†’ Hollowed-Out Depot â†’ Surface Descent.
- **Venus Pattern**: Used for high-hazard or atmospheric-rich systems. Focuses on Orbital Siphoning â†’ Atmospheric Processing.

**The Paths (Strategic Expansion Routes)**  
Paths are the "Gamble" options presented to the Consortium in Act 4 after a Snap event shifts the network exit:

- **Path A (The Prize Path)**: Focused on habitable Super-Mars systems. High initial build cost but highest long-term transit fee revenue.
- **Path B (The Siphon Path)**: Focused on Brown Dwarf Hubs or Gas Giants. Lower revenue but provides the EM fuel and volatiles required to keep the rest of the network stable.
- **Path C (The Gateway Path)**: Focused on establishing "Deep Dark" outposts at L3 Lagrange points to scout even further systems.

### 3. Simplified Logic Flow
**The Event**: A natural wormhole Snaps, shifting the exit and orphaning a colony.

**The Strategy**: The Consortium votes on a Path (A, B, or C) based on the ROI of the new exit point.

**The Execution**: The AI Manager selects a Pattern (Luna, Mars, or Venus) based on the physical data of the system (moons, asteroids, atmosphere).

**The Result**: A Dual-Link Hub is built at the L3 Anchor, providing stable transit and dividends for Consortium members.

---

## Actionable Grok Tasks for v4 Integration

- [ ] Membership Invites: Set the AI to invite LDC (Production) and AstroLift (Logistics) as founding members once the first "Snap" event occur.

- [ ] Brown Dwarf Profiling: Update ScoutLogic to tag Brown Dwarfs as high-priority "Siphon Hubs" for EM harvesting.

- [ ] L3 Reconnection Logic: Program the StrategySelector to prioritize L3 anchoring for any re-established link.

- [ ] Dividend Logic: Ensure the FinancialTransaction system routes transit fees to the corporations that provided the initial "Gamble" funding.

- [ ] Cycler Base Blueprint: Create base_cycler_bp.json as generic platform.

- [ ] Cycler Operational Data: Create operational data files for Venus, Mars, Titan, Belt, Luna, and Kinetic Hammer configurations.

- [ ] Unit Transfer Mechanics: Implement transfer logic for mission equipment to permanent infrastructure.

- [ ] Mission Fit Selection: Program AI Manager to select appropriate cycler configuration based on target system analysis.

This document now represents the final, consolidated v4 plan with all discussed elements included.

---

## ðŸŒŒ Autonomous Expansion Capability: The Complete Framework

### Mission Profiles â†’ AI Learning â†’ Galactic Expansion

**The Foundation**: JSON mission profiles are the "techniques" that teach the AI Manager proven deployment patterns.

**The Learning**: AI analyzes successful missions to extract reusable patterns (Luna, Mars, Venus, Titan) that work across different systems.

**The Application**: When wormholes are discovered, AI autonomously:
1. Analyzes the new system's characteristics
2. Matches them to learned patterns from mission profiles  
3. Adapts the proven technique to the system's specifics
4. Executes the deployment with minimal Earth dependency

**The Result**: Self-sustaining galactic expansion where the AI Manager can build footholds in any compatible system using techniques learned from Sol system deployments.

**Key Achievement**: The plan transforms one-time missions into a reusable technique library, enabling continuous, autonomous expansion across the galaxy.

---

## ðŸš€ Next Steps

1. Review this updated plan for alignment
2. Confirm all logic is data-driven and system-agnostic
3. Prioritize implementation phases for development

_Last updated: 2026-01-08_